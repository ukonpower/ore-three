!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("three")):"function"==typeof define&&define.amd?define(["three"],e):"object"==typeof exports?exports.ORE=e(require("three")):t.ORE=e(t.THREE)}(self,(function(t){return(()=>{var e={714:function(t,e){(function(){(null!==e?e:this).Lethargy=function(){function t(t,e,n,i){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=n?1+Math.abs(n):1.1,this.delay=null!=i?i:150,this.lastUpDeltas=function(){var t,e,n;for(n=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)n.push(null);return n}.call(this),this.lastDownDeltas=function(){var t,e,n;for(n=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)n.push(null);return n}.call(this),this.deltasTimestamp=function(){var t,e,n;for(n=[],t=1,e=2*this.stability;1<=e?t<=e:t>=e;1<=e?t++:t--)n.push(null);return n}.call(this)}return t.prototype.check=function(t){var e;return null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:null==t.detail&&0!==t.detail||(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),e>0?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,n,i,r,o,s,a;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(i=e.slice(0,this.stability),n=e.slice(this.stability,2*this.stability),a=i.reduce((function(t,e){return t+e})),o=n.reduce((function(t,e){return t+e})),s=a/i.length,r=o/n.length,Math.abs(s)<Math.abs(r*this.tolerance)&&this.sensitivity<Math.abs(r)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(this)},885:t=>{t.exports=function(t,e){e||(e=[0,""]),t=String(t);var n=parseFloat(t,10);return e[0]=n,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},810:(t,e,n)=>{"use strict";var i=n(885);t.exports=a;var r=s("in",document.body);function o(t,e){var n=i(getComputedStyle(t).getPropertyValue(e));return n[0]*a(n[1],t)}function s(t,e){var n=document.createElement("div");n.style.height="128"+t,e.appendChild(n);var i=o(n,"height")/128;return e.removeChild(n),i}function a(t,e){if(!t)return null;switch(e=e||document.body,t=(t+""||"px").trim().toLowerCase(),e!==window&&e!==document||(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return s(t,e);case"em":return o(e,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return r;case"cm":return r/2.54;case"mm":return r/25.4;case"pt":return r/72;case"pc":return r/6;case"px":return 1}var n=i(t);if(!isNaN(n[0])&&n[1]){var l=a(n[1],e);return"number"==typeof l?n[0]*l:null}return null}},250:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Animator:()=>g,Background:()=>b,BaseLayer:()=>l,Controller:()=>m,DOMMesh:()=>P,Easings:()=>r,EventDispatcher:()=>E,GPUComputationController:()=>x,LayoutController:()=>O,Lerps:()=>o,MouseRotator:()=>_,PageScroller:()=>A,PageScrollerSection:()=>D,Pointer:()=>f,PostProcessing:()=>T,TimelineAnimator:()=>M,UniformsLib:()=>v});var i,r,o,s=n(807),a=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(){var e=t.call(this)||this;return e.readyAnimate=!1,e.time=0,e.info={name:"",canvas:null,wrapperElement:null,wrapperElementRect:null,aspect:{mainAspect:16/9,wideAspect:10,portraitAspect:.5,portraitWeight:0,wideWeight:0},size:{windowSize:new s.Vector2,windowAspectRatio:1,canvasSize:new s.Vector2,canvasPixelSize:new s.Vector2,canvasAspectRatio:1}},e.commonUniforms={time:{value:0}},e.scene=new s.Scene,e.camera=new s.PerspectiveCamera(50,1,.1,1e3),e}return a(e,t),e.prototype.tick=function(t){this.time+=t,this.commonUniforms.time.value=this.time,this.readyAnimate&&this.animate(t)},e.prototype.animate=function(t){},e.prototype.onBind=function(t){var e=this;this.info.name=t.name,this.info.canvas=t.canvas,this.info.wrapperElement=t.wrapperElement,this.info.wrapperElementRect=t.wrapperElement&&t.wrapperElement.getBoundingClientRect(),this.info.aspect=t.aspect||this.info.aspect,this.renderer=new s.WebGLRenderer(this.info),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.debug.checkShaderErrors=!0,setTimeout((function(){e.onResize(),e.readyAnimate=!0}),0)},e.prototype.onUnbind=function(){this.removeChildrens(this.scene),this.readyAnimate=!1},e.prototype.removeChildrens=function(t){for(var e=t.children.length-1;e>=0;e--){this.removeChildrens(t.children[e]);var n=void 0,i=void 0;t.children[e].isMesh&&(n=t.children[e].geometry,i=t.children[e].material),t.remove(t.children[e]),n&&n.dispose(),i&&i.dispose()}},e.prototype.onResize=function(){var t=new s.Vector2(window.innerWidth,window.innerHeight),e=new s.Vector2;this.info.wrapperElement?e.set(this.info.wrapperElement.clientWidth,this.info.wrapperElement.clientHeight):e.copy(t);var n=1-(e.x/e.y-this.info.aspect.portraitAspect)/(this.info.aspect.mainAspect-this.info.aspect.portraitAspect);n=Math.min(1,Math.max(0,n));var i=1-(e.x/e.y-this.info.aspect.wideAspect)/(this.info.aspect.mainAspect-this.info.aspect.wideAspect);i=Math.min(1,Math.max(0,i)),this.info.size.windowSize.copy(t),this.info.size.windowAspectRatio=t.x/t.y,this.info.size.canvasSize.copy(e),this.info.size.canvasPixelSize.copy(e.clone().multiplyScalar(this.renderer.getPixelRatio())),this.info.size.canvasAspectRatio=e.x/e.y,this.info.aspect.portraitWeight=n,this.info.aspect.wideWeight=i,this.renderer.setSize(this.info.size.canvasSize.x,this.info.size.canvasSize.y),this.camera.aspect=this.info.size.canvasAspectRatio,this.camera.updateProjectionMatrix(),this.info.wrapperElement&&(this.info.wrapperElementRect=this.info.wrapperElement.getBoundingClientRect())},e.prototype.pointerEvent=function(t){var e=t.position.clone();this.info.wrapperElementRect&&(e.x-=this.info.wrapperElementRect.x,e.y-=this.info.wrapperElementRect.y);var n=e.clone();n.divide(this.info.size.canvasSize),n.y=1-n.y,n.multiplyScalar(2).subScalar(1);var i={event:t.pointerEvent,position:e.clone(),delta:t.delta.clone(),normalizedPosition:n.clone(),windowPosition:t.position.clone()};"hover"==t.pointerEventType?this.onHover(i):"start"==t.pointerEventType?this.onTouchStart(i):"move"==t.pointerEventType?this.onTouchMove(i):"end"==t.pointerEventType&&this.onTouchEnd(i)},e.prototype.onTouchStart=function(t){},e.prototype.onTouchMove=function(t){},e.prototype.onTouchEnd=function(t){},e.prototype.onHover=function(t){},e.prototype.onWheel=function(t,e){},e}(s.EventDispatcher),c=n(714),h=n(810),u=n.n(h),p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),f=function(t){function e(){var e=t.call(this)||this;e.trackpadMemDelta=0,e.trackpadMax=!1,e.lethargy=new c.Lethargy(7,0,.05),e.position=new s.Vector2(NaN,NaN),e.delta=new s.Vector2(NaN,NaN);var n=navigator.userAgent;return e.isSP=n.indexOf("iPhone")>=0||n.indexOf("iPad")>=0||n.indexOf("Android")>=0||"iPad"==navigator.platform||"MacIntel"==navigator.platform&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&void 0!==navigator.standalone,window.addEventListener("touchstart",e.onTouch.bind(e,"start"),{passive:!1}),window.addEventListener("touchmove",e.onTouch.bind(e,"move"),{passive:!1}),window.addEventListener("touchend",e.onTouch.bind(e,"end"),{passive:!1}),window.addEventListener("pointerdown",e.onPointer.bind(e,"start")),window.addEventListener("pointermove",e.onPointer.bind(e,"move")),window.addEventListener("pointerup",e.onPointer.bind(e,"end")),window.addEventListener("dragend",e.onPointer.bind(e,"end")),window.addEventListener("wheel",e.wheel.bind(e),{passive:!1}),e.position.set(NaN,NaN),e.isTouching=!1,e}return p(e,t),e.prototype.getNormalizePosition=function(t){if(this.position.x!=this.position.x)return new s.Vector2(NaN,NaN);var e=this.position.clone().divide(t).multiplyScalar(2).subScalar(1);return e.y*=-1,e},e.prototype.getRelativePosition=function(t,e){var n,i=t.getClientRects()[0],r=n.x-i.left,o=n.y-i.top;return e&&(r/=i.width,o/=i.height),new s.Vector2(r,o)},e.prototype.setPos=function(t,e){this.position.x!=this.position.x||this.position.y!=this.position.y?this.delta.set(0,0):this.delta.set(t-this.position.x,e-this.position.y),this.position.set(t,e)},e.prototype.onTouch=function(t,e){var n=e.touches[0];n?this.touchEventHandler(n.pageX,n.pageY,t,e):"end"==t&&this.touchEventHandler(NaN,NaN,t,e)},e.prototype.onPointer=function(t,e){"mouse"!=e.pointerType||-1!=e.button&&0!=e.button||this.touchEventHandler(e.pageX,e.pageY,t,e)},e.prototype.touchEventHandler=function(t,e,n,i){var r=!1,o=t-window.pageXOffset,s=e-window.pageYOffset;"start"==n?(this.isTouching=!0,this.setPos(o,s),this.delta.set(0,0),r=!0):"move"==n?(this.setPos(o,s),this.isTouching&&(r=!0)):"end"==n&&(this.isTouching=!1,r=!0),r&&this.dispatchEvent({type:"update",pointerEvent:i,pointerEventType:n,position:this.position.clone(),delta:this.delta.clone()})},e.prototype.update=function(){this.isSP||this.dispatchEvent({type:"update",pointerEvent:null,pointerEventType:"hover",position:this.position.clone(),delta:this.delta.clone()})},e.prototype.wheel=function(t){var e=t.deltaY,n=0;switch(t.deltaMode){case t.DOM_DELTA_LINE:e*=2.5*u()("ex",window);break;case t.DOM_DELTA_PAGE:e*=window.innerHeight}this.lethargy.check(t)&&(n=e),this.dispatchEvent({type:"wheel",wheelEvent:t,trackpadDelta:n})},e}(s.EventDispatcher),d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),m=function(t){function e(e){var i=t.call(this)||this;return i.layers=[],e&&e.silent||console.log("%c- ore-three "+n(306).i8+" -","padding: 5px 10px ;background-color: black; color: white;font-size:11px"),i.clock=new s.Clock,i.pointer=new f,i.pointer.addEventListener("update",i.pointerEvent.bind(i)),i.pointer.addEventListener("wheel",i.onWheel.bind(i)),window.addEventListener("orientationchange",i.onOrientationDevice.bind(i)),window.addEventListener("resize",i.onWindowResize.bind(i)),i.tick(),i}return d(e,t),e.prototype.tick=function(){var t=this.clock.getDelta();this.pointer.update();for(var e=0;e<this.layers.length;e++)this.layers[e].tick(t);requestAnimationFrame(this.tick.bind(this))},e.prototype.getLayer=function(t){for(var e=0;e<this.layers.length;e++)if(this.layers[e].info.name==t)return this.layers[e];return null},e.prototype.addLayer=function(t,e){for(;this.getLayer(e.name);)e.name+="_";t.onBind(e),this.layers.push(t)},e.prototype.removeLayer=function(t){for(var e=this.layers.length;e>=0;e--)this.layers[e].info.name==t&&this.layers.splice(e,1)},e.prototype.onWindowResize=function(){for(var t=0;t<this.layers.length;t++)this.layers[t].onResize()},e.prototype.onOrientationDevice=function(){this.onWindowResize()},e.prototype.pointerEvent=function(t){for(var e=0;e<this.layers.length;e++)this.layers[e].pointerEvent(t)},e.prototype.onWheel=function(t){for(var e=0;e<this.layers.length;e++)this.layers[e].onWheel(t.wheelEvent,t.trackpadDelta)},e}(s.EventDispatcher);!function(t){t.sigmoid=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=6;e[0]&&(i=e[0]);var r=Math.exp(-i*(2*t-1)),o=Math.exp(-i);return(1+(1-r)/(1+r)*(1+o)/(1-o))/2},t.smoothstep=function(t,e,n){var i=Math.max(0,Math.min(1,n-t/(e-t)));return i*i*(3-2*i)},t.lerpNumber=function(t,e,n){return(1-n)*t+n*e},t.linear=function(t){return t},t.easeInQuad=function(t){return t*t},t.easeOutQuad=function(t){return t*(2-t)},t.easeInOutQuad=function(t){return t<.5?2*t*t:(4-2*t)*t-1},t.easeInCubic=function(t){return t*t*t},t.easeOutCubic=function(t){return--t*t*t+1},t.easeInOutCubic=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},t.easeInQuart=function(t){return t*t*t*t},t.easeOutQuart=function(t){return 1- --t*t*t*t},t.easeInOutQuart=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},t.easeInQuint=function(t){return t*t*t*t*t},t.easeOutQuint=function(t){return 1+--t*t*t*t*t},t.easeInOutQuint=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}}(r||(r={})),function(t){t.number=function(t,e,n){return t+(e-t)*n},t.numberArray=function(t,e,n){if(t.length==e.length){for(var i=[],r=0;r<t.length;r++)i.push(t[r]+(e[r]-t[r])*n);return i}return console.log("Different length Arrays!!!"),!1},t.THREEVectors=function(t,e,n){return t.clone().lerp(e,n)},t.THREEQuaternion=function(t,e,n){return t.clone().slerp(e,n)},t.THREEEuler=function(t,e,n){var i=t.clone(),r=e.clone();return i.x=i.x+(r.x-i.x)*n,i.y=i.y+(r.y-i.y)*n,i.z=i.z+(r.z-i.z)*n,i},t.getLerpFunc=function(e){return"number"==typeof e?t.number:e instanceof Array&&"number"==typeof e[0]?t.numberArray:e.isVector2|e.isVector3|e.isVector4|e.isColor?t.THREEVectors:e.isQuaternion?t.THREEQuaternion:e.isEuler?t.THREEEuler:void 0}}(o||(o={}));var v,y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=function(t){function e(){var e=t.call(this)||this;return e._isAnimating=!1,e.animatingCount=0,e.dispatchEvents=[],e.variables={},e}return y(e,t),Object.defineProperty(e.prototype,"isAnimating",{get:function(){return this._isAnimating},enumerable:!1,configurable:!0}),e.prototype.add=function(t){var e=t.customLerpFunc||o.getLerpFunc(t.initValue),n={time:-1,value:t.initValue,startValue:t.initValue,goalValue:null,easing:t.easing||{func:r.sigmoid,args:6},lerpFunc:e};return this.variables[t.name]=n,n},e.prototype.setEasing=function(t,e){var n=this.variables[t];n?n.easing=e:console.warn('"'+t+'" is not exist')},e.prototype.animate=function(t,e,n,i,r){var o=this;void 0===n&&(n=1);var s=this.variables[t];return new Promise((function(a){if(s){if(n<=0)return o.setValue(t,e),s.time=1,void(s.onAnimationFinished=function(){i&&i(),a(null)});-1==s.time&&(o._isAnimating=!0,o.animatingCount++),s.time=0,s.duration=n,s.startValue=s.value,s.goalValue=e,s.onAnimationFinished=function(){i&&i(),a(null)},r&&o.setEasing(t,r)}else console.warn('"'+t+'" is not exist')}))},e.prototype.cancelAnimate=function(t){var e=this.variables[t];e?(e.time=1,e.onAnimationFinished=null):console.warn('"'+t+'" is not exist')},e.prototype.setValue=function(t,e){if(!this.variables[t])return console.warn('"'+t+'" is not exist'),null;this.variables[t].value=e,this.cancelAnimate(t)},e.prototype.get=function(t){return this.variables[t]?this.variables[t].value:(console.warn('"'+t+'" is not exist'),null)},e.prototype.getVariableObject=function(t,e){return void 0===e&&(e=!1),this.variables[t]?this.variables[t]:(e||console.warn('"'+t+'" is not exist'),null)},e.prototype.isAnimatingVariable=function(t,e){return void 0===e&&(e=!1),this.variables[t]?-1!=this.variables[t].time:(e||console.warn('"'+t+'" is not exist'),null)},e.prototype.applyToUniforms=function(t){for(var e=Object.keys(this.variables),n=0;n<e.length;n++)t[e[n]]=this.getVariableObject(e[n])},e.prototype.update=function(t){0==this.animatingCount&&(this._isAnimating=!1);for(var e=Object.keys(this.variables),n=0;n<e.length;n++){var i=this.variables[e[n]];if(1==i.time&&(this.animatingCount--,i.time=-1,i.onAnimationFinished&&this.dispatchEvents.push(i.onAnimationFinished)),i.time>=0&&i.time<1){i.time+=(t||.016)/i.duration,(0==i.duration||i.time>=1)&&(i.time=1);var r=i.time;i.easing&&(r=i.easing.func(r,i.easing.args)),i.value=i.lerpFunc(i.startValue,i.goalValue,r),this.dispatchEvent({type:"update/"+e[n],deltaTime:t}),1==i.time&&(i.value=i.goalValue)}}for(;0!=this.dispatchEvents.length;)this.dispatchEvents.pop()();this._isAnimating&&this.dispatchEvent({type:"update",deltaTime:t})},e}(s.EventDispatcher),w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),b=function(t){function e(e){var n=this,i=new s.BufferGeometry,r=[],o=[],a=[];r.push(-1,1,0),r.push(1,1,0),r.push(1,-1,0),r.push(-1,-1,0),a.push(0,1),a.push(1,1),a.push(1,0),a.push(0,0),o.push(0,2,1,0,3,2);var l=new Float32Array(r),c=new Uint32Array(o),h=new Float32Array(a);i.setAttribute("position",new s.BufferAttribute(l,3)),i.setAttribute("uv",new s.BufferAttribute(h,2)),i.setIndex(new s.BufferAttribute(c,1)),e.vertexShader=e.vertexShader||"#define GLSLIFY 1\nvarying vec2 vUv;\nvarying vec4 vColor;\n\nvoid main( void ) {\n    \n    vec3 pos = position;\n\n    pos.z = 1.0;\n    \n    gl_Position = vec4( pos, 1.0 );\n    \n    vUv = uv;\n    vColor = vec4( 1.0 );\n\n}",e.transparent=null==e.transparent||e.transparent,e.depthFunc=null!=e.depthFunc?e.depthFunc:s.NeverDepth;var u=new s.ShaderMaterial(e);return(n=t.call(this,i,u)||this).uniforms=e.uniforms||{},n.frustumCulled=!1,n}return w(e,t),e.prototype.resize=function(t){this.uniforms.resolution={value:t.canvasSize},this.uniforms.aspectRatio={value:t.canvasAspectRatio}},e}(s.Mesh);!function(t){t.mergeUniforms=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},i=0;i<t.length;i++)Object.assign(n,t[i]);return n}}(v||(v={}));var S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),P=function(t){function e(e,n){var i=this,r=new s.PlaneBufferGeometry(2,2);n.vertexShader="#define GLSLIFY 1\nvarying vec2 vUv;\nuniform vec2 domPos;\nuniform vec2 domSize;\nuniform vec2 windowSize;\nuniform float aspectRatio;\n\nvoid main(  )\n{\n  float width = domSize.x / windowSize.x;\n\n  //左上( 0,0 )に\n  vec3 pos = position + vec3( 1.0,-1.0,0.0 );\n\n  //size\n  pos.x *= width;\n  pos.y *= ( width * aspectRatio ) * ( domSize.y / domSize.x );\n\n  pos += vec3( -1.0, 1.0, 0.0 );\n\n  pos += vec3( domPos.x / windowSize.x * 2.0, -domPos.y / windowSize.y * 2.0, 0.0 );\n\n  gl_Position = vec4( pos, 1.0 );\n  vUv = uv;\n}\n";var o=v.mergeUniforms(n.uniforms,{domPos:{value:new s.Vector2},domSize:{value:new s.Vector2},windowSize:{value:new s.Vector2},aspectRatio:{value:1}});n.uniforms=o;var a=new s.ShaderMaterial(n);return(i=t.call(this,r,a)||this).frustumCulled=!1,i._uniforms=o,i.element=e,i.update(),i}return S(e,t),Object.defineProperty(e.prototype,"uniforms",{get:function(){return this._uniforms},enumerable:!1,configurable:!0}),e.prototype.update=function(){var t=this.element.getBoundingClientRect();this._uniforms.windowSize.value.set(window.innerWidth,window.innerHeight),this._uniforms.aspectRatio.value=window.innerWidth/window.innerHeight,this._uniforms.domSize.value.set(t.width,t.height),this._uniforms.domPos.value.set(t.left,t.top)},e}(s.Mesh),E=function(){function t(){this.events=[]}return t.prototype.addEventListener=function(t,e){this.events.push({type:t,listener:e})},t.prototype.dispatchEvent=function(t){t.target=this;for(var e=0;e<this.events.length;e++)t.type==this.events[e].type&&this.events[e].listener(t)},t.prototype.removeEventListener=function(t,e){for(var n=this.events.length;n>=0;n--)t==this.events[n].type&&e==this.events[n].listener&&this.events.splice(n,1)},t}(),x=function(){function t(t,e){this.renderTargets=[],this.renderer=t,this.dataSize=e.clone(),this.uniforms={dataSize:{value:this.dataSize}},this.tempDataLinear=this.createData({minFilter:s.LinearFilter,magFilter:s.LinearFilter}),this.tempDataNear=this.createData({minFilter:s.NearestFilter,magFilter:s.NearestFilter}),this.scene=new s.Scene,this.camera=new s.Camera,this.materials=[],this.mesh=new s.Mesh(new s.PlaneBufferGeometry(2,2)),this.scene.add(this.mesh)}return Object.defineProperty(t.prototype,"isSupported",{get:function(){return this.renderer.extensions.get("OES_texture_float")},enumerable:!1,configurable:!0}),t.prototype.createInitializeTexture=function(){var t=new Float32Array(this.uniforms.dataSize.value.x*this.uniforms.dataSize.value.y*4),e=new s.DataTexture(t,this.uniforms.dataSize.value.x,this.uniforms.dataSize.value.y,s.RGBAFormat,s.FloatType);return e.needsUpdate=!0,e},t.prototype.createData=function(t,e){var n,i,r=navigator.userAgent,o=r.indexOf("iPhone")>=0||r.indexOf("iPad")>=0||"iPad"==navigator.platform||"MacIntel"==navigator.platform&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&void 0!==navigator.standalone,a={wrapS:s.ClampToEdgeWrapping,wrapT:s.ClampToEdgeWrapping,minFilter:s.NearestFilter,magFilter:s.NearestFilter,format:s.RGBAFormat,type:o?s.HalfFloatType:s.FloatType,stencilBuffer:!1,depthBuffer:!1};t&&(t.isDataTexture?(n=t,e&&(i=e)):i=t),i&&(a.wrapS=i.wrapS||a.wrapS,a.wrapT=i.wrapT||a.wrapT,a.minFilter=i.minFilter||a.minFilter,a.magFilter=i.magFilter||a.magFilter,a.format=i.format||a.format,a.type=i.type||a.type,a.stencilBuffer=i.stencilBuffer||a.stencilBuffer,a.depthBuffer=i.depthBuffer||a.depthBuffer);var l=new s.WebGLRenderTarget(this.uniforms.dataSize.value.x,this.uniforms.dataSize.value.y,a),c={buffer:l};if(this.renderTargets.push(l),n){var h=this.createKernel({fragmentShader:"#define GLSLIFY 1\nuniform sampler2D tex;\nvarying vec2 vUv;\n\nvoid main() {\n    gl_FragColor = texture2D(tex,vUv);\n}"});h.uniforms.tex={value:n},this.compute(h,c)}return c},t.prototype.createKernel=function(t){var e=v.mergeUniforms(t.uniforms,{});e=v.mergeUniforms(this.uniforms,e),t.vertexShader=t.vertexShader||"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n    gl_Position = vec4( position, 1.0 );\n    vUv = uv;\n}";var n=new s.ShaderMaterial(t);return this.materials.push(n),{material:n,uniforms:e}},t.prototype.compute=function(t,e,n){var i;i=e.buffer.texture.magFilter==s.LinearFilter?this.tempDataLinear:this.tempDataNear,this.mesh.material=t.material;var r=this.renderer.getRenderTarget();this.renderer.setRenderTarget(i.buffer),this.renderer.render(this.scene,n||this.camera),this.swapBuffers(e,i),this.renderer.setRenderTarget(r)},t.prototype.swapBuffers=function(t,e){var n=t.buffer;t.buffer=e.buffer,e.buffer=n},t.prototype.dispose=function(){this.mesh.geometry.dispose();for(var t=0;t<this.materials.length;t++)this.materials[t].dispose();this.scene.remove(this.mesh),this.tempDataLinear.buffer.dispose(),this.tempDataNear.buffer.dispose()},t.prototype.resizeData=function(t){this.dataSize.copy(t);for(var e=0;e<this.renderTargets.length;e++)this.renderTargets[e].setSize(t.x,t.y)},t}(),_=function(){function t(t){this.target=t,this.scrollVel=new s.Vector2}return t.prototype.update=function(){this.scrollVel.multiplyScalar(.96);var t=new s.Vector3(this.scrollVel.y,this.scrollVel.x,0).normalize(),e=(new s.Quaternion).setFromAxisAngle(t,this.scrollVel.length());e.multiply(this.target.quaternion),this.target.quaternion.copy(e)},t.prototype.addVelocity=function(t){this.scrollVel.addVectors(this.scrollVel,t.multiplyScalar(.001))},t}(),T=function(){function t(t,e){this.renderer=t,this.scene=new s.Scene,this.camera=new s.OrthographicCamera(-1,1,1,-1),this.screen=new s.Mesh(new s.PlaneBufferGeometry(2,2)),this.scene.add(this.screen),this.createMaterials(e)}return t.prototype.createMaterials=function(t){var e=t;e.vertexShader=e.vertexShader||"#define GLSLIFY 1\nvarying vec2 vUv;\nvoid main() {\n    vUv = uv;\n    gl_Position = vec4( position, 1.0 );\n}   ",e.uniforms=e.uniforms||{},e.uniforms.resolution={value:new s.Vector2},this.effect={material:new s.ShaderMaterial(e)}},t.prototype.render=function(t,e){var n=this.renderer.getRenderTarget(),i=this.effect,r=i.material,o=r.uniforms;if(t)for(var s=Object.keys(t),a=0;a<s.length;a++)o[s[a]]?o[s[a]].value=t[s[a]]:(o[s[a]]={value:t[s[a]]},i.material.needsUpdate=!0,i.material.uniforms=o);e?o.resolution.value.set(e.width,e.height):this.renderer.getSize(o.resolution.value),this.screen.material=r,this.renderer.setRenderTarget(e),this.renderer.render(this.scene,this.camera),this.renderer.setRenderTarget(n)},t}(),A=function(){function t(t){this.delaySpeed=.1,this.dragDelaySpeed=.4,this.isTouching=!1,this.deltaMem=0,this.scrollReady=!1,this.sumDelta=0,this._scrollPos=0,this._scrollPercentage=0,this._scrollPosDelay=0,this._scrollPercentageDelay=0,this.dragStop=!1,this.dragUnlockReady=!0,this.parentElement=t,this.sections=[],this.initAnimator()}return t.prototype.initAnimator=function(){this.animator=new g,this.animator.add({name:"scrollPos",initValue:0,easing:{func:r.sigmoid,args:4}})},Object.defineProperty(t.prototype,"scrollPos",{get:function(){return this._scrollPos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollPosDelay",{get:function(){return this._scrollPosDelay},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollPercentage",{get:function(){return this._scrollPercentage},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollPercentageDelay",{get:function(){return this._scrollPercentageDelay},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollTimelinePercentage",{get:function(){for(var t=0,e=0;e<this.sections.length;e++){var n=this.sections[e],i=this.sections[e-1],r=1-Math.max(0,n.element.offsetTop-this.scrollPosDelay+(n.bottom?n.rect.height-window.innerHeight:0))/((i?i.rect.height-(i.bottom?window.innerHeight:0):0)+(n.bottom?n.rect.height-window.innerHeight:0)||1);if(t+=r=Math.max(0,r),r<1)break}return t/this.sections.length},enumerable:!1,configurable:!0}),t.prototype.add=function(t){this.sections.push(t),this.sortSections()},t.prototype.sortSections=function(){this.sections.sort((function(t,e){return t.rect.y>e.rect.y?1:-1}));for(var t=0;t<this.sections.length;t++)this.sections[t].timelinePercentage=(t+1)/this.sections.length},t.prototype.get=function(t){for(var e=0;e<this.sections.length;e++)if(this.sections[e].name==t)return this.sections[e];return console.warn('section "'+t+'" is not exist.'),null},t.prototype.update=function(t){this.updateParentElement(),this.updateScrollPos(t),this.applyParentElementTransform(),this.sumDelta=0},t.prototype.updateScrollPos=function(t){this.updateAutoMove(t),this.addScrollPos(),this.calcScrollProperties(t)},t.prototype.updateAutoMove=function(t){this.animator.update(t),this.isAutoMove&&(this.sumDelta=this.animator.get("scrollPos")-this.scrollPos)},t.prototype.addScrollPos=function(){if(this.checkUnlockStopScroll(this.sumDelta)){var t=this.checkThrow(this.sumDelta);null!==t?this._scrollPos=t:this._scrollPos+=this.sumDelta,this._scrollPos=Math.max(Math.min(this._scrollPos,this.parentElementHeight-window.innerHeight),0)}},t.prototype.checkUnlockStopScroll=function(t){var e=0,n=!1;if(this.caughtSection){var i=this.scrollPos-this.scrollPosDelay;if((t*i<0||Math.abs(i)<10||this.isAutoMove)&&(t<0?(-t>(this.caughtSection.startScrollUp||0)||this.isAutoMove)&&(e=-1):t>0&&(t>(this.caughtSection.startScrollDown||0)||this.isAutoMove)&&(e=1)),0!=e&&this.caughtSection.events&&this.caughtSection.events.onStartScroll){var r,o={scroller:this,section:this.caughtSection,scrollMode:this.isAutoMove?"auto":"manual",scrollDelta:t,scrollPower:Math.abs(t)},s=this.caughtSection.events.onStartScroll.common&&this.caughtSection.events.onStartScroll.common(o);-1==e&&(r=this.caughtSection.events.onStartScroll.up&&this.caughtSection.events.onStartScroll.up(o)),1==e&&(r=this.caughtSection.events.onStartScroll.down&&this.caughtSection.events.onStartScroll.down(o)),!1!==s&&!1!==r||(e=0)}n=0!=e}else n=!0;return e&&(this.caughtSection=null),n},t.prototype.checkThrow=function(t){for(var e=0;e<this.sections.length;e++){var n=this.sections[e];n.updateRect(this._scrollPos);var i=this.checkThrowSectionEvents(n,t);if(null!==i)return this.caughtSection=n,this.isAutoMove?null:i}return null},t.prototype.checkThrowSectionEvents=function(t,e){var n=t.getScrollPercentage(),i=t.getScrollPercentage(e);if(t.events)for(var r={scroller:this,section:t,scrollMode:this.isAutoMove?"auto":"manual",scrollDelta:e,scrollPower:Math.abs(e)},o=t.events.onArrivals&&t.events.onArrivals.length||0,s=0;s<o;s++){var a=t.events.onArrivals[s],l=this.checkThrowLine(n,i,a.percentage);0!=l&&(a.event.common&&a.event.common(r),l<0?a.event.up&&a.event.up(r):a.event.down&&a.event.down(r))}return t.stop&&this.checkThrowLine(n,i,1)?(this.dragUnlockReady=!1,t.element.offsetTop+(t.bottom?t.rect.height-window.innerHeight:0)):null},t.prototype.checkThrowLine=function(t,e,n){return t<n&&n<=e?1:t>n&&n>=e?-1:t==n&&n==e?2:0},t.prototype.calcScrollProperties=function(t){this._scrollPosDelay+=(this._scrollPos-this._scrollPosDelay)*(this.isTouching&&!this.caughtSection?this.dragDelaySpeed:this.delaySpeed)*Math.min(1,60*t),this._scrollPercentage=this.scrollPosToPerecntage(this.scrollPos),this._scrollPercentageDelay=this.scrollPosToPerecntage(this.scrollPosDelay)},t.prototype.scrollPosToPerecntage=function(t){return t/(this.parentElementHeight-window.innerHeight)},t.prototype.updateParentElement=function(){this.parentElementHeight=this.parentElement.getBoundingClientRect().height},t.prototype.applyParentElementTransform=function(){this.parentElement.style.transform="translate3d( 0,"+-this.scrollPosDelay.toString()+"px, 0 )"},t.prototype.scroll=function(t){this.deltaMem=(this.deltaMem+t)/2,this.sumDelta+=t},t.prototype.catch=function(){this.isAutoMove||(this.isTouching=!0,this.deltaMem=0,this.caughtSection||(this._scrollPos=this._scrollPosDelay))},t.prototype.drag=function(t){this.isTouching&&this.scroll(t)},t.prototype.release=function(t){void 0===t&&(t=10),this.isTouching&&(this.isTouching=!1,this.caughtSection||this.scroll(this.deltaMem*t))},t.prototype.autoMove=function(t){var e,n=this;if(t.target.isPageScrollerSection){var i=t.target,r=t.bottom?i.rect.height-window.innerHeight:0;e=i.element.offsetTop+r}else"string"==typeof t.target?(i=this.get(t.target),r=t.bottom?i.rect.height-window.innerHeight:0,e=i.element.offsetTop+r):"number"==typeof t.target&&(e=t.target);this.animator.setValue("scrollPos",this._scrollPos),this.animator.animate("scrollPos",e,t.duration,(function(){t.callBack&&t.callBack(),n.isAutoMove=!1}),t.easing),this.sumDelta=(e-this.sumDelta)/Math.abs(e-this.sumDelta)*1e-5,this.isAutoMove=!0},t}(),D=function(){function t(t){this.timelinePercentage=0,this.name=t.name,this.element=t.element,this.stop=t.stop,this.events=t.events,this.bottom=t.bottom,this.startScrollDown=t.startScrollDown||0,this.startScrollUp=t.startScrollUp||0,this.updateRect(0)}return Object.defineProperty(t.prototype,"isPageScrollerSection",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.updateRect=function(t){this.rect={x:this.element.offsetLeft,y:this.element.offsetTop-t,width:this.element.offsetWidth,height:this.element.offsetHeight}},t.prototype.getScrollPercentage=function(t){var e=this.bottom?this.rect.height-window.innerHeight:0,n=this.rect.y+e-(t||0),i=this.bottom?this.rect.height:window.innerHeight,r=Math.min(1,1-n/i),o=this.bottom?window.innerHeight:this.rect.height;return r+Math.max(0,-n/o)},t}(),O=function(){function t(t,e,n){this.obj=t,this.baseTransform={position:this.obj.position.clone(),rotation:this.obj.quaternion.clone()},this.baseScale=this.obj.scale.clone(),this.transform=e,n||(this.transform.position&&this.transform.position.add(this.obj.position),this.transform.rotation&&this.transform.rotation.multiply(this.obj.quaternion))}return t.prototype.updateTransform=function(t){this.transform.position&&this.obj.position.copy(this.baseTransform.position.clone().lerp(this.transform.position,t)),this.transform.rotation&&this.obj.quaternion.copy(this.baseTransform.rotation.clone().slerp(this.transform.rotation,t)),this.transform.scale&&this.obj.scale.copy(this.baseScale.clone().multiplyScalar(this.transform.scale*t+1-t))},t}(),M=function(){function t(){this.variables={},this.time=0}return t.prototype.add=function(t){if(0!=t.keyframes.length)return this.variables[t.name]={keyframes:t.keyframes,lerpFunc:t.customLerp,easing:t.easing,value:null},this.variables[t.name].keyframes.sort((function(t,e){return t.time<e.time?-1:1})),this.variables[t.name].lerpFunc||(this.variables[t.name].lerpFunc=o.getLerpFunc(t.keyframes[0].value)),this.calc(),t.name;console.warn('"'+t.name+'"',"Keyframe length is 0!!")},t.prototype.get=function(t){return this.variables[t]?this.variables[t].value:(console.warn('"'+t+'" is not exist'),null)},t.prototype.getVariableObject=function(t){return this.variables[t]?this.variables[t]:(console.warn('"'+t+'" is not exist'),null)},t.prototype.update=function(t){this.time=t,this.calc()},t.prototype.calc=function(){for(var t=Object.keys(this.variables),e=0;e<t.length;e++){var n=this.variables[t[e]],i=n.keyframes,r=void 0,o=void 0,s=Math.max(i[0].time,Math.min(i[i.length-1].time,this.time)),a=void 0;if(1==i.length)s=i[0].time,r=o=i[0];else{for(var l=0;l<i.length-1&&(r=i[l],o=i[l+1],a=r.easing,!(r.time<=s&&s<=o.time));l++);s=(s-r.time)/(o.time-r.time)}a?s=a.func(s,a.args):n.easing?s=n.easing.func(s,n.easing.args):this.defaultEasing&&(s=this.defaultEasing.func(s,this.defaultEasing.args)),n.lerpFunc?(n.value=n.lerpFunc(r.value,o.value,s),!1===n.value&&console.log('error at "'+t[e]+'"')):console.warn('"'+t[e]+'"',"lerp function is not set.")}},t}()},306:t=>{"use strict";t.exports={i8:"2.0.1"}},807:e=>{"use strict";e.exports=t}},n={};function i(t){if(n[t])return n[t].exports;var r=n[t]={exports:{}};return e[t].call(r.exports,r,r.exports,i),r.exports}return i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i(250)})()}));