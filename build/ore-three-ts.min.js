window.ORE=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(e,t){e.exports=window.THREE},function(e,t){e.exports='#define GLSLIFY 1\nvarying vec2 vUv;\nuniform sampler2D backbuffer;\nuniform vec2 resolution;\n\nuniform bool direction;\nuniform float gaussVar;\n\n/*\nhttps://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/\n\nThe MIT License (MIT) Copyright (c) 2015 Jam3\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n\tvec4 color = vec4(0.0);\n\tvec2 off1 = vec2(1.3846153846) * direction;\n\tvec2 off2 = vec2(3.2307692308) * direction;\n\tcolor += texture2D(image, uv) * 0.2270270270;\n\tcolor += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n\tcolor += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n\tcolor += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n\tcolor += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n\treturn color;\n}\n\nvoid main(){\n\n\tvec4 c = blur9(backbuffer,vUv,resolution,direction ? vec2(1.0,0.0) : vec2(0.0, 1.0));\n\n\tgl_FragColor = c;\n}'},function(e,t,n){(function(){(null!==t?t:this).Lethargy=function(){function e(e,t,n,i){this.stability=null!=e?Math.abs(e):8,this.sensitivity=null!=t?1+Math.abs(t):100,this.tolerance=null!=n?1+Math.abs(n):1.1,this.delay=null!=i?i:150,this.lastUpDeltas=function(){var e,t,n;for(n=[],e=1,t=2*this.stability;1<=t?e<=t:e>=t;1<=t?e++:e--)n.push(null);return n}.call(this),this.lastDownDeltas=function(){var e,t,n;for(n=[],e=1,t=2*this.stability;1<=t?e<=t:e>=t;1<=t?e++:e--)n.push(null);return n}.call(this),this.deltasTimestamp=function(){var e,t,n;for(n=[],e=1,t=2*this.stability;1<=t?e<=t:e>=t;1<=t?e++:e--)n.push(null);return n}.call(this)}return e.prototype.check=function(e){var t;return null!=(e=e.originalEvent||e).wheelDelta?t=e.wheelDelta:null!=e.deltaY?t=-40*e.deltaY:null==e.detail&&0!==e.detail||(t=-40*e.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),t>0?(this.lastUpDeltas.push(t),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(t),this.lastDownDeltas.shift(),this.isInertia(-1))},e.prototype.isInertia=function(e){var t,n,i,r,o,s,a;return null===(t=-1===e?this.lastDownDeltas:this.lastUpDeltas)[0]?e:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&t[0]===t[2*this.stability-1])&&(i=t.slice(0,this.stability),n=t.slice(this.stability,2*this.stability),a=i.reduce((function(e,t){return e+t})),o=n.reduce((function(e,t){return e+t})),s=a/i.length,r=o/n.length,Math.abs(s)<Math.abs(r*this.tolerance)&&this.sensitivity<Math.abs(r)&&e)},e.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},e.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},e}()}).call(this)},function(e,t,n){"use strict";var i=n(10);e.exports=a;var r=s("in",document.body);function o(e,t){var n=i(getComputedStyle(e).getPropertyValue(t));return n[0]*a(n[1],e)}function s(e,t){var n=document.createElement("div");n.style.height="128"+e,t.appendChild(n);var i=o(n,"height")/128;return t.removeChild(n),i}function a(e,t){if(!e)return null;switch(t=t||document.body,e=(e+""||"px").trim().toLowerCase(),t!==window&&t!==document||(t=document.body),e){case"%":return t.clientHeight/100;case"ch":case"ex":return s(e,t);case"em":return o(t,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return r;case"cm":return r/2.54;case"mm":return r/25.4;case"pt":return r/72;case"pc":return r/6;case"px":return 1}var n=i(e);if(!isNaN(n[0])&&n[1]){var u=a(n[1],t);return"number"==typeof u?n[0]*u:null}return null}},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nvarying vec4 vColor;\n\nvoid main( void ) {\n    \n    vec3 pos = position;\n\n    pos.z = 1.0;\n    \n    gl_Position = vec4( pos, 1.0 );\n    \n    vUv = uv;\n    vColor = vec4( 1.0 );\n\n}"},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nuniform vec2 domPos;\nuniform vec2 domSize;\nuniform vec2 windowSize;\nuniform float aspectRatio;\n\nvoid main(  )\n{\n  float width = domSize.x / windowSize.x;\n\n  //左上( 0,0 )に\n  vec3 pos = position + vec3( 1.0,-1.0,0.0 );\n\n  //size\n  pos.x *= width;\n  pos.y *= ( width * aspectRatio ) * ( domSize.y / domSize.x );\n\n  pos += vec3( -1.0, 1.0, 0.0 );\n\n  pos += vec3( domPos.x / windowSize.x * 2.0, -domPos.y / windowSize.y * 2.0, 0.0 );\n\n  gl_Position = vec4( pos, 1.0 );\n  vUv = uv;\n}\n"},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n    gl_Position = vec4( position, 1.0 );\n    vUv = uv;\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform sampler2D texture;\nvarying vec2 vUv;\n\nvoid main() {\n    gl_FragColor = texture2D(texture,vUv);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nuniform sampler2D backbuffer;\nuniform vec2 resolution;\nvarying vec2 vUv;\n\nuniform float threshold;\n\nvoid main(){\n\tvec3 c = texture2D(backbuffer,vUv).xyz;\n\tvec3 f;\n\tf.x = max( 0.0, c.x * 1.0 - threshold * 1.0);\n\tf.y = max( 0.0, c.y * 1.0 - threshold * 1.0);\n\tf.z = max( 0.0, c.z * 1.0 - threshold * 1.0);\n\n\tf *= 1.0 + ( 1.0 / threshold);\n\n\tgl_FragColor = vec4(vec3(c) * f,1.0);\n}"},function(e,t){e.exports="#define GLSLIFY 1\nvarying vec2 vUv;\nuniform sampler2D backbuffer;\nuniform vec2 resolution;\n\nuniform sampler2D sceneTex;\nuniform float brightness;\n\nvoid main(){\n\tgl_FragColor = texture2D(sceneTex, vUv) * 1.0 + texture2D(backbuffer, vUv) * brightness;\n}"},function(e,t){e.exports=function(e,t){t||(t=[0,""]),e=String(e);var n=parseFloat(e,10);return t[0]=n,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},function(e){e.exports=JSON.parse('{"name":"ore-three-ts","version":"0.4.0","description":"","main":"build/ore-three.js","author":"ukonpower","license":"MIT","repository":{"type":"git","url":"git@github.com:ukonpower/ore-three-ts.git"},"keywords":["threejs","webgl"],"types":"types/index.d.ts","files":["build","src","types"],"bugs":{"url":"https://github.com/ukonpower/ore-three-ts/issues"},"devDependencies":{"@types/offscreencanvas":"^2019.6.1","@types/webgl2":"0.0.5","@typescript-eslint/eslint-plugin":"^2.23.0","@typescript-eslint/parser":"^2.23.0","browser-sync":"^2.26.7","copy-webpack-plugin":"^5.1.1","del":"^5.1.0","eslint":"^6.8.0","eslint-config-mdcs":"^4.2.3","glslify-loader":"^2.0.0","gulp":"^4.0.2","gulp-autoprefixer":"^7.0.1","gulp-cssmin":"^0.2.0","gulp-eslint":"^6.0.0","gulp-if":"^3.0.0","gulp-plumber":"^1.2.1","gulp-pug":"^4.0.1","gulp-sass":"^4.0.2","gulp-typedoc":"^2.2.4","shader-loader":"^1.3.1","three":"^0.116.1","ts-loader":"^6.2.1","typedoc":"^0.16.11","typescript":"^3.8.3","webpack":"^4.42.0","webpack-cli":"^3.3.11","webpack-dev-server":"^3.10.3","webpack-merge":"^4.2.1","webpack-stream":"^5.2.1"},"dependencies":{"glsl-noise":"0.0.0","lethargy":"^1.0.9","raw-loader":"^4.0.0","to-px":"^1.1.0"}}')},function(e,t,n){"use strict";n.r(t),n.d(t,"BaseScene",(function(){return s})),n.d(t,"Controller",(function(){return f})),n.d(t,"Animator",(function(){return m})),n.d(t,"Background",(function(){return w})),n.d(t,"Cursor",(function(){return a})),n.d(t,"DOMMesh",(function(){return T})),n.d(t,"Easings",(function(){return i})),n.d(t,"GPUComputationController",(function(){return M})),n.d(t,"MouseRotator",(function(){return D})),n.d(t,"PostProcessing",(function(){return O})),n.d(t,"PageScroller",(function(){return A})),n.d(t,"PageScrollerSection",(function(){return F})),n.d(t,"TimelineAnimator",(function(){return k})),n.d(t,"UniformsLib",(function(){return d})),n.d(t,"Lerps",(function(){return r})),n.d(t,"BloomFilter",(function(){return C}));var i,r,o=n(0),s=function(){function e(){this.time=0,this.name="",this.scene=new o.Scene,this.camera=new o.PerspectiveCamera(50,innerWidth/innerHeight,.1,1e3)}return e.prototype.tick=function(e){this.time+=e,this.animate(e)},e.prototype.animate=function(e){},e.prototype.onBind=function(e){this.gProps=e,this.renderer=e.renderer},e.prototype.onUnbind=function(){this.removeChildrens(this.scene)},e.prototype.removeChildrens=function(e){for(var t=e.children.length-1;t>=0;t--){this.removeChildrens(e.children[t]);var n=void 0,i=void 0;e.children[t].isMesh&&(n=e.children[t].geometry,i=e.children[t].material),e.remove(e.children[t]),n&&n.dispose(),i&&i.dispose()}},e.prototype.onResize=function(e){this.camera.aspect=e.aspectRatio,this.camera.updateProjectionMatrix()},e.prototype.onTouchStart=function(e,t){},e.prototype.onTouchMove=function(e,t){},e.prototype.onTouchEnd=function(e,t){},e.prototype.onHover=function(e){},e.prototype.onWheel=function(e,t){},e}(),a=function(){function e(){this.attenuation=.9,this._position=new o.Vector2(NaN,NaN),this._delta=new o.Vector2(NaN,NaN);var e=navigator.userAgent;e.indexOf("iPhone")>=0||e.indexOf("iPad")>=0||e.indexOf("Android")>=0||"iPad"==navigator.platform||"MacIntel"==navigator.platform&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&void 0!==navigator.standalone?(window.addEventListener("touchstart",this._MouseEvent.bind(this,"start")),window.addEventListener("touchmove",this._MouseEvent.bind(this,"move"),{passive:!1}),window.addEventListener("touchend",this._MouseEvent.bind(this,"end"))):(window.addEventListener("mousedown",this._MouseEvent.bind(this,"start")),window.addEventListener("mousemove",this._MouseEvent.bind(this,"move")),window.addEventListener("mouseup",this._MouseEvent.bind(this,"end")),window.addEventListener("dragend",this._MouseEvent.bind(this,"end")),window.addEventListener("wheel",this.wheel.bind(this),{passive:!1})),this._position.set(NaN,NaN),this._touchDown=!1}return Object.defineProperty(e.prototype,"position",{get:function(){return this._position.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delta",{get:function(){return this._delta.clone()},enumerable:!0,configurable:!0}),e.prototype.getNormalizePosition=function(e){if(this._position.x!=this._position.x)return new o.Vector2(NaN,NaN);var t=this._position.clone().divide(e).multiplyScalar(2).subScalar(1);return t.y*=-1,t},e.prototype.getRelativePosition=function(e,t){var n=e.getClientRects()[0],i=(void 0).x-n.left,r=(void 0).y-n.top;return t&&(i/=n.width,r/=n.height),new o.Vector2(i,r)},e.prototype.setPos=function(e,t){this._position.x!=this._position.x||this._position.y!=this._position.y?this._delta.set(0,0):this._delta.set(e-this._position.x,t-this._position.y),this._position.set(e,t)},e.prototype._MouseEvent=function(e,t){var n,i;"touches"in t?t.touches.length>0&&(n=t.touches[0].clientX,i=t.touches[0].clientY):0==t.button&&(n=t.pageX-window.pageXOffset,i=t.pageY-window.pageYOffset),"start"==e?(this._touchDown=!0,this.setPos(n,i),this.onTouchStart&&this.onTouchStart(t)):"move"==e?(this.setPos(n,i),this._touchDown&&this.onTouchMove&&this.onTouchMove(t)):"end"==e&&(this._touchDown=!1,this.onTouchEnd&&this.onTouchEnd(t))},e.prototype.wheel=function(e){this.onWheel&&this.onWheel(e)},e.prototype.update=function(){this._delta.multiplyScalar(this.attenuation),this.onHover&&!this.isSP&&this.onHover()},e}(),u=n(2),c=n(3),l=n.n(c),h=n(11).version,f=function(){function e(e){this.trackpadMemDelta=0,this.trackpadMax=!1,this.lethargy=new u.Lethargy(7,0,.05),e.silent||console.log("%c- ore-three "+h+" -","padding: 5px 10px ;background-color: black; color: white;font-size:11px"),this.renderer=new o.WebGLRenderer(e),this.renderer.debug.checkShaderErrors=!0,this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(e.retina?window.devicePixelRatio:1),this.cursor=new a,this.cursor.onTouchStart=this.onTouchStart.bind(this),this.cursor.onTouchMove=this.onTouchMove.bind(this),this.cursor.onTouchEnd=this.onTouchEnd.bind(this),this.cursor.onHover=this.onHover.bind(this),this.cursor.onWheel=this.onWheel.bind(this),this.clock=new o.Clock,this.gProps={renderer:this.renderer,cursor:this.cursor,resizeArgs:null},window.addEventListener("orientationchange",this.onOrientationDevice.bind(this)),window.addEventListener("resize",this.onWindowResize.bind(this)),this.onWindowResize(),this.tick()}return e.prototype.tick=function(){var e=this.clock.getDelta();this.cursor.update(),this.currentScene&&this.currentScene.tick(e),requestAnimationFrame(this.tick.bind(this))},e.prototype.bindScene=function(e){this.currentScene=e,this.currentScene.onBind(this.gProps),this.onWindowResize()},e.prototype.unbindScene=function(){this.currentScene&&(this.currentScene.onUnbind(),this.currentScene=null,this.renderer.renderLists.dispose())},e.prototype.onWindowResize=function(){var e=new o.Vector2(window.innerWidth,window.innerHeight);this.renderer.setSize(e.x,e.y);var t={aspectRatio:e.x/e.y,pixelRatio:this.renderer.getPixelRatio(),windowSize:e.clone(),windowPixelSize:e.clone().multiplyScalar(this.renderer.getPixelRatio())};this.gProps.resizeArgs=t,this.currentScene&&this.currentScene.onResize(t)},e.prototype.onOrientationDevice=function(){this.onWindowResize()},e.prototype.onTouchStart=function(e){this.currentScene&&this.currentScene.onTouchStart(this.cursor,e)},e.prototype.onTouchMove=function(e){this.currentScene&&this.currentScene.onTouchMove(this.cursor,e)},e.prototype.onTouchEnd=function(e){this.currentScene&&this.currentScene.onTouchEnd(this.cursor,e)},e.prototype.onHover=function(){this.currentScene&&this.currentScene.onHover(this.cursor)},e.prototype.onWheel=function(e){var t=e.deltaY,n=0;switch(e.deltaMode){case e.DOM_DELTA_LINE:t*=2.5*l()("ex",window);break;case e.DOM_DELTA_PAGE:t*=window.innerHeight}if(this.lethargy.check(e))n=t;else{var i=t-this.trackpadMemDelta;Math.abs(i)>50?(this.trackpadMemDelta=i,n=t,this.trackpadMax=!0):0==i?this.trackpadMax&&(n=t):i<0&&(this.trackpadMax=!1),this.trackpadMemDelta=t}this.currentScene&&this.currentScene.onWheel(e,n)},e}();!function(e){e.sigmoid=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=6;t[0]&&(i=t[0]);var r=Math.exp(-i*(2*e-1)),o=Math.exp(-i);return(1+(1-r)/(1+r)*(1+o)/(1-o))/2},e.smoothstep=function(e,t,n){var i=Math.max(0,Math.min(1,n-e/(t-e)));return i*i*(3-2*i)},e.lerpNumber=function(e,t,n){return(1-n)*e+n*t},e.linear=function(e){return e},e.easeInQuad=function(e){return e*e},e.easeOutQuad=function(e){return e*(2-e)},e.easeInOutQuad=function(e){return e<.5?2*e*e:(4-2*e)*e-1},e.easeInCubic=function(e){return e*e*e},e.easeOutCubic=function(e){return--e*e*e+1},e.easeInOutCubic=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},e.easeInQuart=function(e){return e*e*e*e},e.easeOutQuart=function(e){return 1- --e*e*e*e},e.easeInOutQuart=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},e.easeInQuint=function(e){return e*e*e*e*e},e.easeOutQuint=function(e){return 1+--e*e*e*e*e},e.easeInOutQuint=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}(i||(i={})),function(e){e.number=function(e,t,n){return e+(t-e)*n},e.numberArray=function(e,t,n){if(e.length==t.length){for(var i=[],r=0;r<e.length;r++)i.push(e[r]+(t[r]-e[r])*n);return i}return console.log("Different length Arrays!!!"),!1},e.THREEVectors=function(e,t,n){return e.clone().lerp(t,n)},e.THREEQuaternion=function(e,t,n){return e.clone().slerp(t,n)},e.THREEEuler=function(e,t,n){var i=e.clone(),r=t.clone();return i.x=i.x+(r.x-i.x)*n,i.y=i.y+(r.y-i.y)*n,i.z=i.z+(r.z-i.z)*n,i},e.getLerpFunc=function(t){return"number"==typeof t?e.number:t instanceof Array&&"number"==typeof t[0]?e.numberArray:t.isVector2|t.isVector3|t.isVector4|t.isColor?e.THREEVectors:t.isQuaternion?e.THREEQuaternion:t.isEuler?e.THREEEuler:void 0}}(r||(r={}));var p,d,m=function(){function e(){this._isAnimating=!1,this.animatingCount=0,this.dispatchEvents=[],this.variables={}}return Object.defineProperty(e.prototype,"isAnimating",{get:function(){return this._isAnimating},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=e.customLerpFunc||r.getLerpFunc(e.initValue);this.variables[e.name]={time:1,value:e.initValue,startValue:e.initValue,goalValue:null,easing:e.easing||{func:i.sigmoid,args:6},lerpFunc:t}},e.prototype.setEasing=function(e,t){var n=this.variables[e];n?n.easing=t:console.warn('"'+e+'" is not exist')},e.prototype.animate=function(e,t,n,i,r){void 0===n&&(n=1);var o=this.variables[e];o?(o.duration=n,o.time>=1&&(this._isAnimating=!0,this.animatingCount++),o.time=0,o.duration=null!=n?n:1,o.startValue=o.value,o.goalValue=t,o.onAnimationFinished=i,r&&this.setEasing(e,r)):console.warn('"'+e+'" is not exist')},e.prototype.setValue=function(e,t){if(!this.variables[e])return console.warn('"'+e+'" is not exist'),null;this.variables[e].value=t},e.prototype.get=function(e){return this.variables[e]?this.variables[e].value:(console.warn('"'+e+'" is not exist'),null)},e.prototype.getVariableObject=function(e){return this.variables[e]?this.variables[e]:(console.warn('"'+e+'" is not exist'),null)},e.prototype.applyToUniforms=function(e){for(var t=Object.keys(this.variables),n=0;n<t.length;n++)e[t[n]]=this.getVariableObject(t[n])},e.prototype.update=function(e){0==this.animatingCount&&(this._isAnimating=!1);for(var t=Object.keys(this.variables),n=0;n<t.length;n++){var i=this.variables[t[n]];if(1==i.time&&(this.animatingCount--,i.onAnimationFinished&&this.dispatchEvents.push(i.onAnimationFinished)),i.time<1){i.time+=(e||.016)/i.duration,(0==i.duration||i.time>=1)&&(i.time=1);var r=i.time;i.easing&&(r=i.easing.func(r,i.easing.args)),i.value=i.lerpFunc(i.startValue,i.goalValue,r),1==i.time&&(i.value=i.goalValue)}}for(;0!=this.dispatchEvents.length;)this.dispatchEvents.pop()()},e}(),v=n(4),g=n.n(v),y=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),w=function(e){function t(t){var n=this,i=new o.BufferGeometry,r=[],s=[],a=[];r.push(-1,1,0),r.push(1,1,0),r.push(1,-1,0),r.push(-1,-1,0),a.push(0,1),a.push(1,1),a.push(1,0),a.push(0,0),s.push(0,2,1,0,3,2);var u=new Float32Array(r),c=new Uint32Array(s),l=new Float32Array(a);i.setAttribute("position",new o.BufferAttribute(u,3)),i.setAttribute("uv",new o.BufferAttribute(l,2)),i.setIndex(new o.BufferAttribute(c,1)),t.vertexShader=t.vertexShader||g.a,t.transparent=null==t.transparent||t.transparent,t.depthFunc=null!=t.depthFunc?t.depthFunc:o.NeverDepth;var h=new o.ShaderMaterial(t);return(n=e.call(this,i,h)||this).uniforms=t.uniforms||{},n.frustumCulled=!1,n}return y(t,e),t.prototype.resize=function(e){this.uniforms.resolution={value:e.windowSize},this.uniforms.aspectRatio={value:e.aspectRatio}},t}(o.Mesh),b=n(5),S=n.n(b);!function(e){e.CopyUniforms=function(e,t){if(!e||!t)return e||t;for(var n=Object.keys(t),i=0;i<n.length;i++)e[n[i]]||(e[n[i]]=t[n[i]]);return e}}(d||(d={}));var P=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),T=function(e){function t(t,n){var i=this,r=new o.PlaneBufferGeometry(2,2);n.vertexShader=S.a;var s=d.CopyUniforms({domPos:{value:new o.Vector2},domSize:{value:new o.Vector2},windowSize:{value:new o.Vector2},aspectRatio:{value:1}},n.uniforms);n.uniforms=s;var a=new o.ShaderMaterial(n);return(i=e.call(this,r,a)||this).frustumCulled=!1,i._uniforms=s,i.element=t,i.update(),i}return P(t,e),Object.defineProperty(t.prototype,"uniforms",{get:function(){return this._uniforms},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this.element.getBoundingClientRect();this._uniforms.windowSize.value.set(window.innerWidth,window.innerHeight),this._uniforms.aspectRatio.value=window.innerWidth/window.innerHeight,this._uniforms.domSize.value.set(e.width,e.height),this._uniforms.domPos.value.set(e.left,e.top)},t}(o.Mesh),x=n(6),R=n.n(x),_=n(7),E=n.n(_),M=function(){function e(e,t){this.renderer=e,this.dataSize=t,this.tempDataLinear=this.createData({minFilter:o.LinearFilter,magFilter:o.LinearFilter}),this.tempDataNear=this.createData({minFilter:o.NearestFilter,magFilter:o.NearestFilter}),this.scene=new o.Scene,this.camera=new o.Camera,this.materials=[],this.mesh=new o.Mesh(new o.PlaneBufferGeometry(2,2)),this.scene.add(this.mesh)}return Object.defineProperty(e.prototype,"isSupported",{get:function(){return this.renderer.extensions.get("OES_texture_float")},enumerable:!0,configurable:!0}),e.prototype.createInitializeTexture=function(){var e=new Float32Array(this.dataSize.x*this.dataSize.y*4),t=new o.DataTexture(e,this.dataSize.x,this.dataSize.y,o.RGBAFormat,o.FloatType);return t.needsUpdate=!0,t},e.prototype.createData=function(e,t){var n,i,r={wrapS:o.ClampToEdgeWrapping,wrapT:o.ClampToEdgeWrapping,minFilter:o.NearestFilter,magFilter:o.NearestFilter,format:o.RGBAFormat,type:/(iPad|iPhone|iPod)/g.test(navigator.userAgent)?o.HalfFloatType:o.FloatType,stencilBuffer:!1,depthBuffer:!1};e&&(e.isDataTexture?(n=e,t&&(i=t)):i=e),i&&(r.wrapS=i.wrapS||r.wrapS,r.wrapT=i.wrapT||r.wrapT,r.minFilter=i.minFilter||r.minFilter,r.magFilter=i.magFilter||r.magFilter,r.format=i.format||r.format,r.type=i.type||r.type,r.stencilBuffer=i.stencilBuffer||r.stencilBuffer,r.depthBuffer=i.depthBuffer||r.depthBuffer);var s={buffer:new o.WebGLRenderTarget(this.dataSize.x,this.dataSize.y,r)};if(n){var a=this.createKernel(E.a);a.uniforms.texture={value:n},this.compute(a,s)}return s},e.prototype.createKernel=function(e,t){var n=t||{};n.dataSize={value:this.dataSize};var i=new o.ShaderMaterial({vertexShader:R.a,fragmentShader:e,uniforms:n});return this.materials.push(i),{material:i,uniforms:n}},e.prototype.compute=function(e,t){var n;n=t.buffer.texture.magFilter==o.LinearFilter?this.tempDataLinear:this.tempDataNear,this.mesh.material=e.material,this.renderer.setRenderTarget(n.buffer),this.renderer.render(this.scene,this.camera),this.swapBuffers(t,n),this.renderer.setRenderTarget(null)},e.prototype.swapBuffers=function(e,t){var n=e.buffer;e.buffer=t.buffer,t.buffer=n},e.prototype.dispose=function(){this.mesh.geometry.dispose();for(var e=0;e<this.materials.length;e++)this.materials[e].dispose();this.scene.remove(this.mesh),this.tempDataLinear.buffer.dispose(),this.tempDataNear.buffer.dispose()},e}(),D=function(){function e(e){this.target=e,this.scrollVel=new o.Vector2}return e.prototype.update=function(){this.scrollVel.multiplyScalar(.96);var e=new o.Vector3(this.scrollVel.y,this.scrollVel.x,0).normalize(),t=(new o.Quaternion).setFromAxisAngle(e,this.scrollVel.length());t.multiply(this.target.quaternion),this.target.quaternion.copy(t)},e.prototype.addVelocity=function(e){this.scrollVel.addVectors(this.scrollVel,e.multiplyScalar(.001))},e}(),O=function(){function e(e,t,n){var i=this;this.renderer=e,this.resolution=new o.Vector2,this.scene=new o.Scene,this.camera=new o.OrthographicCamera(-1,1,1,-1,0,1),this.screenMesh=new o.Mesh(new o.PlaneBufferGeometry(2,2),null),this.scene.add(this.screenMesh),this.initRenderTargets(),this.resize(n),t.forEach((function(e){e.uniforms||(e.uniforms={}),e.uniforms.backbuffer||(e.uniforms.backbuffer={value:null}),e.uniforms.resolution||(e.uniforms.resolution={value:i.resolution}),e.vertexShader=e.vertexShader||e.vertexShader||"varying vec2 vUv; void main() { vUv = uv; gl_Position = vec4( position, 1.0 ); } ",e.depthTest=!1;var t={material:new o.ShaderMaterial(e),uniforms:e.uniforms};i.effectMaterials?i.effectMaterials.push(t):i.effectMaterials=[t]}))}return e.prototype.initRenderTargets=function(){this.readBuffer=this.createRenderTarget(),this.writeBuffer=this.createRenderTarget()},e.prototype.createRenderTarget=function(){return new o.WebGLRenderTarget(this.resolution.x,this.resolution.y)},e.prototype.swapBuffers=function(){var e=this.writeBuffer;this.writeBuffer=this.readBuffer,this.readBuffer=e},e.prototype.render=function(e,t,n){var i=this;void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=!1);var r=!1,o=!1,s=this.renderer.getRenderTarget();"Scene"==e.type?(this.renderer.setRenderTarget(this.readBuffer),this.renderer.clear(),this.renderer.render(e,t),r=n):"boolean"==typeof e?r=e:(this.effectMaterials[0].uniforms.backbuffer.value=e,o=!0,r=t),this.effectMaterials.forEach((function(e,t){i.screenMesh.material=e.material,(!o||t>0)&&(e.uniforms.backbuffer.value=i.readBuffer.texture),t<i.effectMaterials.length-1||r?i.renderer.setRenderTarget(i.writeBuffer):i.renderer.setRenderTarget(null),i.renderer.render(i.scene,i.camera),i.swapBuffers()})),this.resultBuffer=r?this.readBuffer:null,this.renderer.setRenderTarget(s)},e.prototype.getResultTexture=function(){return this.resultBuffer?this.resultBuffer.texture:null},e.prototype.resize=function(e){var t=new o.Vector2;e?t.copy(e):this.renderer.getSize(t).multiplyScalar(this.renderer.getPixelRatio()),this.resolution.copy(t),this.readBuffer.setSize(this.resolution.x,this.resolution.y),this.writeBuffer.setSize(this.resolution.x,this.resolution.y)},e}(),A=function(){function e(e){this.delaySpeed=.1,this.dragDelaySpeed=.4,this.isTouching=!1,this.deltaMem=0,this.scrollReady=!1,this.sumDelta=0,this._scrollPos=0,this._scrollPercentage=0,this._scrollPosDelay=0,this._scrollPercentageDelay=0,this.dragStop=!1,this.dragUnlockReady=!0,this.parentElement=e,this.sections=[],this.initAnimator()}return e.prototype.initAnimator=function(){this.animator=new m,this.animator.add({name:"scrollPos",initValue:0,easing:{func:i.sigmoid,args:4}})},Object.defineProperty(e.prototype,"scrollPos",{get:function(){return this._scrollPos},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollPosDelay",{get:function(){return this._scrollPosDelay},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollPercentage",{get:function(){return this._scrollPercentage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollPercentageDelay",{get:function(){return this._scrollPercentageDelay},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollTimelinePercentage",{get:function(){for(var e=0,t=0;t<this.sections.length;t++){var n=this.sections[t],i=this.sections[t-1],r=1-Math.max(0,n.element.offsetTop-this.scrollPosDelay+(n.bottom?n.rect.height-window.innerHeight:0))/((i?i.rect.height-(i.bottom?window.innerHeight:0):0)+(n.bottom?n.rect.height-window.innerHeight:0)||1);if(e+=r=Math.max(0,r),r<1)break}return e/this.sections.length},enumerable:!0,configurable:!0}),e.prototype.add=function(e){this.sections.push(e),this.sortSections()},e.prototype.sortSections=function(){this.sections.sort((function(e,t){return e.rect.y>t.rect.y?1:-1}));for(var e=0;e<this.sections.length;e++)this.sections[e].timelinePercentage=(e+1)/this.sections.length},e.prototype.get=function(e){for(var t=0;t<this.sections.length;t++)if(this.sections[t].name==e)return this.sections[t];return console.warn('section "'+e+'" is not exist.'),null},e.prototype.update=function(e){this.updateParentElement(),this.updateScrollPos(e),this.applyParentElementTransform(),this.sumDelta=0},e.prototype.updateScrollPos=function(e){this.updateAutoMove(e),this.addScrollPos(),this.calcScrollProperties(e)},e.prototype.updateAutoMove=function(e){this.animator.update(e),this.isAutoMove&&(this.sumDelta=this.animator.get("scrollPos")-this.scrollPos)},e.prototype.addScrollPos=function(){if(this.checkUnlockStopScroll(this.sumDelta)){var e=this.checkThrow(this.sumDelta);null!==e?this._scrollPos=e:this._scrollPos+=this.sumDelta,this._scrollPos=Math.max(Math.min(this._scrollPos,this.parentElementHeight-window.innerHeight),0)}},e.prototype.checkUnlockStopScroll=function(e){var t=0,n=!1;if(this.caughtSection){var i=this.scrollPos-this.scrollPosDelay;if((e*i<0||Math.abs(i)<10||this.isAutoMove)&&(e<0?(-e>(this.caughtSection.startScrollUp||0)||this.isAutoMove)&&(t=-1):e>0&&(e>(this.caughtSection.startScrollDown||0)||this.isAutoMove)&&(t=1)),0!=t&&this.caughtSection.events&&this.caughtSection.events.onStartScroll){var r,o={scroller:this,section:this.caughtSection,scrollMode:this.isAutoMove?"auto":"manual",scrollDelta:e,scrollPower:Math.abs(e)},s=this.caughtSection.events.onStartScroll.common&&this.caughtSection.events.onStartScroll.common(o);-1==t&&(r=this.caughtSection.events.onStartScroll.up&&this.caughtSection.events.onStartScroll.up(o)),1==t&&(r=this.caughtSection.events.onStartScroll.down&&this.caughtSection.events.onStartScroll.down(o)),!1!==s&&!1!==r||(t=0)}n=0!=t}else n=!0;return t&&(this.caughtSection=null),n},e.prototype.checkThrow=function(e){for(var t=0;t<this.sections.length;t++){var n=this.sections[t];n.updateRect(this._scrollPos);var i=this.checkThrowSectionEvents(n,e);if(null!==i)return this.caughtSection=n,this.isAutoMove?null:i}return null},e.prototype.checkThrowSectionEvents=function(e,t){var n=e.getScrollPercentage(),i=e.getScrollPercentage(t);if(e.events)for(var r={scroller:this,section:e,scrollMode:this.isAutoMove?"auto":"manual",scrollDelta:t,scrollPower:Math.abs(t)},o=e.events.onArrivals&&e.events.onArrivals.length||0,s=0;s<o;s++){var a=e.events.onArrivals[s],u=this.checkThrowLine(n,i,a.percentage);0!=u&&(a.event.common&&a.event.common(r),u<0?a.event.up&&a.event.up(r):a.event.down&&a.event.down(r))}return e.stop&&this.checkThrowLine(n,i,1)?(this.dragUnlockReady=!1,e.element.offsetTop+(e.bottom?e.rect.height-window.innerHeight:0)):null},e.prototype.checkThrowLine=function(e,t,n){return e<n&&n<=t?1:e>n&&n>=t?-1:0},e.prototype.calcScrollProperties=function(e){this._scrollPosDelay+=(this._scrollPos-this._scrollPosDelay)*(this.isTouching&&!this.caughtSection?this.dragDelaySpeed:this.delaySpeed)*Math.min(1,60*e),this._scrollPercentage=this.scrollPosToPerecntage(this.scrollPos),this._scrollPercentageDelay=this.scrollPosToPerecntage(this.scrollPosDelay)},e.prototype.scrollPosToPerecntage=function(e){return e/(this.parentElementHeight-window.innerHeight)},e.prototype.updateParentElement=function(){this.parentElementHeight=this.parentElement.getBoundingClientRect().height},e.prototype.applyParentElementTransform=function(){this.parentElement.style.transform="translate3d( 0,"+-this.scrollPosDelay.toString()+"px, 0 )"},e.prototype.scroll=function(e){this.deltaMem=(this.deltaMem+e)/2,this.sumDelta+=e},e.prototype.catch=function(){this.isAutoMove||(this.isTouching=!0,this.deltaMem=0,this.caughtSection||(this._scrollPos=this._scrollPosDelay))},e.prototype.drag=function(e){this.isTouching&&this.scroll(e)},e.prototype.release=function(e){void 0===e&&(e=10),this.isTouching&&(this.isTouching=!1,this.caughtSection||this.scroll(this.deltaMem*e))},e.prototype.autoMove=function(e){var t,n=this;if(e.target.isPageScrollerSection){var i=e.target,r=e.bottom?i.rect.height-window.innerHeight:0;t=i.element.offsetTop+r}else if("string"==typeof e.target){i=this.get(e.target),r=e.bottom?i.rect.height-window.innerHeight:0;t=i.element.offsetTop+r}else"number"==typeof e.target&&(t=e.target);this.animator.setValue("scrollPos",this._scrollPos),this.animator.animate("scrollPos",t,e.duration,(function(){e.callBack&&e.callBack(),n.isAutoMove=!1}),e.easing),this.sumDelta=0,this.isAutoMove=!0},e}(),F=function(){function e(e){this.timelinePercentage=0,this.name=e.name,this.element=e.element,this.stop=e.stop,this.events=e.events,this.bottom=e.bottom,this.startScrollDown=e.startScrollDown||0,this.startScrollUp=e.startScrollUp||0,this.updateRect(0)}return Object.defineProperty(e.prototype,"isPageScrollerSection",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.updateRect=function(e){this.rect={x:this.element.offsetLeft,y:this.element.offsetTop-e,width:this.element.offsetWidth,height:this.element.offsetHeight}},e.prototype.getScrollPercentage=function(e){var t=this.bottom?this.rect.height-window.innerHeight:0,n=this.rect.y+t-(e||0),i=this.bottom?this.rect.height:window.innerHeight,r=Math.min(1,1-n/i),o=this.bottom?window.innerHeight:this.rect.height;return r+Math.max(0,-n/o)},e}(),k=function(){function e(){this.variables={},this.time=0}return e.prototype.add=function(e){if(0!=e.keyframes.length)return this.variables[e.name]={keyframes:e.keyframes,lerpFunc:e.customLerp,easing:e.easing,value:null},this.variables[e.name].keyframes.sort((function(e,t){return e.time<t.time?-1:1})),this.variables[e.name].lerpFunc||(this.variables[e.name].lerpFunc=r.getLerpFunc(e.keyframes[0].value)),this.calc(),e.name;console.warn('"'+e.name+'"',"Keyframe length is 0!!")},e.prototype.get=function(e){return this.variables[e]?this.variables[e].value:(console.warn('"'+e+'" is not exist'),null)},e.prototype.getVariableObject=function(e){return this.variables[e]?this.variables[e]:(console.warn('"'+e+'" is not exist'),null)},e.prototype.update=function(e){this.time=e,this.calc()},e.prototype.calc=function(){for(var e=Object.keys(this.variables),t=0;t<e.length;t++){var n=this.variables[e[t]],i=n.keyframes,r=void 0,o=void 0,s=Math.max(i[0].time,Math.min(i[i.length-1].time,this.time)),a=void 0;if(1==i.length)s=i[0].time,r=o=i[0];else{for(var u=0;u<i.length-1&&(r=i[u],o=i[u+1],a=r.easing,!(r.time<=s&&s<=o.time));u++);s=(s-r.time)/(o.time-r.time)}a?s=a.func(s,a.args):n.easing?s=n.easing.func(s,n.easing.args):this.defaultEasing&&(s=this.defaultEasing.func(s,this.defaultEasing.args)),n.lerpFunc?(n.value=n.lerpFunc(r.value,o.value,s),!1===n.value&&console.log('error at "'+e[t]+'"')):console.warn('"'+e[t]+'"',"lerp function is not set.")}},e}(),L=n(8),z=n.n(L),I=n(1),N=n.n(I),H=n(9),U=n.n(H),C=function(){function e(e,t,n){this._blurRange=2,this.renderCount=5,this.renderer=e,this.textureResolutionRatio=t||.1,this.resolution=new o.Vector2,this.blurResolution=new o.Vector2,this.init(),this.resize(n)}return Object.defineProperty(e.prototype,"blurRange",{set:function(e){this._blurRange=e,this.blurResolution.copy(this.lowResolution.clone().divideScalar(this._blurRange))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{set:function(e){this.commonUniforms.threshold.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"brightness",{set:function(e){this.commonUniforms.brightness.value=e},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.sceneTex={value:null},this.commonUniforms={resolution:{value:this.blurResolution},threshold:{value:.5},brightness:{value:.7}};var e=[{fragmentShader:z.a,uniforms:this.commonUniforms}],t=[{fragmentShader:N.a,uniforms:d.CopyUniforms({direction:{value:!0}},this.commonUniforms)},{fragmentShader:N.a,uniforms:d.CopyUniforms({direction:{value:!1}},this.commonUniforms)}],n=[{fragmentShader:U.a,uniforms:d.CopyUniforms({sceneTex:this.sceneTex},this.commonUniforms)}];this._brightPP=new O(this.renderer,e),this._blurPP=new O(this.renderer,t),this._bloomPP=new O(this.renderer,n),this.sceneRenderTarget=this._bloomPP.createRenderTarget()},e.prototype.render=function(e,t,n){void 0===e&&(e=null),void 0===t&&(t=!1),void 0===n&&(n=!1);var i=!0,r=t;"isScene"in e?(i=!1,r=n,this.renderer.setRenderTarget(this.sceneRenderTarget),this.renderer.render(e,t)):"isTexture"in e&&this.resolution.set(e.image.width,e.image.height),this.sceneTex.value=i?e:this.sceneRenderTarget.texture,this._brightPP.render(i?e:this.sceneRenderTarget.texture,!0);for(var o=this._brightPP.getResultTexture(),s=0;s<this.renderCount;s++)this._blurPP.render(o,!0),o=this._blurPP.getResultTexture();return this._bloomPP.render(o,r),r?this._bloomPP.getResultTexture():null},e.prototype.resize=function(e){var t=new o.Vector2;e?t.copy(e):(t.set(window.innerWidth,window.innerHeight),t.multiplyScalar(this.renderer.getPixelRatio())),this.resolution.copy(t),this.lowResolution=this.resolution.clone().multiplyScalar(this.textureResolutionRatio),this.sceneRenderTarget.setSize(this.resolution.x,this.resolution.y),this._brightPP.resize(this.lowResolution),this._blurPP.resize(this.lowResolution),this._bloomPP.resize(this.resolution),this.blurRange=this._blurRange},e}()}]);