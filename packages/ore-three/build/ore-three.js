(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("three"));
	else if(typeof define === 'function' && define.amd)
		define(["three"], factory);
	else if(typeof exports === 'object')
		exports["ORE"] = factory(require("three"));
	else
		root["ORE"] = factory(root["THREE"]);
})(self, (__WEBPACK_EXTERNAL_MODULE_three__) => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../../node_modules/lethargy/lethargy.js":
/*!***********************************************!*\
  !*** ../../node_modules/lethargy/lethargy.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, exports) {

// Generated by CoffeeScript 1.9.2
(function() {
  var root;

  root =  true && exports !== null ? exports : this;

  root.Lethargy = (function() {
    function Lethargy(stability, sensitivity, tolerance, delay) {
      this.stability = stability != null ? Math.abs(stability) : 8;
      this.sensitivity = sensitivity != null ? 1 + Math.abs(sensitivity) : 100;
      this.tolerance = tolerance != null ? 1 + Math.abs(tolerance) : 1.1;
      this.delay = delay != null ? delay : 150;
      this.lastUpDeltas = (function() {
        var i, ref, results;
        results = [];
        for (i = 1, ref = this.stability * 2; 1 <= ref ? i <= ref : i >= ref; 1 <= ref ? i++ : i--) {
          results.push(null);
        }
        return results;
      }).call(this);
      this.lastDownDeltas = (function() {
        var i, ref, results;
        results = [];
        for (i = 1, ref = this.stability * 2; 1 <= ref ? i <= ref : i >= ref; 1 <= ref ? i++ : i--) {
          results.push(null);
        }
        return results;
      }).call(this);
      this.deltasTimestamp = (function() {
        var i, ref, results;
        results = [];
        for (i = 1, ref = this.stability * 2; 1 <= ref ? i <= ref : i >= ref; 1 <= ref ? i++ : i--) {
          results.push(null);
        }
        return results;
      }).call(this);
    }

    Lethargy.prototype.check = function(e) {
      var lastDelta;
      e = e.originalEvent || e;
      if (e.wheelDelta != null) {
        lastDelta = e.wheelDelta;
      } else if (e.deltaY != null) {
        lastDelta = e.deltaY * -40;
      } else if ((e.detail != null) || e.detail === 0) {
        lastDelta = e.detail * -40;
      }
      this.deltasTimestamp.push(Date.now());
      this.deltasTimestamp.shift();
      if (lastDelta > 0) {
        this.lastUpDeltas.push(lastDelta);
        this.lastUpDeltas.shift();
        return this.isInertia(1);
      } else {
        this.lastDownDeltas.push(lastDelta);
        this.lastDownDeltas.shift();
        return this.isInertia(-1);
      }
      return false;
    };

    Lethargy.prototype.isInertia = function(direction) {
      var lastDeltas, lastDeltasNew, lastDeltasOld, newAverage, newSum, oldAverage, oldSum;
      lastDeltas = direction === -1 ? this.lastDownDeltas : this.lastUpDeltas;
      if (lastDeltas[0] === null) {
        return direction;
      }
      if (this.deltasTimestamp[(this.stability * 2) - 2] + this.delay > Date.now() && lastDeltas[0] === lastDeltas[(this.stability * 2) - 1]) {
        return false;
      }
      lastDeltasOld = lastDeltas.slice(0, this.stability);
      lastDeltasNew = lastDeltas.slice(this.stability, this.stability * 2);
      oldSum = lastDeltasOld.reduce(function(t, s) {
        return t + s;
      });
      newSum = lastDeltasNew.reduce(function(t, s) {
        return t + s;
      });
      oldAverage = oldSum / lastDeltasOld.length;
      newAverage = newSum / lastDeltasNew.length;
      if (Math.abs(oldAverage) < Math.abs(newAverage * this.tolerance) && (this.sensitivity < Math.abs(newAverage))) {
        return direction;
      } else {
        return false;
      }
    };

    Lethargy.prototype.showLastUpDeltas = function() {
      return this.lastUpDeltas;
    };

    Lethargy.prototype.showLastDownDeltas = function() {
      return this.lastDownDeltas;
    };

    return Lethargy;

  })();

}).call(this);


/***/ }),

/***/ "../../node_modules/parse-unit/index.js":
/*!**********************************************!*\
  !*** ../../node_modules/parse-unit/index.js ***!
  \**********************************************/
/***/ ((module) => {

module.exports = function parseUnit(str, out) {
    if (!out)
        out = [ 0, '' ]

    str = String(str)
    var num = parseFloat(str, 10)
    out[0] = num
    out[1] = str.match(/[\d.\-\+]*\s*(.*)/)[1] || ''
    return out
}

/***/ }),

/***/ "./src/utils/Background/shaders/background.vs":
/*!****************************************************!*\
  !*** ./src/utils/Background/shaders/background.vs ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("#define GLSLIFY 1\nvarying vec2 vUv;\nvarying vec4 vColor;\n\nvoid main( void ) {\n    \n    vec3 pos = position;\n\n    pos.z = 1.0;\n    \n    gl_Position = vec4( pos, 1.0 );\n    \n    vUv = uv;\n    vColor = vec4( 1.0 );\n\n}");

/***/ }),

/***/ "./src/utils/DOMMesh/domMesh.vs":
/*!**************************************!*\
  !*** ./src/utils/DOMMesh/domMesh.vs ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("#define GLSLIFY 1\nvarying vec2 vUv;\nuniform vec2 domPos;\nuniform vec2 domSize;\nuniform vec2 windowSize;\nuniform float aspectRatio;\n\nvoid main(  )\n{\n  float width = domSize.x / windowSize.x;\n\n  //左上( 0,0 )に\n  vec3 pos = position + vec3( 1.0,-1.0,0.0 );\n\n  //size\n  pos.x *= width;\n  pos.y *= ( width * aspectRatio ) * ( domSize.y / domSize.x );\n\n  pos += vec3( -1.0, 1.0, 0.0 );\n\n  pos += vec3( domPos.x / windowSize.x * 2.0, -domPos.y / windowSize.y * 2.0, 0.0 );\n\n  gl_Position = vec4( pos, 1.0 );\n  vUv = uv;\n}\n");

/***/ }),

/***/ "./src/utils/GPUComputationController/shaders/passThrough.fs":
/*!*******************************************************************!*\
  !*** ./src/utils/GPUComputationController/shaders/passThrough.fs ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("#define GLSLIFY 1\nuniform sampler2D tex;\nvarying vec2 vUv;\n\nvoid main() {\n    gl_FragColor = texture2D(tex,vUv);\n}");

/***/ }),

/***/ "./src/utils/GPUComputationController/shaders/passThrough.vs":
/*!*******************************************************************!*\
  !*** ./src/utils/GPUComputationController/shaders/passThrough.vs ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n    gl_Position = vec4( position, 1.0 );\n    vUv = uv;\n}");

/***/ }),

/***/ "./src/utils/PostProcessing/shaders/passThrow.vs":
/*!*******************************************************!*\
  !*** ./src/utils/PostProcessing/shaders/passThrow.vs ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ("#define GLSLIFY 1\nvarying vec2 vUv;\nvoid main() {\n    vUv = uv;\n    gl_Position = vec4( position, 1.0 );\n}   ");

/***/ }),

/***/ "../../node_modules/to-px/browser.js":
/*!*******************************************!*\
  !*** ../../node_modules/to-px/browser.js ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var parseUnit = __webpack_require__(/*! parse-unit */ "../../node_modules/parse-unit/index.js")

module.exports = toPX

var PIXELS_PER_INCH = getSizeBrutal('in', document.body) // 96


function getPropertyInPX(element, prop) {
  var parts = parseUnit(getComputedStyle(element).getPropertyValue(prop))
  return parts[0] * toPX(parts[1], element)
}

//This brutal hack is needed
function getSizeBrutal(unit, element) {
  var testDIV = document.createElement('div')
  testDIV.style['height'] = '128' + unit
  element.appendChild(testDIV)
  var size = getPropertyInPX(testDIV, 'height') / 128
  element.removeChild(testDIV)
  return size
}

function toPX(str, element) {
  if (!str) return null

  element = element || document.body
  str = (str + '' || 'px').trim().toLowerCase()
  if(element === window || element === document) {
    element = document.body
  }

  switch(str) {
    case '%':  //Ambiguous, not sure if we should use width or height
      return element.clientHeight / 100.0
    case 'ch':
    case 'ex':
      return getSizeBrutal(str, element)
    case 'em':
      return getPropertyInPX(element, 'font-size')
    case 'rem':
      return getPropertyInPX(document.body, 'font-size')
    case 'vw':
      return window.innerWidth/100
    case 'vh':
      return window.innerHeight/100
    case 'vmin':
      return Math.min(window.innerWidth, window.innerHeight) / 100
    case 'vmax':
      return Math.max(window.innerWidth, window.innerHeight) / 100
    case 'in':
      return PIXELS_PER_INCH
    case 'cm':
      return PIXELS_PER_INCH / 2.54
    case 'mm':
      return PIXELS_PER_INCH / 25.4
    case 'pt':
      return PIXELS_PER_INCH / 72
    case 'pc':
      return PIXELS_PER_INCH / 6
    case 'px':
      return 1
  }

  // detect number of units
  var parts = parseUnit(str)
  if (!isNaN(parts[0]) && parts[1]) {
    var px = toPX(parts[1], element)
    return typeof px === 'number' ? parts[0] * px : null
  }

  return null
}


/***/ }),

/***/ "./src/core/BaseLayer.ts":
/*!*******************************!*\
  !*** ./src/core/BaseLayer.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BaseLayer": () => (/* binding */ BaseLayer)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "three");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);

class BaseLayer extends three__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher {
    constructor() {
        super();
        this.readyAnimate = false;
        this.time = 0;
        this.info = {
            name: '',
            aspectSetting: {
                mainAspect: 16 / 9,
                wideAspect: 10 / 1,
                portraitAspect: 1 / 2,
            },
            size: {
                windowSize: new three__WEBPACK_IMPORTED_MODULE_0__.Vector2(),
                windowAspectRatio: 1.0,
                canvasSize: new three__WEBPACK_IMPORTED_MODULE_0__.Vector2(),
                canvasPixelSize: new three__WEBPACK_IMPORTED_MODULE_0__.Vector2(),
                canvasAspectRatio: 1.0,
                pixelRatio: window.devicePixelRatio,
                portraitWeight: 0.0,
                wideWeight: 0.0
            }
        };
        this.commonUniforms = {
            time: {
                value: 0
            }
        };
        this.scene = new three__WEBPACK_IMPORTED_MODULE_0__.Scene();
        this.camera = new three__WEBPACK_IMPORTED_MODULE_0__.PerspectiveCamera(50, 1, 0.1, 1000);
    }
    tick(deltaTime) {
        this.time += deltaTime;
        this.commonUniforms.time.value = this.time;
        if (this.readyAnimate) {
            this.animate(deltaTime);
        }
    }
    animate(deltaTime) { }
    onBind(layerInfo) {
        this.info.name = layerInfo.name;
        this.info.canvas = layerInfo.canvas;
        if (layerInfo.wrapperElement) {
            this.setWrapperElement(layerInfo.wrapperElement || null, false);
        }
        this.info.aspectSetting = layerInfo.aspectSetting || this.info.aspectSetting;
        this.info.alpha = layerInfo.alpha;
        this.info.size.pixelRatio = layerInfo.pixelRatio || this.info.size.pixelRatio;
        this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__.WebGLRenderer(this.info);
        this.renderer.setPixelRatio(this.info.size.pixelRatio);
        this.renderer.debug.checkShaderErrors = true;
        this.info.canvas = this.renderer.domElement;
        setTimeout(() => {
            this.onResize();
            this.readyAnimate = true;
        }, 0);
    }
    onUnbind() {
        this.removeChildrens(this.scene);
        this.readyAnimate = false;
    }
    removeChildrens(object) {
        const length = object.children.length;
        for (let i = length - 1; i >= 0; i--) {
            this.removeChildrens(object.children[i]);
            let geo = undefined;
            let mat = undefined;
            if (object.children[i].isMesh) {
                geo = object.children[i].geometry;
                mat = object.children[i].material;
            }
            object.remove((object.children[i]));
            if (geo) {
                geo.dispose();
            }
            if (mat) {
                mat.dispose();
            }
        }
    }
    setWrapperElement(wrapperElm, dispatchResize = true) {
        this.info.wrapperElement = wrapperElm;
        this.info.wrapperElementRect = wrapperElm ? wrapperElm.getBoundingClientRect() : null;
        if (dispatchResize) {
            this.onResize();
        }
    }
    onResize() {
        if (this.renderer == null)
            return;
        const newWindowSize = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2(window.innerWidth, window.innerHeight);
        const newCanvasSize = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
        if (this.info.wrapperElement) {
            newCanvasSize.set(this.info.wrapperElement.clientWidth, this.info.wrapperElement.clientHeight);
        }
        else {
            newCanvasSize.copy(newWindowSize);
        }
        let portraitWeight = 1.0 - ((newCanvasSize.x / newCanvasSize.y) - this.info.aspectSetting.portraitAspect) / (this.info.aspectSetting.mainAspect - this.info.aspectSetting.portraitAspect);
        portraitWeight = Math.min(1.0, Math.max(0.0, portraitWeight));
        let wideWeight = 1.0 - ((newCanvasSize.x / newCanvasSize.y) - this.info.aspectSetting.wideAspect) / (this.info.aspectSetting.mainAspect - this.info.aspectSetting.wideAspect);
        wideWeight = Math.min(1.0, Math.max(0.0, wideWeight));
        this.info.size.windowSize.copy(newWindowSize);
        this.info.size.windowAspectRatio = newWindowSize.x / newWindowSize.y;
        this.info.size.canvasSize.copy(newCanvasSize);
        this.info.size.canvasPixelSize.copy(newCanvasSize.clone().multiplyScalar(this.renderer.getPixelRatio()));
        this.info.size.canvasAspectRatio = newCanvasSize.x / newCanvasSize.y;
        this.info.size.portraitWeight = portraitWeight;
        this.info.size.wideWeight = wideWeight;
        this.renderer.setPixelRatio(this.info.size.pixelRatio);
        this.renderer.setSize(this.info.size.canvasSize.x, this.info.size.canvasSize.y);
        this.camera.aspect = this.info.size.canvasAspectRatio;
        this.camera.updateProjectionMatrix();
        if (this.info.wrapperElement) {
            this.info.wrapperElementRect = this.info.wrapperElement.getBoundingClientRect();
        }
    }
    pointerEvent(e) {
        const canvasPointerPos = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
        canvasPointerPos.copy(e.position);
        if (this.info.canvas) {
            const canvasRect = this.info.canvas.getBoundingClientRect();
            canvasPointerPos.sub(new three__WEBPACK_IMPORTED_MODULE_0__.Vector2(canvasRect.x, canvasRect.y));
        }
        const normalizedPosition = canvasPointerPos.clone();
        normalizedPosition.divide(this.info.size.canvasSize);
        normalizedPosition.y = 1.0 - normalizedPosition.y;
        normalizedPosition.multiplyScalar(2.0).subScalar(1.0);
        const args = {
            event: e.pointerEvent,
            position: canvasPointerPos.clone(),
            delta: e.delta.clone(),
            normalizedPosition: normalizedPosition.clone(),
            windowPosition: e.position.clone()
        };
        if (e.pointerEventType == 'hover') {
            this.onHover(args);
        }
        else if (e.pointerEventType == 'start') {
            this.onTouchStart(args);
        }
        else if (e.pointerEventType == 'move') {
            this.onTouchMove(args);
        }
        else if (e.pointerEventType == 'end') {
            this.onTouchEnd(args);
        }
    }
    onTouchStart(args) { }
    onTouchMove(args) { }
    onTouchEnd(args) { }
    onHover(args) { }
    onWheel(event, trackpadDelta) { }
}


/***/ }),

/***/ "./src/core/Controller.ts":
/*!********************************!*\
  !*** ./src/core/Controller.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Controller": () => (/* binding */ Controller)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "three");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_Pointer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/Pointer */ "./src/utils/Pointer.ts");


class Controller extends three__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher {
    constructor(parameter) {
        super();
        this.layers = [];
        if (!(parameter && parameter.silent)) {
            console.log("%c- ore-three " + (__webpack_require__(/*! ../../package.json */ "./package.json").version) + " -", 'padding: 5px 10px ;background-color: black; color: white;font-size:11px');
        }
        this.clock = new three__WEBPACK_IMPORTED_MODULE_0__.Clock();
        /*-------------------------------
            Pointer
        -------------------------------*/
        this.pointer = new _utils_Pointer__WEBPACK_IMPORTED_MODULE_1__.Pointer();
        this.setPointerEventElement((parameter && parameter.pointerEventElement) || document.body);
        /*-------------------------------
            Events
        -------------------------------*/
        let pointerUpdate = this.pointerEvent.bind(this);
        let pointerWheel = this.onWheel.bind(this);
        let orientationchange = this.onOrientationDevice.bind(this);
        let windowResize = this.onWindowResize.bind(this);
        this.pointer.addEventListener('update', pointerUpdate);
        this.pointer.addEventListener('wheel', pointerWheel);
        window.addEventListener('orientationchange', orientationchange);
        window.addEventListener('resize', windowResize);
        this.addEventListener('dispose', () => {
            this.pointer.removeEventListener('update', pointerUpdate);
            this.pointer.removeEventListener('wheel', pointerWheel);
            window.removeEventListener('orientationchange', orientationchange);
            window.removeEventListener('resize', windowResize);
        });
        this.tick();
    }
    tick() {
        const deltaTime = this.clock.getDelta();
        this.pointer.update();
        for (let i = 0; i < this.layers.length; i++) {
            this.layers[i].tick(deltaTime);
        }
        requestAnimationFrame(this.tick.bind(this));
    }
    onWindowResize() {
        for (let i = 0; i < this.layers.length; i++) {
            this.layers[i].onResize();
        }
    }
    onOrientationDevice() {
        this.onWindowResize();
    }
    pointerEvent(e) {
        for (let i = 0; i < this.layers.length; i++) {
            this.layers[i].pointerEvent(e);
        }
    }
    onWheel(e) {
        for (let i = 0; i < this.layers.length; i++) {
            this.layers[i].onWheel(e.wheelEvent, e.trackpadDelta);
        }
    }
    /*-------------------------------
        API
    -------------------------------*/
    addLayer(layer, layerInfo) {
        while (this.getLayer(layerInfo.name)) {
            layerInfo.name += '_';
        }
        this.layers.push(layer);
        layer.onBind(layerInfo);
    }
    getLayer(layerName) {
        for (let i = 0; i < this.layers.length; i++) {
            if (this.layers[i].info.name == layerName)
                return this.layers[i];
        }
        return null;
    }
    removeLayer(layerNmae) {
        for (let i = this.layers.length - 1; i >= 0; i--) {
            const layer = this.layers[i];
            if (layer.info.name == layerNmae) {
                layer.onUnbind();
                this.layers.splice(i, 1);
            }
        }
    }
    setPointerEventElement(elm) {
        if (this.pointerEventElement) {
            this.pointer.unregisterElement(this.pointerEventElement);
        }
        this.pointer.registerElement(elm);
        this.pointerEventElement = elm;
    }
    dispose() {
        this.layers.forEach(item => {
            this.removeLayer(item.info.name);
        });
        this.tick = () => {
            return;
        };
        this.dispatchEvent({ type: 'dispose' });
    }
}


/***/ }),

/***/ "./src/utils/Animation/AnimationAction.ts":
/*!************************************************!*\
  !*** ./src/utils/Animation/AnimationAction.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AnimationAction": () => (/* binding */ AnimationAction)
/* harmony export */ });
/* harmony import */ var wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! wolfy87-eventemitter */ "../../node_modules/wolfy87-eventemitter/EventEmitter.js");
/* harmony import */ var wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_0__);

class AnimationAction extends (wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_0___default()) {
    constructor(name) {
        super();
        this.curves = {};
        this.name = name || '';
        this.uniforms = {};
    }
    addFcurveGroup(curveName, fcurveGroup) {
        this.curves[curveName] = fcurveGroup;
    }
    removeFCurve(curveName) {
        delete this.curves[curveName];
    }
    getFCurveGroup(curveName) {
        return this.curves[curveName] || null;
    }
    /*-------------------------------
        Value as Uniform
    -------------------------------*/
    assignUniforms(curveName, uniform) {
        if (this.uniforms[curveName] !== undefined) {
            console.warn('AnimationAction: uniform ' + curveName + ' is alraedy exist');
        }
        else {
            this.uniforms[curveName] = uniform;
        }
    }
    getUniforms(curveName) {
        let uniName = curveName;
        if (this.uniforms[uniName]) {
            return this.uniforms[uniName];
        }
        this.uniforms[uniName] = {
            value: null
        };
        return this.uniforms[uniName];
    }
    updateFrame(frame) {
        let curveKeys = Object.keys(this.curves);
        for (let i = 0; i < curveKeys.length; i++) {
            let fcurveGroup = this.curves[curveKeys[i]];
            let uni = this.uniforms[curveKeys[i]];
            if (!fcurveGroup || !uni)
                continue;
            if (fcurveGroup.curve.scalar) {
                uni.value = fcurveGroup.curve.scalar.getValue(frame);
            }
            if (fcurveGroup.curve.x) {
                uni.value.x = fcurveGroup.curve.x.getValue(frame);
            }
            if (fcurveGroup.curve.y) {
                uni.value.y = fcurveGroup.curve.y.getValue(frame);
            }
            if (fcurveGroup.curve.z) {
                uni.value.z = fcurveGroup.curve.z.getValue(frame);
            }
            if (fcurveGroup.curve.w) {
                uni.value.w = fcurveGroup.curve.w.getValue(frame);
            }
        }
    }
}


/***/ }),

/***/ "./src/utils/Animation/FCurve.ts":
/*!***************************************!*\
  !*** ./src/utils/Animation/FCurve.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FCurve": () => (/* binding */ FCurve)
/* harmony export */ });
/* harmony import */ var wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! wolfy87-eventemitter */ "../../node_modules/wolfy87-eventemitter/EventEmitter.js");
/* harmony import */ var wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_0__);

class FCurve extends (wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_0___default()) {
    constructor(frames) {
        super();
        this.keyframes = [];
        this.cache = { frame: NaN, value: NaN };
        this.set(frames);
    }
    set(frames) {
        if (frames) {
            this.keyframes.length = 0;
            frames.forEach(keyframe => {
                this.addKeyFrame(keyframe);
            });
        }
    }
    addKeyFrame(keyframe) {
        let index = 0;
        for (let i = 0; i < this.keyframes.length; i++) {
            let frame = this.keyframes[i];
            if (frame.coordinate.x < keyframe.coordinate.x) {
                index++;
            }
            else {
                break;
            }
        }
        this.keyframes.splice(index, 0, keyframe);
    }
    getValue(frame) {
        if (frame == this.cache.frame) {
            return this.cache.value;
        }
        let value = null;
        for (let i = 0; i < this.keyframes.length; i++) {
            let keyframe = this.keyframes[i];
            if (frame <= keyframe.coordinate.x) {
                let beforeKeyFrame = this.keyframes[i - 1];
                if (beforeKeyFrame) {
                    value = beforeKeyFrame.to(keyframe, frame);
                }
                else {
                    value = keyframe.coordinate.y;
                }
                break;
            }
        }
        if (value === null && this.keyframes.length > 0) {
            value = this.keyframes[this.keyframes.length - 1].coordinate.y;
        }
        if (value !== null) {
            this.cache = {
                frame: frame,
                value: value
            };
            return value;
        }
        return 0;
    }
}


/***/ }),

/***/ "./src/utils/Animation/FCurveGroup.ts":
/*!********************************************!*\
  !*** ./src/utils/Animation/FCurveGroup.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FCurveGroup": () => (/* binding */ FCurveGroup)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "three");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! wolfy87-eventemitter */ "../../node_modules/wolfy87-eventemitter/EventEmitter.js");
/* harmony import */ var wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_1__);


class FCurveGroup extends (wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_1___default()) {
    constructor(name, x, y, z, w, scalar) {
        super();
        this.name = '';
        this.type = 'scalar';
        this.curve = {
            x: x || null,
            y: y || null,
            z: z || null,
            w: w || null,
            scalar: scalar || null
        };
        this.calcType();
    }
    setFCurve(curve, axis) {
        this.curve[axis] = curve;
        this.calcType();
    }
    calcType() {
        if (this.curve.scalar) {
            this.type = 'scalar';
        }
        if (this.curve.w) {
            this.type = 'vec4';
        }
        else if (this.curve.z) {
            this.type = 'vec3';
        }
        else if (this.curve.y) {
            this.type = 'vec2';
        }
        else if (this.curve.x) {
            this.type = 'scalar';
        }
    }
    createInitValue() {
        if (this.type == 'vec2') {
            return new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
        }
        else if (this.type == 'vec3') {
            return new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();
        }
        else if (this.type == 'vec4') {
            return new three__WEBPACK_IMPORTED_MODULE_0__.Vector4();
        }
        return 0;
    }
}


/***/ }),

/***/ "./src/utils/Animation/FCurveKeyFrame.ts":
/*!***********************************************!*\
  !*** ./src/utils/Animation/FCurveKeyFrame.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FCurveKeyFrame": () => (/* binding */ FCurveKeyFrame)
/* harmony export */ });
/* harmony import */ var wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! wolfy87-eventemitter */ "../../node_modules/wolfy87-eventemitter/EventEmitter.js");
/* harmony import */ var wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Easings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Easings */ "./src/utils/Easings.ts");


class FCurveKeyFrame extends (wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_0___default()) {
    constructor(coordinate, handleLeft, handleRight, interpolation) {
        super();
        this.coordinate = { x: 0, y: 0 };
        this.handleLeft = { x: 0, y: 0 };
        this.handleRight = { x: 0, y: 0 };
        this.interpolation = 'BEZIER';
        this.easing = null;
        this.nextFrame = null;
        this.set(coordinate, handleLeft, handleRight, interpolation);
    }
    set(coordinate, handleLeft, handleRight, interpolation) {
        this.coordinate = coordinate;
        this.handleLeft = handleLeft || coordinate;
        this.handleRight = handleRight || coordinate;
        this.interpolation = interpolation || 'BEZIER';
    }
    getEasing(interpolation, nextFrame) {
        if (interpolation == 'BEZIER') {
            return _Easings__WEBPACK_IMPORTED_MODULE_1__.Easings.bezier(this.coordinate, this.handleRight, nextFrame.handleLeft, nextFrame.coordinate);
        }
        else {
            return (t) => {
                let d = (nextFrame.coordinate.y - this.coordinate.y);
                t = (t - this.coordinate.x) / (nextFrame.coordinate.x - this.coordinate.x);
                return this.coordinate.y + t * d;
            };
        }
    }
    to(nextFrame, t) {
        if (this.nextFrame == null || this.nextFrame.coordinate.x != nextFrame.coordinate.x || this.nextFrame.coordinate.y != nextFrame.coordinate.y) {
            this.easing = this.getEasing(this.interpolation, nextFrame);
            this.nextFrame = nextFrame;
        }
        if (this.easing) {
            return this.easing(t);
        }
        else {
            return 0;
        }
    }
}


/***/ }),

/***/ "./src/utils/Animator.ts":
/*!*******************************!*\
  !*** ./src/utils/Animator.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Animator": () => (/* binding */ Animator)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "three");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Easings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Easings */ "./src/utils/Easings.ts");
/* harmony import */ var _Lerps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Lerps */ "./src/utils/Lerps.ts");



class Animator extends three__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher {
    constructor() {
        super();
        this._isAnimating = false;
        this.animatingCount = 0;
        this.dispatchEvents = [];
        this.variables = {};
    }
    get isAnimating() {
        return this._isAnimating;
    }
    add(params) {
        let lerpFunc = params.customLerpFunc || _Lerps__WEBPACK_IMPORTED_MODULE_2__.Lerps.getLerpFunc(params.initValue);
        let variable = {
            time: -1,
            value: params.initValue,
            startValue: params.initValue,
            goalValue: null,
            easing: params.easing || _Easings__WEBPACK_IMPORTED_MODULE_1__.Easings.sigmoid(),
            lerpFunc: lerpFunc,
        };
        this.variables[params.name] = variable;
        return variable;
    }
    setEasing(name, easing) {
        let variable = this.variables[name];
        if (variable) {
            variable.easing = easing;
        }
        else {
            console.warn('"' + name + '"' + ' is not exist');
        }
    }
    animate(name, goalValue, duration = 1, callback, easing) {
        let variable = this.variables[name];
        let promise = new Promise(resolve => {
            if (variable) {
                if (duration <= 0) {
                    this.setValue(name, goalValue);
                    variable.time = 1.0;
                    variable.onAnimationFinished = () => {
                        callback && callback();
                        resolve(null);
                    };
                    return;
                }
                if (variable.time == -1) {
                    this._isAnimating = true;
                    this.animatingCount++;
                }
                variable.time = 0;
                variable.duration = duration;
                variable.startValue = variable.value;
                variable.goalValue = goalValue;
                variable.onAnimationFinished = () => {
                    callback && callback();
                    resolve(null);
                };
                if (easing) {
                    this.setEasing(name, easing);
                }
            }
            else {
                console.warn('"' + name + '"' + ' is not exist');
            }
        });
        return promise;
    }
    cancelAnimate(name) {
        let variable = this.variables[name];
        if (variable) {
            variable.time = 1.0;
            variable.onAnimationFinished = null;
        }
        else {
            console.warn('"' + name + '"' + ' is not exist');
        }
    }
    setValue(name, value) {
        if (this.variables[name]) {
            this.variables[name].value = value;
            this.cancelAnimate(name);
        }
        else {
            console.warn('"' + name + '"' + ' is not exist');
            return null;
        }
    }
    get(name) {
        if (this.variables[name]) {
            return this.variables[name].value;
        }
        else {
            console.warn('"' + name + '"' + ' is not exist');
            return null;
        }
    }
    getVariableObject(name, mute = false) {
        if (this.variables[name]) {
            return this.variables[name];
        }
        else {
            if (!mute) {
                console.warn('"' + name + '"' + ' is not exist');
            }
            return null;
        }
    }
    isAnimatingVariable(name, mute = false) {
        if (this.variables[name]) {
            let time = this.variables[name].time;
            return time != -1.0;
        }
        else {
            if (!mute) {
                console.warn('"' + name + '"' + ' is not exist');
            }
            return null;
        }
    }
    applyToUniforms(uniforms) {
        let keys = Object.keys(this.variables);
        for (let i = 0; i < keys.length; i++) {
            let variable = this.getVariableObject(keys[i]);
            if (variable) {
                uniforms[keys[i]] = variable;
            }
        }
    }
    update(deltaTime) {
        if (this.animatingCount == 0) {
            this._isAnimating = false;
        }
        let keys = Object.keys(this.variables);
        for (let i = 0; i < keys.length; i++) {
            let variable = this.variables[keys[i]];
            let time = variable.time;
            if (time == 1.0) {
                this.animatingCount--;
                time = -1;
                if (variable.onAnimationFinished) {
                    this.dispatchEvents.push(variable.onAnimationFinished);
                }
            }
            if (time >= 0.0 && time < 1.0) {
                let duration = variable.duration;
                let easing = variable.easing;
                let lerpFunc = variable.lerpFunc;
                if (duration) {
                    time += (deltaTime || 0.016) / duration;
                    if (duration == 0 || time >= 1.0) {
                        time = 1.0;
                    }
                }
                if (lerpFunc) {
                    variable.value = lerpFunc(variable.startValue, variable.goalValue, easing(time));
                }
                if (time == 1.0) {
                    variable.value = variable.goalValue;
                }
                this.dispatchEvent({
                    type: 'update/' + keys[i],
                    deltaTime: deltaTime,
                    value: variable.value
                });
            }
            variable.time = time;
        }
        while (this.dispatchEvents.length != 0) {
            let func = this.dispatchEvents.pop();
            if (func) {
                func();
            }
        }
        this.dispatchEvent({
            type: 'update',
            deltaTime: deltaTime
        });
        if (this._isAnimating) {
            this.dispatchEvent({
                type: 'animate',
                deltaTime: deltaTime
            });
        }
    }
    wait(t) {
        let prm = new Promise((r) => {
            setTimeout(() => {
                r();
            }, (t * 1000));
        });
        return prm;
    }
}


/***/ }),

/***/ "./src/utils/Background/index.ts":
/*!***************************************!*\
  !*** ./src/utils/Background/index.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Background": () => (/* binding */ Background)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "three");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _shaders_background_vs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shaders/background.vs */ "./src/utils/Background/shaders/background.vs");


class Background extends three__WEBPACK_IMPORTED_MODULE_0__.Mesh {
    constructor(param) {
        let geo = new three__WEBPACK_IMPORTED_MODULE_0__.BufferGeometry();
        let posArray = [];
        let indexArray = [];
        let uvArray = [];
        posArray.push(-1, 1, 0);
        posArray.push(1, 1, 0);
        posArray.push(1, -1, 0);
        posArray.push(-1, -1, 0);
        uvArray.push(0, 1);
        uvArray.push(1, 1);
        uvArray.push(1, 0);
        uvArray.push(0, 0);
        indexArray.push(0, 2, 1, 0, 3, 2);
        let pos = new Float32Array(posArray);
        let indices = new Uint32Array(indexArray);
        let uv = new Float32Array(uvArray);
        geo.setAttribute('position', new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(pos, 3));
        geo.setAttribute('uv', new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(uv, 2));
        geo.setIndex(new three__WEBPACK_IMPORTED_MODULE_0__.BufferAttribute(indices, 1));
        param.vertexShader = param.vertexShader || _shaders_background_vs__WEBPACK_IMPORTED_MODULE_1__["default"];
        param.transparent = param.transparent != undefined ? param.transparent : true;
        param.depthFunc = param.depthFunc != undefined ? param.depthFunc : three__WEBPACK_IMPORTED_MODULE_0__.NeverDepth;
        let mat = new three__WEBPACK_IMPORTED_MODULE_0__.ShaderMaterial(param);
        super(geo, mat);
        this.uniforms = param.uniforms || {};
        this.frustumCulled = false;
    }
    resize(args) {
        this.uniforms.resolution = { value: args.canvasSize };
        this.uniforms.aspectRatio = { value: args.canvasAspectRatio };
    }
}


/***/ }),

/***/ "./src/utils/Bezier.ts":
/*!*****************************!*\
  !*** ./src/utils/Bezier.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Bezier": () => (/* binding */ Bezier)
/* harmony export */ });
/*-------------------------------
        Bezier
-------------------------------*/
var Bezier;
(function (Bezier) {
    // inspired https://github.com/gre/bezier-easing/blob/master/src/index.js and https://github.com/0b5vr/automaton/blob/872420e798d9054d4a7a06c972cbb4261a67b4bc/src/bezierEasing.ts
    Bezier.NEWTON_ITERATIONS = 4;
    Bezier.NEWTON_MIN_SLOPE = 0.001;
    Bezier.SUBDIVISION_PRECISION = 0.0000001;
    Bezier.SUBDIVISION_MAX_ITERATIONS = 10;
    Bezier.BEZIER_EASING_CACHE_SIZE = 11;
    Bezier.BEZIER_EASING_SAMPLE_STEP_SIZE = 1.0 / Bezier.BEZIER_EASING_CACHE_SIZE;
    function calcBezierA(p) {
        return -p.p0 + 3.0 * p.p1 - 3.0 * p.p2 + p.p3;
    }
    function calcBezierB(p) {
        return 3.0 * p.p0 - 6.0 * p.p1 + 3.0 * p.p2;
    }
    function calcBezierC(p) {
        return -3.0 * p.p0 + 3.0 * p.p1;
    }
    function calcBezierSlope(p, t) {
        return 3.0 * calcBezierA(p) * t * t + 2.0 * calcBezierB(p) * t + calcBezierC(p);
    }
    Bezier.calcBezierSlope = calcBezierSlope;
    function calcBezier(p, t) {
        return ((calcBezierA(p) * t + calcBezierB(p)) * t + calcBezierC(p)) * t + p.p0;
    }
    Bezier.calcBezier = calcBezier;
    function subdiv(x, startT, endT, p) {
        let currentX = 0;
        let currentT = 0;
        for (let i = 0; i < Bezier.SUBDIVISION_MAX_ITERATIONS; i++) {
            currentT = startT + (endT - startT) / 2;
            currentX = calcBezier(p, currentT);
            if (currentX > x) {
                endT = currentT;
            }
            else {
                startT = currentT;
            }
        }
        return currentT;
    }
    function newton(x, p, t) {
        for (let i = 0; i < Bezier.NEWTON_ITERATIONS; i++) {
            let slope = calcBezierSlope(p, t);
            if (slope == 0.0) {
                return t;
            }
            let currentX = (calcBezier(p, t)) - x;
            t -= currentX / slope;
        }
        return t;
    }
    function getBezierTfromX(p, x, cache) {
        p.p1 = Math.max(p.p0, Math.min(p.p3, p.p1));
        p.p2 = Math.max(p.p0, Math.min(p.p3, p.p2));
        let sample = 0;
        for (let i = 1; i < cache.length; i++) {
            sample = i - 1;
            if (x < cache[i])
                break;
        }
        let t = sample / (Bezier.BEZIER_EASING_CACHE_SIZE - 1.0);
        let diff = calcBezierSlope(p, t) / (p.p3 - p.p0);
        if (diff == 0.0) {
            return t;
        }
        else if (diff > 0.01) {
            return newton(x, p, t);
        }
        else {
            return subdiv(x, t, t + Bezier.BEZIER_EASING_SAMPLE_STEP_SIZE, p);
        }
    }
    Bezier.getBezierTfromX = getBezierTfromX;
})(Bezier || (Bezier = {}));


/***/ }),

/***/ "./src/utils/BlenderConnector/index.ts":
/*!*********************************************!*\
  !*** ./src/utils/BlenderConnector/index.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BlenderConnector": () => (/* binding */ BlenderConnector)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "three");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! wolfy87-eventemitter */ "../../node_modules/wolfy87-eventemitter/EventEmitter.js");
/* harmony import */ var wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Animation_AnimationAction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Animation/AnimationAction */ "./src/utils/Animation/AnimationAction.ts");
/* harmony import */ var _Animation_FCurve__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Animation/FCurve */ "./src/utils/Animation/FCurve.ts");
/* harmony import */ var _Animation_FCurveGroup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Animation/FCurveGroup */ "./src/utils/Animation/FCurveGroup.ts");
/* harmony import */ var _Animation_FCurveKeyFrame__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Animation/FCurveKeyFrame */ "./src/utils/Animation/FCurveKeyFrame.ts");






class BlenderConnector extends (wolfy87_eventemitter__WEBPACK_IMPORTED_MODULE_1___default()) {
    constructor(url) {
        super();
        this.connected = false;
        // frame
        this.frameCurrent = 0;
        this.frameStart = 0;
        this.frameEnd = 0;
        // animation
        this.objects = [];
        this.actions = [];
        this.fcurveGroupList = {};
        // uniforms
        this.uniforms = {};
        if (url) {
            this.url = url;
            this.connect(this.url);
        }
    }
    connect(url) {
        this.url = url;
        this.ws = new WebSocket(this.url);
        this.ws.onopen = this.onOpen.bind(this);
        this.ws.onmessage = this.onMessage.bind(this);
        this.ws.onclose = this.onClose.bind(this);
        this.ws.onerror = (e) => {
            console.error(e);
        };
    }
    syncJsonScene(jsonPath) {
        let req = new XMLHttpRequest();
        req.onreadystatechange = () => {
            if (req.readyState == 4) {
                if (req.status == 200) {
                    this.onSyncScene(JSON.parse(req.response));
                }
            }
        };
        req.open('GET', jsonPath);
        req.send();
    }
    /*-------------------------------
        Events
    -------------------------------*/
    onSyncScene(data) {
        this.actions.length = 0;
        this.objects.length = 0;
        // curves
        data.fcurves.forEach(fcurveData => {
            let curve = new _Animation_FCurve__WEBPACK_IMPORTED_MODULE_3__.FCurve();
            curve.set(fcurveData.keyframes.map(frame => {
                return new _Animation_FCurveKeyFrame__WEBPACK_IMPORTED_MODULE_5__.FCurveKeyFrame(frame.c, frame.h_l, frame.h_r, frame.i);
            }));
            let fcurveGroup = this.fcurveGroupList[fcurveData.name];
            if (!fcurveGroup) {
                fcurveGroup = new _Animation_FCurveGroup__WEBPACK_IMPORTED_MODULE_4__.FCurveGroup(fcurveData.name);
                this.fcurveGroupList[fcurveData.name] = fcurveGroup;
            }
            fcurveGroup.setFCurve(curve, fcurveData.axis);
        });
        // actions
        data.actions.forEach(actionData => {
            let action = new _Animation_AnimationAction__WEBPACK_IMPORTED_MODULE_2__.AnimationAction(actionData.name);
            actionData.fcurves.forEach(fcurveGroupName => {
                let fcurveGroup = this.fcurveGroupList[fcurveGroupName];
                if (fcurveGroup) {
                    action.addFcurveGroup(fcurveGroupName, fcurveGroup);
                    let uni = this.uniforms[fcurveGroupName];
                    if (uni) {
                        action.assignUniforms(fcurveGroupName, uni);
                    }
                    else {
                        this.uniforms[fcurveGroupName] = action.getUniforms(fcurveGroupName);
                        this.uniforms[fcurveGroupName].value = fcurveGroup.createInitValue();
                    }
                }
            });
            this.actions.push(action);
        });
        // objects
        data.objects.forEach(objectData => {
            this.objects.push(objectData);
        });
    }
    onSyncFrame(data) {
        this.setFrame(data.current, data.start, data.end);
    }
    /*-------------------------------
        WS Events
    -------------------------------*/
    onOpen(event) {
        this.connected = true;
    }
    onMessage(e) {
        let msg = JSON.parse(e.data);
        if (msg.type == 'sync/scene') {
            this.onSyncScene(msg.data);
        }
        else if (msg.type == "sync/timeline") {
            this.onSyncFrame(msg.data);
        }
    }
    onClose(e) {
        this.disposeWS();
    }
    /*-------------------------------
        API
    -------------------------------*/
    getActionNameList(objectName) {
        for (let i = 0; i < this.objects.length; i++) {
            if (this.objects[i].name == objectName) {
                return this.objects[i].actions;
            }
        }
        return [];
    }
    getAction(actionName) {
        for (let i = 0; i < this.actions.length; i++) {
            if (this.actions[i].name == actionName) {
                return this.actions[i];
            }
        }
        return null;
    }
    getActionList(objectName) {
        let actions = [];
        let actionNameList = this.getActionNameList(objectName);
        actionNameList.forEach(actionName => {
            let action = this.getAction(actionName);
            if (action) {
                actions.push(action);
            }
        });
        return actions;
    }
    getValue(propertyName) {
        let uni = this.uniforms[propertyName];
        if (uni) {
            return uni.value;
        }
        let fcurveGroup = this.fcurveGroupList[propertyName];
        if (fcurveGroup) {
            let initValue = fcurveGroup.createInitValue();
            return this.getUniform(propertyName, initValue).value;
        }
        return null;
    }
    getValueAsScalar(propertyName) {
        let value = this.getValue(propertyName);
        if (value) {
            if (typeof value == 'number') {
                return value;
            }
            else {
                return value.x;
            }
        }
        return 0;
    }
    getValueAsVector2(propertyName) {
        let value = this.getValue(propertyName);
        if (value) {
            if (typeof value == 'number') {
                return new three__WEBPACK_IMPORTED_MODULE_0__.Vector2(value, 0.0);
            }
            else if ('isVector2' in value) {
                return value;
            }
            else {
                return new three__WEBPACK_IMPORTED_MODULE_0__.Vector2(value.x, value.y);
            }
        }
        else {
            return new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
        }
    }
    getValueAsVector3(propertyName) {
        let value = this.getValue(propertyName);
        if (value) {
            if (value.isVector3) {
                return value;
            }
            if (typeof value == 'number') {
                return new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(value, value, value);
            }
            else {
                let res = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(value.x, value.y);
                if ('isVector4' in value) {
                    res.z = value.z;
                }
                return res;
            }
        }
        else {
            return new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();
        }
    }
    getValueAsVector4(propertyName) {
        let value = this.getValue(propertyName);
        if (value) {
            if (value.isVector4) {
                return value;
            }
            if (typeof value == 'number') {
                return new three__WEBPACK_IMPORTED_MODULE_0__.Vector4(value, value, value, value);
            }
            else {
                let res = new three__WEBPACK_IMPORTED_MODULE_0__.Vector4(value.x, value.y);
                if ('isVector3' in value) {
                    res.z = value.z;
                }
            }
        }
        else {
            return new three__WEBPACK_IMPORTED_MODULE_0__.Vector4();
        }
    }
    getValueAsEuler(propertyName) {
        let value = this.getValue(propertyName);
        let res = new three__WEBPACK_IMPORTED_MODULE_0__.Euler();
        res.order = 'YXZ';
        if (value) {
            if (typeof value == 'number') {
                res.x = value;
            }
            else {
                res.x = value.x;
                res.y = value.y;
                if ('isVector3' in value || 'isVector4' in value) {
                    res.z = value.z;
                }
            }
        }
        return res;
    }
    getUniform(propertyName, initialValue) {
        if (!this.uniforms[propertyName]) {
            this.uniforms[propertyName] = {
                value: initialValue
            };
        }
        return this.uniforms[propertyName];
    }
    setFrame(current, start, end) {
        this.frameCurrent = current;
        this.frameStart = start || this.frameStart;
        this.frameEnd = end || this.frameEnd;
        for (let i = 0; i < this.actions.length; i++) {
            this.actions[i].updateFrame(this.frameCurrent);
        }
        this.emitEvent('sync/timeline', [this.frameCurrent, this.frameStart, this.frameEnd]);
    }
    /*-------------------------------
        Dispose
    -------------------------------*/
    dispose() {
        this.disposeWS();
    }
    disposeWS() {
        if (this.ws) {
            this.ws.close();
            this.ws.onmessage = null;
            this.ws.onclose = null;
            this.ws.onopen = null;
            this.connected = false;
        }
    }
}


/***/ }),

/***/ "./src/utils/DOMMesh/index.ts":
/*!************************************!*\
  !*** ./src/utils/DOMMesh/index.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DOMMesh": () => (/* binding */ DOMMesh)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "three");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _domMesh_vs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./domMesh.vs */ "./src/utils/DOMMesh/domMesh.vs");
/* harmony import */ var _Uniforms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Uniforms */ "./src/utils/Uniforms.ts");



class DOMMesh extends three__WEBPACK_IMPORTED_MODULE_0__.Mesh {
    constructor(element, parameter) {
        let geo = new three__WEBPACK_IMPORTED_MODULE_0__.PlaneBufferGeometry(2, 2);
        parameter.vertexShader = _domMesh_vs__WEBPACK_IMPORTED_MODULE_1__["default"];
        let uni = _Uniforms__WEBPACK_IMPORTED_MODULE_2__.UniformsLib.mergeUniforms(parameter.uniforms, {
            domPos: {
                value: new three__WEBPACK_IMPORTED_MODULE_0__.Vector2()
            },
            domSize: {
                value: new three__WEBPACK_IMPORTED_MODULE_0__.Vector2()
            },
            windowSize: {
                value: new three__WEBPACK_IMPORTED_MODULE_0__.Vector2()
            },
            aspectRatio: {
                value: 1.0
            }
        });
        parameter.uniforms = uni;
        let mat = new three__WEBPACK_IMPORTED_MODULE_0__.ShaderMaterial(parameter);
        super(geo, mat);
        this.frustumCulled = false;
        this._uniforms = uni;
        this.element = element;
        this.update();
    }
    get uniforms() {
        return this._uniforms;
    }
    update() {
        let rect = this.element.getBoundingClientRect();
        this._uniforms.windowSize.value.set(window.innerWidth, window.innerHeight);
        this._uniforms.aspectRatio.value = window.innerWidth / window.innerHeight;
        this._uniforms.domSize.value.set(rect.width, rect.height);
        this._uniforms.domPos.value.set(rect.left, rect.top);
    }
}


/***/ }),

/***/ "./src/utils/Easings.ts":
/*!******************************!*\
  !*** ./src/utils/Easings.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Easings": () => (/* binding */ Easings)
/* harmony export */ });
/* harmony import */ var _Bezier__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Bezier */ "./src/utils/Bezier.ts");

var Easings;
(function (Easings) {
    function sigmoid(weight = 6) {
        return (x) => {
            var e1 = Math.exp(-weight * (2 * x - 1));
            var e2 = Math.exp(-weight);
            return (1 + (1 - e1) / (1 + e1) * (1 + e2) / (1 - e2)) / 2;
        };
    }
    Easings.sigmoid = sigmoid;
    function smoothstep(min, max, value) {
        let x = Math.max(0, Math.min(1, (value - min) / (max - min)));
        return x * x * (3 - 2 * x);
    }
    Easings.smoothstep = smoothstep;
    /*
    @auther https://gist.github.com/gre/1650294
    */
    function linear(t) {
        return t;
    }
    Easings.linear = linear;
    function easeInQuad(t) {
        return t * t;
    }
    Easings.easeInQuad = easeInQuad;
    function easeOutQuad(t) {
        return t * (2 - t);
    }
    Easings.easeOutQuad = easeOutQuad;
    function easeInOutQuad(t) {
        return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
    }
    Easings.easeInOutQuad = easeInOutQuad;
    function easeInCubic(t) {
        return t * t * t;
    }
    Easings.easeInCubic = easeInCubic;
    function easeOutCubic(t) {
        return (--t) * t * t + 1;
    }
    Easings.easeOutCubic = easeOutCubic;
    function easeInOutCubic(t) {
        return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;
    }
    Easings.easeInOutCubic = easeInOutCubic;
    function easeInQuart(t) {
        return t * t * t * t;
    }
    Easings.easeInQuart = easeInQuart;
    function easeOutQuart(t) {
        return 1 - (--t) * t * t * t;
    }
    Easings.easeOutQuart = easeOutQuart;
    function easeInOutQuart(t) {
        return t < .5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t;
    }
    Easings.easeInOutQuart = easeInOutQuart;
    function easeInQuint(t) {
        return t * t * t * t * t;
    }
    Easings.easeInQuint = easeInQuint;
    function easeOutQuint(t) {
        return 1 + (--t) * t * t * t * t;
    }
    Easings.easeOutQuint = easeOutQuint;
    function easeInOutQuint(t) {
        return t < .5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t;
    }
    Easings.easeInOutQuint = easeInOutQuint;
    function bezier(c1, h1, h2, c2) {
        var cache = new Array(_Bezier__WEBPACK_IMPORTED_MODULE_0__.Bezier.BEZIER_EASING_CACHE_SIZE);
        for (var i = 0; i < _Bezier__WEBPACK_IMPORTED_MODULE_0__.Bezier.BEZIER_EASING_CACHE_SIZE; ++i) {
            cache[i] = _Bezier__WEBPACK_IMPORTED_MODULE_0__.Bezier.calcBezier({ p0: c1.x, p1: h1.x, p2: h2.x, p3: c2.x }, i / (_Bezier__WEBPACK_IMPORTED_MODULE_0__.Bezier.BEZIER_EASING_CACHE_SIZE - 1.0));
        }
        return (x) => {
            if (x <= c1.x)
                return c1.y;
            if (c2.x <= x)
                return c2.y;
            return _Bezier__WEBPACK_IMPORTED_MODULE_0__.Bezier.calcBezier({ p0: c1.y, p1: h1.y, p2: h2.y, p3: c2.y }, _Bezier__WEBPACK_IMPORTED_MODULE_0__.Bezier.getBezierTfromX({ p0: c1.x, p1: h1.x, p2: h2.x, p3: c2.x }, x, cache));
        };
    }
    Easings.bezier = bezier;
    function cubicBezier(h1X, h1Y, h2X, h2Y) {
        return bezier({ x: 0.0, y: 0.0 }, { x: h1X, y: h1Y }, { x: h2X, y: h2Y }, { x: 1.0, y: 1.0 });
    }
    Easings.cubicBezier = cubicBezier;
})(Easings || (Easings = {}));


/***/ }),

/***/ "./src/utils/EventDispatcher.ts":
/*!**************************************!*\
  !*** ./src/utils/EventDispatcher.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EventDispatcher": () => (/* binding */ EventDispatcher)
/* harmony export */ });
class EventDispatcher {
    constructor() {
        this.events = [];
    }
    addEventListener(type, listener) {
        this.events.push({
            type: type,
            listener: listener
        });
    }
    dispatchEvent(event) {
        event.target = this;
        for (let i = 0; i < this.events.length; i++) {
            if (event.type == this.events[i].type) {
                this.events[i].listener(event);
            }
        }
    }
    removeEventListener(type, listener) {
        for (let i = this.events.length; i >= 0; i--) {
            if (type == this.events[i].type && listener == this.events[i].listener) {
                this.events.splice(i, 1);
            }
        }
    }
}


/***/ }),

/***/ "./src/utils/GPUComputationController/index.ts":
/*!*****************************************************!*\
  !*** ./src/utils/GPUComputationController/index.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GPUComputationController": () => (/* binding */ GPUComputationController)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "three");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _shaders_passThrough_vs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shaders/passThrough.vs */ "./src/utils/GPUComputationController/shaders/passThrough.vs");
/* harmony import */ var _shaders_passThrough_fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shaders/passThrough.fs */ "./src/utils/GPUComputationController/shaders/passThrough.fs");
/* harmony import */ var _Uniforms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Uniforms */ "./src/utils/Uniforms.ts");




class GPUComputationController {
    constructor(renderer, dataSize) {
        this.renderTargets = [];
        this.renderer = renderer;
        this.dataSize = dataSize.clone();
        this.uniforms = {
            dataSize: {
                value: this.dataSize
            }
        };
        this.tempDataLinear = this.createData({
            minFilter: three__WEBPACK_IMPORTED_MODULE_0__.LinearFilter,
            magFilter: three__WEBPACK_IMPORTED_MODULE_0__.LinearFilter
        });
        this.tempDataNear = this.createData({
            minFilter: three__WEBPACK_IMPORTED_MODULE_0__.NearestFilter,
            magFilter: three__WEBPACK_IMPORTED_MODULE_0__.NearestFilter
        });
        this.scene = new three__WEBPACK_IMPORTED_MODULE_0__.Scene();
        this.camera = new three__WEBPACK_IMPORTED_MODULE_0__.Camera();
        this.materials = [];
        this.mesh = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(new three__WEBPACK_IMPORTED_MODULE_0__.PlaneBufferGeometry(2, 2));
        this.scene.add(this.mesh);
    }
    get isSupported() {
        return this.renderer.extensions.get("OES_texture_float");
    }
    createInitializeTexture() {
        let a = new Float32Array(this.uniforms.dataSize.value.x * this.uniforms.dataSize.value.y * 4);
        let texture = new three__WEBPACK_IMPORTED_MODULE_0__.DataTexture(a, this.uniforms.dataSize.value.x, this.uniforms.dataSize.value.y, three__WEBPACK_IMPORTED_MODULE_0__.RGBAFormat, three__WEBPACK_IMPORTED_MODULE_0__.FloatType);
        texture.needsUpdate = true;
        return texture;
    }
    createData(initTex_texParam, textureParam) {
        let userAgent = navigator.userAgent;
        let isiOS = userAgent.indexOf('iPhone') >= 0 || userAgent.indexOf('iPad') >= 0 || navigator.platform == "iPad" || (navigator.platform == "MacIntel" && navigator.userAgent.indexOf("Safari") != -1 && navigator.userAgent.indexOf("Chrome") == -1 && navigator.standalone !== undefined);
        let param = {
            wrapS: three__WEBPACK_IMPORTED_MODULE_0__.ClampToEdgeWrapping,
            wrapT: three__WEBPACK_IMPORTED_MODULE_0__.ClampToEdgeWrapping,
            minFilter: three__WEBPACK_IMPORTED_MODULE_0__.NearestFilter,
            magFilter: three__WEBPACK_IMPORTED_MODULE_0__.NearestFilter,
            format: three__WEBPACK_IMPORTED_MODULE_0__.RGBAFormat,
            type: isiOS ? three__WEBPACK_IMPORTED_MODULE_0__.HalfFloatType : three__WEBPACK_IMPORTED_MODULE_0__.FloatType,
            stencilBuffer: false,
            depthBuffer: false
        };
        let initTex = null;
        let customParam = null;
        if (initTex_texParam) {
            if (initTex_texParam.isDataTexture) {
                initTex = initTex_texParam;
                if (textureParam) {
                    customParam = textureParam;
                }
            }
            else {
                customParam = initTex_texParam;
            }
        }
        if (customParam) {
            param.wrapS = customParam.wrapS || param.wrapS;
            param.wrapT = customParam.wrapT || param.wrapT;
            param.minFilter = customParam.minFilter || param.minFilter;
            param.magFilter = customParam.magFilter || param.magFilter;
            param.format = customParam.format || param.format;
            param.type = customParam.type || param.type;
            param.stencilBuffer = customParam.stencilBuffer || param.stencilBuffer;
            param.depthBuffer = customParam.depthBuffer || param.depthBuffer;
        }
        let buf = new three__WEBPACK_IMPORTED_MODULE_0__.WebGLRenderTarget(this.uniforms.dataSize.value.x, this.uniforms.dataSize.value.y, param);
        let data = { buffer: buf };
        this.renderTargets.push(buf);
        if (initTex) {
            let initKernel = this.createKernel({
                fragmentShader: _shaders_passThrough_fs__WEBPACK_IMPORTED_MODULE_2__["default"],
                uniforms: {
                    tex: {
                        value: initTex
                    }
                }
            });
            this.compute(initKernel, data);
        }
        return data;
    }
    createKernel(param) {
        let uni = _Uniforms__WEBPACK_IMPORTED_MODULE_3__.UniformsLib.mergeUniforms(param.uniforms, this.uniforms);
        param.uniforms = uni;
        param.vertexShader = param.vertexShader || _shaders_passThrough_vs__WEBPACK_IMPORTED_MODULE_1__["default"];
        let mat = new three__WEBPACK_IMPORTED_MODULE_0__.ShaderMaterial(param);
        this.materials.push(mat);
        let kernel = {
            material: mat,
            uniforms: param.uniforms
        };
        return kernel;
    }
    compute(kernel, data, camera) {
        let temp;
        if (data.buffer.texture.magFilter == three__WEBPACK_IMPORTED_MODULE_0__.LinearFilter) {
            temp = this.tempDataLinear;
        }
        else {
            temp = this.tempDataNear;
        }
        this.mesh.material = kernel.material;
        let currentRenderTarget = this.renderer.getRenderTarget();
        this.renderer.setRenderTarget(temp.buffer);
        this.renderer.render(this.scene, camera || this.camera);
        this.swapBuffers(data, temp);
        this.renderer.setRenderTarget(currentRenderTarget);
    }
    swapBuffers(b1, b2) {
        let tmp = b1.buffer;
        b1.buffer = b2.buffer;
        b2.buffer = tmp;
    }
    dispose() {
        let geo = this.mesh.geometry;
        geo.dispose();
        for (let i = 0; i < this.materials.length; i++) {
            this.materials[i].dispose();
        }
        this.scene.remove(this.mesh);
        this.tempDataLinear.buffer.dispose();
        this.tempDataNear.buffer.dispose();
    }
    resizeData(dataSize) {
        this.dataSize.copy(dataSize);
        for (let i = 0; i < this.renderTargets.length; i++) {
            let target = this.renderTargets[i];
            target.setSize(dataSize.x, dataSize.y);
        }
    }
}


/***/ }),

/***/ "./src/utils/LayoutController.ts":
/*!***************************************!*\
  !*** ./src/utils/LayoutController.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LayoutController": () => (/* binding */ LayoutController)
/* harmony export */ });
class LayoutController {
    constructor(object, transform, isAbsolutePosition) {
        this.obj = object;
        this.baseTransform = {
            position: this.obj.position.clone(),
            rotation: this.obj.quaternion.clone(),
            scale: this.obj.scale.clone()
        };
        this.transform = transform;
        if (!isAbsolutePosition) {
            this.transform.position && this.transform.position.add(this.obj.position);
            this.transform.rotation && this.transform.rotation.multiply(this.obj.quaternion);
        }
    }
    updateTransform(weight) {
        if (this.transform.position) {
            this.obj.position.copy(this.baseTransform.position.clone().lerp(this.transform.position, weight));
        }
        if (this.transform.rotation) {
            this.obj.quaternion.copy(this.baseTransform.rotation.clone().slerp(this.transform.rotation, weight));
        }
        if (this.transform.scale) {
            this.obj.scale.copy(this.baseTransform.scale.clone().multiplyScalar(this.transform.scale * (weight) + 1.0 - weight));
        }
    }
}


/***/ }),

/***/ "./src/utils/Lerps.ts":
/*!****************************!*\
  !*** ./src/utils/Lerps.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Lerps": () => (/* binding */ Lerps)
/* harmony export */ });
var Lerps;
(function (Lerps) {
    function number(a, b, t) {
        return a + (b - a) * t;
    }
    Lerps.number = number;
    function numberArray(a, b, t) {
        if (a.length == b.length) {
            let c = [];
            for (let i = 0; i < a.length; i++) {
                c.push(a[i] + (b[i] - a[i]) * t);
            }
            return c;
        }
        else {
            console.log('Different length Arrays!!!');
            return false;
        }
    }
    Lerps.numberArray = numberArray;
    function THREEVectors(a, b, t) {
        return a.clone().lerp(b, t);
    }
    Lerps.THREEVectors = THREEVectors;
    function THREEQuaternion(a, b, t) {
        return a.clone().slerp(b, t);
    }
    Lerps.THREEQuaternion = THREEQuaternion;
    function THREEEuler(a, b, t) {
        let ac = a.clone();
        let bc = b.clone();
        ac.x = ac.x + (bc.x - ac.x) * t;
        ac.y = ac.y + (bc.y - ac.y) * t;
        ac.z = ac.z + (bc.z - ac.z) * t;
        return ac;
    }
    Lerps.THREEEuler = THREEEuler;
    function getLerpFunc(value) {
        if (typeof (value) == 'number') {
            return Lerps.number;
        }
        else if (value instanceof Array && typeof (value[0]) == 'number') {
            return Lerps.numberArray;
        }
        else if (value.isVector2 | value.isVector3 | value.isVector4 | value.isColor) {
            return Lerps.THREEVectors;
        }
        else if (value.isQuaternion) {
            return Lerps.THREEQuaternion;
        }
        else if (value.isEuler) {
            return Lerps.THREEEuler;
        }
    }
    Lerps.getLerpFunc = getLerpFunc;
})(Lerps || (Lerps = {}));


/***/ }),

/***/ "./src/utils/MouseRotator.ts":
/*!***********************************!*\
  !*** ./src/utils/MouseRotator.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MouseRotator": () => (/* binding */ MouseRotator)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "three");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);

class MouseRotator {
    constructor(objs) {
        this.target = objs;
        this.scrollVel = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2();
    }
    update() {
        this.scrollVel.multiplyScalar(0.96);
        let axis = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(this.scrollVel.y, this.scrollVel.x, 0.0).normalize();
        let q = new three__WEBPACK_IMPORTED_MODULE_0__.Quaternion().setFromAxisAngle(axis, this.scrollVel.length());
        q.multiply(this.target.quaternion);
        this.target.quaternion.copy(q);
    }
    addVelocity(scrollDelta) {
        this.scrollVel.addVectors(this.scrollVel, scrollDelta.multiplyScalar(0.001));
    }
}


/***/ }),

/***/ "./src/utils/PageScroller/PageScrollerSection.ts":
/*!*******************************************************!*\
  !*** ./src/utils/PageScroller/PageScrollerSection.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PageScrollerSection": () => (/* binding */ PageScrollerSection)
/* harmony export */ });
class PageScrollerSection {
    constructor(params) {
        this.timelinePercentage = 0;
        this.name = params.name;
        this.element = params.element;
        this.rect = this.element.getBoundingClientRect();
        this.stop = params.stop;
        this.events = params.events;
        this.bottom = params.bottom;
        this.startScrollDown = params.startScrollDown || 0;
        this.startScrollUp = params.startScrollUp || 0;
        this.updateRect(0);
    }
    get isPageScrollerSection() {
        return true;
    }
    updateRect(scrollPos) {
        this.rect = {
            x: this.element.offsetLeft,
            y: this.element.offsetTop - scrollPos,
            width: this.element.offsetWidth,
            height: this.element.offsetHeight
        };
    }
    getScrollPercentage(offsetPos) {
        let bottomOffset = (this.bottom ? this.rect.height - window.innerHeight : 0);
        let pos = (this.rect.y + bottomOffset) - (offsetPos || 0);
        let firstHalfHeight = this.bottom ? this.rect.height : window.innerHeight;
        let firstHalf = Math.min(1.0, 1.0 - (pos / firstHalfHeight));
        let secondHalfHeight = this.bottom ? window.innerHeight : this.rect.height;
        let secondHalf = Math.max(0.0, -pos / secondHalfHeight);
        let percentage = firstHalf + secondHalf;
        return percentage;
    }
}


/***/ }),

/***/ "./src/utils/PageScroller/index.ts":
/*!*****************************************!*\
  !*** ./src/utils/PageScroller/index.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PageScroller": () => (/* binding */ PageScroller)
/* harmony export */ });
/* harmony import */ var _Easings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Easings */ "./src/utils/Easings.ts");
/* harmony import */ var _Animator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Animator */ "./src/utils/Animator.ts");


class PageScroller {
    constructor(parentElement) {
        this.isAutoMove = false;
        this.delaySpeed = 0.1;
        this.dragDelaySpeed = 0.4;
        this.isTouching = false;
        this.deltaMem = 0;
        this.scrollReady = false;
        this.sumDelta = 0;
        this._scrollPos = 0;
        this._scrollPosMem = 0;
        this._scrollPercentage = 0;
        this._scrollPosDelay = 0;
        this._scrollPercentageDelay = 0;
        this.dragStop = false;
        this.dragUnlockReady = true;
        this.parentElement = parentElement;
        this.parentElementHeight = parentElement.getBoundingClientRect().height;
        this.sections = [];
        this.caughtSection = null;
        /*------------------------
            init Animator
        ------------------------*/
        this.animator = new _Animator__WEBPACK_IMPORTED_MODULE_1__.Animator();
        this.animator.add({
            name: 'scrollPos',
            initValue: 0,
            easing: _Easings__WEBPACK_IMPORTED_MODULE_0__.Easings.sigmoid()
        });
    }
    get scrollPos() {
        return this._scrollPos;
    }
    get scrollPosDelay() {
        return this._scrollPosDelay;
    }
    get scrollPercentage() {
        return this._scrollPercentage;
    }
    get scrollPercentageDelay() {
        return this._scrollPercentageDelay;
    }
    get scrollTimelinePercentage() {
        let sum = 0;
        for (let i = 0; i < this.sections.length; i++) {
            let sec = this.sections[i];
            let secBef = this.sections[i - 1];
            let a = Math.max(0.0, sec.element.offsetTop - this.scrollPosDelay + (sec.bottom ? sec.rect.height - window.innerHeight : 0));
            let b = ((secBef ? secBef.rect.height - (secBef.bottom ? window.innerHeight : 0) : 0) + (sec.bottom ? sec.rect.height - window.innerHeight : 0)) || 1;
            let d = 1.0 - (a / b);
            d = Math.max(0.0, d);
            sum += d;
            if (d < 1.0)
                break;
        }
        return sum / this.sections.length;
    }
    add(section) {
        this.sections.push(section);
        this.sortSections();
        return section;
    }
    sortSections() {
        this.sections.sort((a, b) => {
            return a.rect.y > b.rect.y ? 1 : -1;
        });
        for (let i = 0; i < this.sections.length; i++) {
            this.sections[i].timelinePercentage = (i + 1) / this.sections.length;
        }
    }
    get(name) {
        for (let i = 0; i < this.sections.length; i++) {
            if (this.sections[i].name == name)
                return this.sections[i];
        }
        console.warn('section "' + name + '" is not exist.');
        return null;
    }
    update(deltaTime) {
        this.updateParentElement();
        this.updateScrollPos(deltaTime);
        this.applyParentElementTransform();
        this.sumDelta = 0.0;
    }
    updateScrollPos(deltaTime) {
        this.updateAutoMove(deltaTime);
        this.addScrollPos();
        this.calcScrollProperties(deltaTime);
    }
    updateAutoMove(deltaTime) {
        this.animator.update(deltaTime);
        if (this.isAutoMove) {
            let pos = this.animator.get('scrollPos');
            if (pos) {
                this.sumDelta = pos - this.scrollPos;
            }
        }
    }
    addScrollPos() {
        if (this.checkUnlockStopScroll(this.sumDelta)) {
            let stopPos = this.checkThrow(this.sumDelta);
            if (stopPos !== null) {
                this._scrollPos = stopPos;
            }
            else {
                this._scrollPos += this.sumDelta;
            }
            this._scrollPos = Math.max(Math.min(this._scrollPos, this.parentElementHeight - window.innerHeight), 0);
        }
    }
    checkUnlockStopScroll(scrollDelta) {
        let unlockDir = 0;
        let unlock = false;
        if (this.caughtSection) {
            let distance = this.scrollPos - this.scrollPosDelay;
            if (scrollDelta * distance < 0 || Math.abs(distance) < 10.0 || this.isAutoMove) {
                if (scrollDelta < 0) {
                    if (-scrollDelta > (this.caughtSection.startScrollUp || 0) || this.isAutoMove) {
                        unlockDir = -1;
                    }
                }
                else if (scrollDelta > 0) {
                    if (scrollDelta > (this.caughtSection.startScrollDown || 0) || this.isAutoMove) {
                        unlockDir = 1;
                    }
                }
            }
            if (unlockDir != 0 && this.caughtSection.events) {
                if (this.caughtSection.events.onStartScroll) {
                    let args = {
                        scroller: this,
                        section: this.caughtSection,
                        scrollMode: this.isAutoMove ? 'auto' : 'manual',
                        scrollDelta: scrollDelta,
                        scrollPower: Math.abs(scrollDelta),
                    };
                    let unlock;
                    let commonUnlock = this.caughtSection.events.onStartScroll.common && this.caughtSection.events.onStartScroll.common(args);
                    if (unlockDir == -1)
                        unlock = this.caughtSection.events.onStartScroll.up && this.caughtSection.events.onStartScroll.up(args);
                    if (unlockDir == 1)
                        unlock = this.caughtSection.events.onStartScroll.down && this.caughtSection.events.onStartScroll.down(args);
                    if (commonUnlock === false || unlock === false) {
                        unlockDir = 0;
                    }
                }
            }
            unlock = unlockDir != 0;
        }
        else {
            unlock = true;
        }
        if (unlockDir) {
            this.caughtSection = null;
        }
        return unlock;
    }
    checkThrow(scrollDelta) {
        for (let i = 0; i < this.sections.length; i++) {
            let sec = this.sections[i];
            sec.updateRect(this._scrollPos);
            let stopPos = this.checkThrowSectionEvents(sec, scrollDelta);
            if (stopPos !== null) {
                this.caughtSection = sec;
                return this.isAutoMove ? null : stopPos;
            }
        }
        return null;
    }
    checkThrowSectionEvents(section, scrollDelta) {
        let percentage = section.getScrollPercentage();
        let movedPercentage = section.getScrollPercentage(scrollDelta);
        if (section.events) {
            let args = {
                scroller: this,
                section: section,
                scrollMode: this.isAutoMove ? 'auto' : 'manual',
                scrollDelta: scrollDelta,
                scrollPower: Math.abs(scrollDelta),
            };
            if (section.events.onArrivals) {
                for (let i = 0; i < section.events.onArrivals.length; i++) {
                    let arrivalEvent = section.events.onArrivals[i];
                    let isThrow = this.checkThrowLine(percentage, movedPercentage, arrivalEvent.percentage);
                    if (isThrow != 0) {
                        arrivalEvent.event.common && arrivalEvent.event.common(args);
                        if (isThrow < 0) {
                            arrivalEvent.event.up && arrivalEvent.event.up(args);
                        }
                        else {
                            arrivalEvent.event.down && arrivalEvent.event.down(args);
                        }
                    }
                }
            }
        }
        if (section.stop) {
            if (this.checkThrowLine(percentage, movedPercentage, 1)) {
                this.dragUnlockReady = false;
                return section.element.offsetTop + (section.bottom ? section.rect.height - window.innerHeight : 0);
            }
        }
        return null;
    }
    checkThrowLine(a, b, line) {
        if (a < line && line <= b) {
            return 1;
        }
        else if (a > line && line >= b) {
            return -1;
        }
        else if (a == line && line == b) {
            return 2;
        }
        else {
            return 0;
        }
    }
    calcScrollProperties(deltaTime) {
        this._scrollPosDelay += (this._scrollPos - this._scrollPosDelay) * (this.isTouching && !this.caughtSection ? this.dragDelaySpeed : this.delaySpeed) * Math.min(1.0, deltaTime * 60);
        this._scrollPercentage = this.scrollPosToPerecntage(this.scrollPos);
        this._scrollPercentageDelay = this.scrollPosToPerecntage(this.scrollPosDelay);
    }
    scrollPosToPerecntage(scrollPos) {
        return scrollPos / (this.parentElementHeight - window.innerHeight);
    }
    updateParentElement() {
        this.parentElementHeight = this.parentElement.getBoundingClientRect().height;
    }
    applyParentElementTransform() {
        this.parentElement.style.transform = 'translate3d( 0,' + -this.scrollPosDelay.toString() + 'px, 0 )';
    }
    scroll(delta) {
        this.deltaMem = (this.deltaMem + delta) / 2;
        this.sumDelta += delta;
    }
    catch() {
        if (this.isAutoMove)
            return;
        this.isTouching = true;
        this.deltaMem = 0;
        if (!this.caughtSection) {
            this._scrollPos = this._scrollPosDelay;
        }
    }
    drag(delta) {
        if (!this.isTouching)
            return;
        this.scroll(delta);
    }
    release(snap = 10.0) {
        if (!this.isTouching)
            return;
        this.isTouching = false;
        if (!this.caughtSection) {
            this.scroll(this.deltaMem * snap);
        }
    }
    autoMove(param) {
        let targetPos = 0;
        if (param.target.isPageScrollerSection) {
            let target = param.target;
            let bottomOffset = param.bottom ? target.rect.height - window.innerHeight : 0;
            targetPos = target.element.offsetTop + bottomOffset;
        }
        else if (typeof param.target == 'string') {
            let target = this.get(param.target);
            if (target) {
                let bottomOffset = param.bottom ? target.rect.height - window.innerHeight : 0;
                targetPos = target.element.offsetTop + bottomOffset;
            }
        }
        else if (typeof param.target == 'number') {
            targetPos = param.target;
        }
        this.animator.setValue('scrollPos', this._scrollPos);
        this.animator.animate('scrollPos', targetPos, param.duration, () => {
            if (param.callBack)
                param.callBack();
            this.isAutoMove = false;
        }, param.easing);
        //onStartScroll内でAutoMoveしたとき、無限ループに陥るのを阻止
        this.sumDelta = (targetPos - this.sumDelta) / Math.abs(targetPos - this.sumDelta) * 0.00001;
        this.isAutoMove = true;
    }
}


/***/ }),

/***/ "./src/utils/Pointer.ts":
/*!******************************!*\
  !*** ./src/utils/Pointer.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Pointer": () => (/* binding */ Pointer)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "three");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);

const { Lethargy } = __webpack_require__(/*! lethargy */ "../../node_modules/lethargy/lethargy.js");
const toPx = __webpack_require__(/*! to-px */ "../../node_modules/to-px/browser.js");
class Pointer extends three__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher {
    constructor() {
        super();
        this.trackpadMemDelta = 0;
        this.trackpadMax = false;
        this.lethargy = new Lethargy(7, 0, 0.05);
        this.position = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2(NaN, NaN);
        this.delta = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2(NaN, NaN);
        const userAgent = navigator.userAgent;
        this.isSP = userAgent.indexOf('iPhone') >= 0 || userAgent.indexOf('iPad') >= 0 || userAgent.indexOf('Android') >= 0 || navigator.platform == "iPad" || (navigator.platform == "MacIntel" && navigator.userAgent.indexOf("Safari") != -1 && navigator.userAgent.indexOf("Chrome") == -1 && navigator.standalone !== undefined);
        this.position.set(NaN, NaN);
        this.isTouching = false;
    }
    registerElement(elm) {
        const onTouchStart = this.onTouch.bind(this, "start");
        const onTouchMove = this.onTouch.bind(this, "move");
        const onToucmEnd = this.onTouch.bind(this, "end");
        const onPointerDown = this.onPointer.bind(this, "start");
        const onPointerMove = this.onPointer.bind(this, "move");
        const onPointerUp = this.onPointer.bind(this, "end");
        const onWheel = this.wheel.bind(this);
        elm.addEventListener('touchstart', onTouchStart, { passive: false });
        elm.addEventListener('touchmove', onTouchMove, { passive: false });
        elm.addEventListener('touchend', onToucmEnd, { passive: false });
        elm.addEventListener('pointerdown', onPointerDown);
        elm.addEventListener('pointermove', onPointerMove);
        elm.addEventListener('pointerup', onPointerUp);
        elm.addEventListener("dragend", onPointerUp);
        elm.addEventListener("wheel", onWheel, { passive: false });
        const onUnRegister = (e) => {
            if (elm.isEqualNode(e.elm)) {
                elm.removeEventListener('touchstart', onTouchStart);
                elm.removeEventListener('touchmove', onTouchMove);
                elm.removeEventListener('touchend', onToucmEnd);
                elm.removeEventListener('pointerdown', onPointerDown);
                elm.removeEventListener('pointermove', onPointerMove);
                elm.removeEventListener('pointerup', onPointerUp);
                elm.removeEventListener("dragend", onPointerUp);
                elm.removeEventListener("wheel", onWheel);
                this.removeEventListener('unregister', onUnRegister);
            }
        };
        this.addEventListener('unregister', onUnRegister);
    }
    unregisterElement(elm) {
        this.dispatchEvent({
            type: 'unregister',
            elm: elm,
        });
    }
    getNormalizePosition(windowSize) {
        if (this.position.x != this.position.x)
            return new three__WEBPACK_IMPORTED_MODULE_0__.Vector2(NaN, NaN);
        const p = this.position.clone()
            .divide(windowSize)
            .multiplyScalar(2.0)
            .subScalar(1.0);
        p.y *= -1;
        return p;
    }
    getRelativePosition(elm, normalize) {
        const rect = elm.getClientRects()[0];
        let x = this.position.x - rect.left;
        let y = this.position.y - rect.top;
        if (normalize) {
            x /= rect.width;
            y /= rect.height;
        }
        const p = new three__WEBPACK_IMPORTED_MODULE_0__.Vector2(x, y);
        return p;
    }
    setPos(x, y) {
        if (this.position.x !== this.position.x ||
            this.position.y !== this.position.y) {
            this.delta.set(0, 0);
        }
        else {
            this.delta.set(x - this.position.x, y - this.position.y);
        }
        this.position.set(x, y);
    }
    onTouch(type, e) {
        const touch = e.touches[0];
        if (touch) {
            this.touchEventHandler(touch.pageX, touch.pageY, type, e);
        }
        else {
            if (type == 'end') {
                this.touchEventHandler(NaN, NaN, type, e);
            }
        }
    }
    onPointer(type, e) {
        const pointerType = e.pointerType;
        if (pointerType != null) {
            if (pointerType == 'mouse' && (e.button == -1 || e.button == 0)) {
                this.touchEventHandler(e.pageX, e.pageY, type, e);
            }
        }
        else {
            this.touchEventHandler(e.pageX, e.pageY, type, e);
        }
    }
    touchEventHandler(posX, posY, type, e) {
        let dispatch = false;
        const x = posX - window.pageXOffset;
        const y = posY - window.pageYOffset;
        if (type == "start") {
            this.isTouching = true;
            this.setPos(x, y);
            this.delta.set(0, 0);
            dispatch = true;
        }
        else if (type == "move") {
            this.setPos(x, y);
            if (this.isTouching) {
                dispatch = true;
            }
        }
        else if (type == "end") {
            if ('targetTouches' in e) {
                if (e.targetTouches.length == 0) {
                    this.isTouching = false;
                }
            }
            else {
                this.isTouching = false;
            }
            dispatch = true;
        }
        if (dispatch) {
            this.dispatchEvent({
                type: 'update',
                pointerEvent: e,
                pointerEventType: type,
                position: this.position.clone(),
                delta: this.delta.clone()
            });
        }
    }
    update() {
        if (!this.isSP) {
            this.dispatchEvent({
                type: 'update',
                pointerEvent: null,
                pointerEventType: 'hover',
                position: this.position.clone(),
                delta: this.delta.clone()
            });
        }
    }
    wheel(e) {
        let delta = e.deltaY;
        let trackpadDelta = 0;
        switch (e.deltaMode) {
            case e.DOM_DELTA_LINE:
                delta *= toPx('ex', window) * 2.5;
                break;
            case e.DOM_DELTA_PAGE:
                delta *= window.innerHeight;
                break;
        }
        if (this.lethargy.check(e)) {
            trackpadDelta = delta;
        }
        this.dispatchEvent({
            type: 'wheel',
            wheelEvent: e,
            trackpadDelta: trackpadDelta
        });
    }
}


/***/ }),

/***/ "./src/utils/PostProcessing/index.ts":
/*!*******************************************!*\
  !*** ./src/utils/PostProcessing/index.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PostProcessing": () => (/* binding */ PostProcessing)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "three");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _shaders_passThrow_vs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shaders/passThrow.vs */ "./src/utils/PostProcessing/shaders/passThrow.vs");


class PostProcessing {
    constructor(renderer, ppParam, customGeometry) {
        this.renderer = renderer;
        this.scene = new three__WEBPACK_IMPORTED_MODULE_0__.Scene();
        this.camera = new three__WEBPACK_IMPORTED_MODULE_0__.OrthographicCamera(-1.0, 1.0, 1.0, -1.0);
        this.screen = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(customGeometry || new three__WEBPACK_IMPORTED_MODULE_0__.PlaneBufferGeometry(2, 2));
        this.scene.add(this.screen);
        ppParam.vertexShader = ppParam.vertexShader || _shaders_passThrow_vs__WEBPACK_IMPORTED_MODULE_1__["default"];
        ppParam.uniforms = ppParam.uniforms || {};
        ppParam.uniforms.resolution = {
            value: new three__WEBPACK_IMPORTED_MODULE_0__.Vector2()
        };
        this.effect = {
            material: new three__WEBPACK_IMPORTED_MODULE_0__.ShaderMaterial(ppParam),
        };
    }
    render(inputRenderTargets, renderTarget = null) {
        let renderTargetMem = this.renderer.getRenderTarget();
        let effect = this.effect;
        let material = effect.material;
        let uniforms = material.uniforms;
        if (inputRenderTargets) {
            let keys = Object.keys(inputRenderTargets);
            for (let j = 0; j < keys.length; j++) {
                if (uniforms[keys[j]]) {
                    uniforms[keys[j]].value = inputRenderTargets[keys[j]];
                }
                else {
                    uniforms[keys[j]] = { value: inputRenderTargets[keys[j]] };
                    effect.material.needsUpdate = true;
                    effect.material.uniforms = uniforms;
                }
            }
        }
        if (renderTarget) {
            uniforms.resolution.value.set(renderTarget.width, renderTarget.height);
        }
        else {
            this.renderer.getSize(uniforms.resolution.value);
        }
        this.screen.material = material;
        this.renderer.setRenderTarget(renderTarget);
        this.renderer.render(this.scene, this.camera);
        this.renderer.setRenderTarget(renderTargetMem);
    }
}


/***/ }),

/***/ "./src/utils/TimelineAnimator.ts":
/*!***************************************!*\
  !*** ./src/utils/TimelineAnimator.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TimelineAnimator": () => (/* binding */ TimelineAnimator)
/* harmony export */ });
/* harmony import */ var _Lerps__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Lerps */ "./src/utils/Lerps.ts");

class TimelineAnimator {
    constructor() {
        this.variables = {};
        this.time = 0;
    }
    add(params) {
        if (params.keyframes.length == 0) {
            console.warn('"' + params.name + '"', 'Keyframe length is 0!!');
            return;
        }
        this.variables[params.name] = {
            keyframes: params.keyframes,
            lerpFunc: params.customLerp,
            easing: params.easing,
            value: null
        };
        this.variables[params.name].keyframes.sort((a, b) => {
            return (a.time < b.time) ? -1 : 1;
        });
        if (!this.variables[params.name].lerpFunc) {
            this.variables[params.name].lerpFunc = _Lerps__WEBPACK_IMPORTED_MODULE_0__.Lerps.getLerpFunc(params.keyframes[0].value);
        }
        this.calc();
        return params.name;
    }
    get(name) {
        if (this.variables[name]) {
            return this.variables[name].value;
        }
        else {
            console.warn('"' + name + '"' + ' is not exist');
            return null;
        }
    }
    getVariableObject(name) {
        if (this.variables[name]) {
            return this.variables[name];
        }
        else {
            console.warn('"' + name + '"' + ' is not exist');
            return null;
        }
    }
    update(time) {
        this.time = time;
        this.calc();
    }
    calc() {
        let keys = Object.keys(this.variables);
        for (let i = 0; i < keys.length; i++) {
            let valiable = this.variables[keys[i]];
            let kfs = valiable.keyframes;
            let a = null;
            let b = null;
            let t = Math.max(kfs[0].time, Math.min(kfs[kfs.length - 1].time, this.time));
            let easing = null;
            if (kfs.length == 1) {
                t = kfs[0].time;
                a = b = kfs[0];
            }
            else {
                for (let j = 0; j < kfs.length - 1; j++) {
                    a = kfs[j];
                    b = kfs[j + 1];
                    easing = a.easing;
                    if (a.time <= t && t <= b.time)
                        break;
                }
                if (a != null && b != null) {
                    t = (t - a.time) / (b.time - a.time);
                }
            }
            if (easing) {
                t = easing(t);
            }
            else if (valiable.easing) {
                t = valiable.easing(t);
            }
            else if (this.defaultEasing) {
                t = this.defaultEasing(t);
            }
            if (valiable.lerpFunc) {
                if (a != null && b != null) {
                    valiable.value = valiable.lerpFunc(a.value, b.value, t);
                }
                if (valiable.value === false) {
                    console.log('error at ' + '"' + keys[i] + '"');
                }
            }
            else {
                console.warn('"' + keys[i] + '"', 'lerp function is not set.');
            }
        }
    }
}


/***/ }),

/***/ "./src/utils/Uniforms.ts":
/*!*******************************!*\
  !*** ./src/utils/Uniforms.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "UniformsLib": () => (/* binding */ UniformsLib)
/* harmony export */ });
var UniformsLib;
(function (UniformsLib) {
    function mergeUniforms(...uniforms) {
        let res = {};
        for (let i = 0; i < uniforms.length; i++) {
            if (uniforms[i] != undefined) {
                Object.assign(res, uniforms[i]);
            }
        }
        return res;
    }
    UniformsLib.mergeUniforms = mergeUniforms;
})(UniformsLib || (UniformsLib = {}));


/***/ }),

/***/ "./src/utils/WaitMan.ts":
/*!******************************!*\
  !*** ./src/utils/WaitMan.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WaitMan": () => (/* binding */ WaitMan)
/* harmony export */ });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "three");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);

class WaitMan extends three__WEBPACK_IMPORTED_MODULE_0__.EventDispatcher {
    constructor() {
        super();
    }
    goHome() {
        this.dispatchEvent({ type: 'gohome' });
    }
    wait(time) {
        return new Promise((resolve, reject) => {
            const onGoHome = () => {
                reject();
                this.removeEventListener('gohome', onGoHome);
            };
            this.addEventListener('gohome', onGoHome);
            setTimeout(() => {
                this.removeEventListener('gohome', onGoHome);
                resolve();
            }, time * 1000.0);
        });
    }
}


/***/ }),

/***/ "../../node_modules/wolfy87-eventemitter/EventEmitter.js":
/*!***************************************************************!*\
  !*** ../../node_modules/wolfy87-eventemitter/EventEmitter.js ***!
  \***************************************************************/
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */

;(function (exports) {
    'use strict';

    /**
     * Class for managing events.
     * Can be extended to provide event functionality in other classes.
     *
     * @class EventEmitter Manages event registering and emitting.
     */
    function EventEmitter() {}

    // Shortcuts to improve speed and size
    var proto = EventEmitter.prototype;
    var originalGlobalValue = exports.EventEmitter;

    /**
     * Finds the index of the listener for the event in its storage array.
     *
     * @param {Function[]} listeners Array of listeners to search through.
     * @param {Function} listener Method to look for.
     * @return {Number} Index of the specified listener, -1 if not found
     * @api private
     */
    function indexOfListener(listeners, listener) {
        var i = listeners.length;
        while (i--) {
            if (listeners[i].listener === listener) {
                return i;
            }
        }

        return -1;
    }

    /**
     * Alias a method while keeping the context correct, to allow for overwriting of target method.
     *
     * @param {String} name The name of the target method.
     * @return {Function} The aliased method
     * @api private
     */
    function alias(name) {
        return function aliasClosure() {
            return this[name].apply(this, arguments);
        };
    }

    /**
     * Returns the listener array for the specified event.
     * Will initialise the event object and listener arrays if required.
     * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.
     * Each property in the object response is an array of listener functions.
     *
     * @param {String|RegExp} evt Name of the event to return the listeners from.
     * @return {Function[]|Object} All listener functions for the event.
     */
    proto.getListeners = function getListeners(evt) {
        var events = this._getEvents();
        var response;
        var key;

        // Return a concatenated array of all matching events if
        // the selector is a regular expression.
        if (evt instanceof RegExp) {
            response = {};
            for (key in events) {
                if (events.hasOwnProperty(key) && evt.test(key)) {
                    response[key] = events[key];
                }
            }
        }
        else {
            response = events[evt] || (events[evt] = []);
        }

        return response;
    };

    /**
     * Takes a list of listener objects and flattens it into a list of listener functions.
     *
     * @param {Object[]} listeners Raw listener objects.
     * @return {Function[]} Just the listener functions.
     */
    proto.flattenListeners = function flattenListeners(listeners) {
        var flatListeners = [];
        var i;

        for (i = 0; i < listeners.length; i += 1) {
            flatListeners.push(listeners[i].listener);
        }

        return flatListeners;
    };

    /**
     * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.
     *
     * @param {String|RegExp} evt Name of the event to return the listeners from.
     * @return {Object} All listener functions for an event in an object.
     */
    proto.getListenersAsObject = function getListenersAsObject(evt) {
        var listeners = this.getListeners(evt);
        var response;

        if (listeners instanceof Array) {
            response = {};
            response[evt] = listeners;
        }

        return response || listeners;
    };

    function isValidListener (listener) {
        if (typeof listener === 'function' || listener instanceof RegExp) {
            return true
        } else if (listener && typeof listener === 'object') {
            return isValidListener(listener.listener)
        } else {
            return false
        }
    }

    /**
     * Adds a listener function to the specified event.
     * The listener will not be added if it is a duplicate.
     * If the listener returns true then it will be removed after it is called.
     * If you pass a regular expression as the event name then the listener will be added to all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to attach the listener to.
     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.addListener = function addListener(evt, listener) {
        if (!isValidListener(listener)) {
            throw new TypeError('listener must be a function');
        }

        var listeners = this.getListenersAsObject(evt);
        var listenerIsWrapped = typeof listener === 'object';
        var key;

        for (key in listeners) {
            if (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {
                listeners[key].push(listenerIsWrapped ? listener : {
                    listener: listener,
                    once: false
                });
            }
        }

        return this;
    };

    /**
     * Alias of addListener
     */
    proto.on = alias('addListener');

    /**
     * Semi-alias of addListener. It will add a listener that will be
     * automatically removed after its first execution.
     *
     * @param {String|RegExp} evt Name of the event to attach the listener to.
     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.addOnceListener = function addOnceListener(evt, listener) {
        return this.addListener(evt, {
            listener: listener,
            once: true
        });
    };

    /**
     * Alias of addOnceListener.
     */
    proto.once = alias('addOnceListener');

    /**
     * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.
     * You need to tell it what event names should be matched by a regex.
     *
     * @param {String} evt Name of the event to create.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.defineEvent = function defineEvent(evt) {
        this.getListeners(evt);
        return this;
    };

    /**
     * Uses defineEvent to define multiple events.
     *
     * @param {String[]} evts An array of event names to define.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.defineEvents = function defineEvents(evts) {
        for (var i = 0; i < evts.length; i += 1) {
            this.defineEvent(evts[i]);
        }
        return this;
    };

    /**
     * Removes a listener function from the specified event.
     * When passed a regular expression as the event name, it will remove the listener from all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to remove the listener from.
     * @param {Function} listener Method to remove from the event.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.removeListener = function removeListener(evt, listener) {
        var listeners = this.getListenersAsObject(evt);
        var index;
        var key;

        for (key in listeners) {
            if (listeners.hasOwnProperty(key)) {
                index = indexOfListener(listeners[key], listener);

                if (index !== -1) {
                    listeners[key].splice(index, 1);
                }
            }
        }

        return this;
    };

    /**
     * Alias of removeListener
     */
    proto.off = alias('removeListener');

    /**
     * Adds listeners in bulk using the manipulateListeners method.
     * If you pass an object as the first argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.
     * You can also pass it a regular expression to add the array of listeners to all events that match it.
     * Yeah, this function does quite a bit. That's probably a bad thing.
     *
     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.
     * @param {Function[]} [listeners] An optional array of listener functions to add.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.addListeners = function addListeners(evt, listeners) {
        // Pass through to manipulateListeners
        return this.manipulateListeners(false, evt, listeners);
    };

    /**
     * Removes listeners in bulk using the manipulateListeners method.
     * If you pass an object as the first argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.
     * You can also pass it an event name and an array of listeners to be removed.
     * You can also pass it a regular expression to remove the listeners from all events that match it.
     *
     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.
     * @param {Function[]} [listeners] An optional array of listener functions to remove.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.removeListeners = function removeListeners(evt, listeners) {
        // Pass through to manipulateListeners
        return this.manipulateListeners(true, evt, listeners);
    };

    /**
     * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.
     * The first argument will determine if the listeners are removed (true) or added (false).
     * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.
     * You can also pass it an event name and an array of listeners to be added/removed.
     * You can also pass it a regular expression to manipulate the listeners of all events that match it.
     *
     * @param {Boolean} remove True if you want to remove listeners, false if you want to add.
     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.
     * @param {Function[]} [listeners] An optional array of listener functions to add/remove.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {
        var i;
        var value;
        var single = remove ? this.removeListener : this.addListener;
        var multiple = remove ? this.removeListeners : this.addListeners;

        // If evt is an object then pass each of its properties to this method
        if (typeof evt === 'object' && !(evt instanceof RegExp)) {
            for (i in evt) {
                if (evt.hasOwnProperty(i) && (value = evt[i])) {
                    // Pass the single listener straight through to the singular method
                    if (typeof value === 'function') {
                        single.call(this, i, value);
                    }
                    else {
                        // Otherwise pass back to the multiple function
                        multiple.call(this, i, value);
                    }
                }
            }
        }
        else {
            // So evt must be a string
            // And listeners must be an array of listeners
            // Loop over it and pass each one to the multiple method
            i = listeners.length;
            while (i--) {
                single.call(this, evt, listeners[i]);
            }
        }

        return this;
    };

    /**
     * Removes all listeners from a specified event.
     * If you do not specify an event then all listeners will be removed.
     * That means every event will be emptied.
     * You can also pass a regex to remove all events that match it.
     *
     * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.removeEvent = function removeEvent(evt) {
        var type = typeof evt;
        var events = this._getEvents();
        var key;

        // Remove different things depending on the state of evt
        if (type === 'string') {
            // Remove all listeners for the specified event
            delete events[evt];
        }
        else if (evt instanceof RegExp) {
            // Remove all events matching the regex.
            for (key in events) {
                if (events.hasOwnProperty(key) && evt.test(key)) {
                    delete events[key];
                }
            }
        }
        else {
            // Remove all listeners in all events
            delete this._events;
        }

        return this;
    };

    /**
     * Alias of removeEvent.
     *
     * Added to mirror the node API.
     */
    proto.removeAllListeners = alias('removeEvent');

    /**
     * Emits an event of your choice.
     * When emitted, every listener attached to that event will be executed.
     * If you pass the optional argument array then those arguments will be passed to every listener upon execution.
     * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.
     * So they will not arrive within the array on the other side, they will be separate.
     * You can also pass a regular expression to emit to all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.
     * @param {Array} [args] Optional array of arguments to be passed to each listener.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.emitEvent = function emitEvent(evt, args) {
        var listenersMap = this.getListenersAsObject(evt);
        var listeners;
        var listener;
        var i;
        var key;
        var response;

        for (key in listenersMap) {
            if (listenersMap.hasOwnProperty(key)) {
                listeners = listenersMap[key].slice(0);

                for (i = 0; i < listeners.length; i++) {
                    // If the listener returns true then it shall be removed from the event
                    // The function is executed either with a basic call or an apply if there is an args array
                    listener = listeners[i];

                    if (listener.once === true) {
                        this.removeListener(evt, listener.listener);
                    }

                    response = listener.listener.apply(this, args || []);

                    if (response === this._getOnceReturnValue()) {
                        this.removeListener(evt, listener.listener);
                    }
                }
            }
        }

        return this;
    };

    /**
     * Alias of emitEvent
     */
    proto.trigger = alias('emitEvent');

    /**
     * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.
     * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.
     *
     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.
     * @param {...*} Optional additional arguments to be passed to each listener.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.emit = function emit(evt) {
        var args = Array.prototype.slice.call(arguments, 1);
        return this.emitEvent(evt, args);
    };

    /**
     * Sets the current value to check against when executing listeners. If a
     * listeners return value matches the one set here then it will be removed
     * after execution. This value defaults to true.
     *
     * @param {*} value The new value to check for when executing listeners.
     * @return {Object} Current instance of EventEmitter for chaining.
     */
    proto.setOnceReturnValue = function setOnceReturnValue(value) {
        this._onceReturnValue = value;
        return this;
    };

    /**
     * Fetches the current value to check against when executing listeners. If
     * the listeners return value matches this one then it should be removed
     * automatically. It will return true by default.
     *
     * @return {*|Boolean} The current value to check for or the default, true.
     * @api private
     */
    proto._getOnceReturnValue = function _getOnceReturnValue() {
        if (this.hasOwnProperty('_onceReturnValue')) {
            return this._onceReturnValue;
        }
        else {
            return true;
        }
    };

    /**
     * Fetches the events object and creates one if required.
     *
     * @return {Object} The events storage object.
     * @api private
     */
    proto._getEvents = function _getEvents() {
        return this._events || (this._events = {});
    };

    /**
     * Reverts the global {@link EventEmitter} to its previous value and returns a reference to this version.
     *
     * @return {Function} Non conflicting EventEmitter class.
     */
    EventEmitter.noConflict = function noConflict() {
        exports.EventEmitter = originalGlobalValue;
        return EventEmitter;
    };

    // Expose the class either via AMD, CommonJS or the global object
    if (true) {
        !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {
            return EventEmitter;
        }).call(exports, __webpack_require__, exports, module),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    }
    else {}
}(typeof window !== 'undefined' ? window : this || {}));


/***/ }),

/***/ "three":
/*!**************************************************************************************!*\
  !*** external {"commonjs":"three","commonjs2":"three","amd":"three","root":"THREE"} ***!
  \**************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_three__;

/***/ }),

/***/ "./package.json":
/*!**********************!*\
  !*** ./package.json ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"name":"ore-three","version":"3.0.0-beta","description":"","author":"ukonpower","license":"MIT","main":"./build/ore-three.js","types":"types/index.d.ts","files":["build","types"],"bugs":{"url":"https://github.com/ukonpower/ore-three/issues"},"repository":{"type":"git","url":"git@github.com:ukonpower/ore-three.git"},"keywords":["threejs","webgl"],"scripts":{"dev":"webpack --config ./config/webpack/base.webpack.config.js --watch & tsc --declaration --emitDeclarationOnly -preserveWatchOutput -w","build":"webpack --config ./config/webpack/base.webpack.config.js & webpack --config ./config/webpack/min.webpack.config.js && tsc --declaration --emitDeclarationOnly"},"dependencies":{"lethargy":"^1.0.9","to-px":"^1.1.0","wolfy87-eventemitter":"^5.2.9"},"devDependencies":{"@types/node":"^17.0.31","@types/offscreencanvas":"^2019.6.4","@types/three":">=0.130.0","@types/webgl2":"0.0.6","@typescript-eslint/eslint-plugin":"^5.19.0","@typescript-eslint/parser":"^5.19.0","del":"^6.0.0","eslint":"^8.13.0","eslint-config-mdcs":"^5.0.0","fancy-log":"^2.0.0","glslify-hex":"^2.1.1","glslify-import":"^3.1.0","glslify-loader":"^2.0.0","raw-loader":"^4.0.2","sass":"^1.50.0","ts-loader":"^9.2.8","typescript":"^4.6.3","webpack":"^5.72.0","webpack-cli":"^4.9.2","webpack-merge":"^5.8.0","webpack-stream":"^7.0.0"},"peerDependencies":{"@types/three":">=0.130.0","three":">=0.130.0"}}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Animator": () => (/* reexport safe */ _utils_Animator__WEBPACK_IMPORTED_MODULE_2__.Animator),
/* harmony export */   "Background": () => (/* reexport safe */ _utils_Background__WEBPACK_IMPORTED_MODULE_3__.Background),
/* harmony export */   "BaseLayer": () => (/* reexport safe */ _core_BaseLayer__WEBPACK_IMPORTED_MODULE_0__.BaseLayer),
/* harmony export */   "BlenderConnector": () => (/* reexport safe */ _utils_BlenderConnector__WEBPACK_IMPORTED_MODULE_4__.BlenderConnector),
/* harmony export */   "Controller": () => (/* reexport safe */ _core_Controller__WEBPACK_IMPORTED_MODULE_1__.Controller),
/* harmony export */   "DOMMesh": () => (/* reexport safe */ _utils_DOMMesh__WEBPACK_IMPORTED_MODULE_6__.DOMMesh),
/* harmony export */   "Easings": () => (/* reexport safe */ _utils_Easings__WEBPACK_IMPORTED_MODULE_7__.Easings),
/* harmony export */   "EventDispatcher": () => (/* reexport safe */ _utils_EventDispatcher__WEBPACK_IMPORTED_MODULE_8__.EventDispatcher),
/* harmony export */   "GPUComputationController": () => (/* reexport safe */ _utils_GPUComputationController__WEBPACK_IMPORTED_MODULE_9__.GPUComputationController),
/* harmony export */   "LayoutController": () => (/* reexport safe */ _utils_LayoutController__WEBPACK_IMPORTED_MODULE_14__.LayoutController),
/* harmony export */   "Lerps": () => (/* reexport safe */ _utils_Lerps__WEBPACK_IMPORTED_MODULE_17__.Lerps),
/* harmony export */   "MouseRotator": () => (/* reexport safe */ _utils_MouseRotator__WEBPACK_IMPORTED_MODULE_10__.MouseRotator),
/* harmony export */   "PageScroller": () => (/* reexport safe */ _utils_PageScroller__WEBPACK_IMPORTED_MODULE_12__.PageScroller),
/* harmony export */   "PageScrollerSection": () => (/* reexport safe */ _utils_PageScroller_PageScrollerSection__WEBPACK_IMPORTED_MODULE_13__.PageScrollerSection),
/* harmony export */   "Pointer": () => (/* reexport safe */ _utils_Pointer__WEBPACK_IMPORTED_MODULE_5__.Pointer),
/* harmony export */   "PostProcessing": () => (/* reexport safe */ _utils_PostProcessing__WEBPACK_IMPORTED_MODULE_11__.PostProcessing),
/* harmony export */   "TimelineAnimator": () => (/* reexport safe */ _utils_TimelineAnimator__WEBPACK_IMPORTED_MODULE_15__.TimelineAnimator),
/* harmony export */   "UniformsLib": () => (/* reexport safe */ _utils_Uniforms__WEBPACK_IMPORTED_MODULE_16__.UniformsLib),
/* harmony export */   "WaitMan": () => (/* reexport safe */ _utils_WaitMan__WEBPACK_IMPORTED_MODULE_18__.WaitMan)
/* harmony export */ });
/* harmony import */ var _core_BaseLayer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core/BaseLayer */ "./src/core/BaseLayer.ts");
/* harmony import */ var _core_Controller__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core/Controller */ "./src/core/Controller.ts");
/* harmony import */ var _utils_Animator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/Animator */ "./src/utils/Animator.ts");
/* harmony import */ var _utils_Background__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/Background */ "./src/utils/Background/index.ts");
/* harmony import */ var _utils_BlenderConnector__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/BlenderConnector */ "./src/utils/BlenderConnector/index.ts");
/* harmony import */ var _utils_Pointer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/Pointer */ "./src/utils/Pointer.ts");
/* harmony import */ var _utils_DOMMesh__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/DOMMesh */ "./src/utils/DOMMesh/index.ts");
/* harmony import */ var _utils_Easings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/Easings */ "./src/utils/Easings.ts");
/* harmony import */ var _utils_EventDispatcher__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/EventDispatcher */ "./src/utils/EventDispatcher.ts");
/* harmony import */ var _utils_GPUComputationController__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/GPUComputationController */ "./src/utils/GPUComputationController/index.ts");
/* harmony import */ var _utils_MouseRotator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/MouseRotator */ "./src/utils/MouseRotator.ts");
/* harmony import */ var _utils_PostProcessing__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/PostProcessing */ "./src/utils/PostProcessing/index.ts");
/* harmony import */ var _utils_PageScroller__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils/PageScroller */ "./src/utils/PageScroller/index.ts");
/* harmony import */ var _utils_PageScroller_PageScrollerSection__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils/PageScroller/PageScrollerSection */ "./src/utils/PageScroller/PageScrollerSection.ts");
/* harmony import */ var _utils_LayoutController__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./utils/LayoutController */ "./src/utils/LayoutController.ts");
/* harmony import */ var _utils_TimelineAnimator__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./utils/TimelineAnimator */ "./src/utils/TimelineAnimator.ts");
/* harmony import */ var _utils_Uniforms__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./utils/Uniforms */ "./src/utils/Uniforms.ts");
/* harmony import */ var _utils_Lerps__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./utils/Lerps */ "./src/utils/Lerps.ts");
/* harmony import */ var _utils_WaitMan__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./utils/WaitMan */ "./src/utils/WaitMan.ts");




















})();

/******/ 	return __webpack_exports__;
/******/ })()
;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3JlLXRocmVlLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxPOzs7Ozs7Ozs7QUNWQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxLQUE4Qjs7QUFFdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGdDQUFnQztBQUM5RTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGdDQUFnQztBQUM5RTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGdDQUFnQztBQUM5RTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLEdBQUc7O0FBRUgsQ0FBQzs7Ozs7Ozs7Ozs7QUNwR0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7O0FDVEEsaUVBQWUscUNBQXFDLHNCQUFzQix1QkFBdUIsZ0NBQWdDLG9CQUFvQiwyQ0FBMkMscUJBQXFCLDJCQUEyQixLQUFLLENBQUM7Ozs7Ozs7Ozs7Ozs7OztBQ0F0UCxpRUFBZSxxQ0FBcUMsc0JBQXNCLHVCQUF1QiwwQkFBMEIsNEJBQTRCLG9CQUFvQiwyQ0FBMkMsaUVBQWlFLCtCQUErQixpRUFBaUUsb0NBQW9DLHdGQUF3RixxQ0FBcUMsYUFBYSxHQUFHLEdBQUc7Ozs7Ozs7Ozs7Ozs7OztBQ0EzaUIsaUVBQWUsMENBQTBDLG1CQUFtQixpQkFBaUIsd0NBQXdDLEdBQUcsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7O0FDQXpJLGlFQUFlLHFDQUFxQyxpQkFBaUIsMENBQTBDLGVBQWUsR0FBRyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7QUNBbEksaUVBQWUscUNBQXFDLGVBQWUsZUFBZSwwQ0FBMEMsTUFBTSxDQUFDOzs7Ozs7Ozs7OztBQ0F2SDs7QUFFWixnQkFBZ0IsbUJBQU8sQ0FBQywwREFBWTs7QUFFcEM7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3pFK0I7QUE0Q3hCLE1BQU0sU0FBVSxTQUFRLGtEQUFxQjtJQWFuRDtRQUVDLEtBQUssRUFBRSxDQUFDO1FBTkMsaUJBQVksR0FBRyxLQUFLLENBQUM7UUFDeEIsU0FBSSxHQUFHLENBQUMsQ0FBQztRQU9mLElBQUksQ0FBQyxJQUFJLEdBQUc7WUFDWCxJQUFJLEVBQUUsRUFBRTtZQUNSLGFBQWEsRUFBRTtnQkFDZCxVQUFVLEVBQUUsRUFBRSxHQUFHLENBQUM7Z0JBQ2xCLFVBQVUsRUFBRSxFQUFFLEdBQUcsQ0FBQztnQkFDbEIsY0FBYyxFQUFFLENBQUMsR0FBRyxDQUFDO2FBQ3JCO1lBQ0QsSUFBSSxFQUFFO2dCQUNMLFVBQVUsRUFBRSxJQUFJLDBDQUFhLEVBQUU7Z0JBQy9CLGlCQUFpQixFQUFFLEdBQUc7Z0JBQ3RCLFVBQVUsRUFBRSxJQUFJLDBDQUFhLEVBQUU7Z0JBQy9CLGVBQWUsRUFBRSxJQUFJLDBDQUFhLEVBQUU7Z0JBQ3BDLGlCQUFpQixFQUFFLEdBQUc7Z0JBQ3RCLFVBQVUsRUFBRSxNQUFNLENBQUMsZ0JBQWdCO2dCQUNuQyxjQUFjLEVBQUUsR0FBRztnQkFDbkIsVUFBVSxFQUFFLEdBQUc7YUFDZjtTQUNELENBQUM7UUFFRixJQUFJLENBQUMsY0FBYyxHQUFHO1lBQ3JCLElBQUksRUFBRTtnQkFDTCxLQUFLLEVBQUUsQ0FBQzthQUNSO1NBQ0QsQ0FBQztRQUVGLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSx3Q0FBVyxFQUFFLENBQUM7UUFDL0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLG9EQUF1QixDQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBRSxDQUFDO0lBRS9ELENBQUM7SUFFTSxJQUFJLENBQUUsU0FBaUI7UUFFN0IsSUFBSSxDQUFDLElBQUksSUFBSSxTQUFTLENBQUM7UUFFdkIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFFM0MsSUFBSyxJQUFJLENBQUMsWUFBWSxFQUFHO1lBRXhCLElBQUksQ0FBQyxPQUFPLENBQUUsU0FBUyxDQUFFLENBQUM7U0FFMUI7SUFFRixDQUFDO0lBRU0sT0FBTyxDQUFFLFNBQWlCLElBQUssQ0FBQztJQUVoQyxNQUFNLENBQUUsU0FBeUI7UUFFdkMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQztRQUNoQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDO1FBRXBDLElBQUssU0FBUyxDQUFDLGNBQWMsRUFBRztZQUUvQixJQUFJLENBQUMsaUJBQWlCLENBQUUsU0FBUyxDQUFDLGNBQWMsSUFBSSxJQUFJLEVBQUUsS0FBSyxDQUFFLENBQUM7U0FFbEU7UUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsR0FBRyxTQUFTLENBQUMsYUFBYSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDO1FBQzdFLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUM7UUFDbEMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO1FBRTlFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxnREFBbUIsQ0FBRSxJQUFJLENBQUMsSUFBSSxDQUFFLENBQUM7UUFDckQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFFLENBQUM7UUFDekQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDO1FBRTdDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDO1FBRTVDLFVBQVUsQ0FBRSxHQUFHLEVBQUU7WUFFaEIsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ2hCLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO1FBRTFCLENBQUMsRUFBRSxDQUFDLENBQUUsQ0FBQztJQUVSLENBQUM7SUFFTSxRQUFRO1FBRWQsSUFBSSxDQUFDLGVBQWUsQ0FBRSxJQUFJLENBQUMsS0FBSyxDQUFFLENBQUM7UUFFbkMsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7SUFFM0IsQ0FBQztJQUVTLGVBQWUsQ0FBRSxNQUFzQjtRQUVoRCxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztRQUV0QyxLQUFNLElBQUksQ0FBQyxHQUFHLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUcsRUFBRztZQUV4QyxJQUFJLENBQUMsZUFBZSxDQUFFLE1BQU0sQ0FBQyxRQUFRLENBQUUsQ0FBQyxDQUFFLENBQUUsQ0FBQztZQUU3QyxJQUFJLEdBQUcsR0FBcUMsU0FBUyxDQUFDO1lBQ3RELElBQUksR0FBRyxHQUErQixTQUFTLENBQUM7WUFFaEQsSUFBTyxNQUFNLENBQUMsUUFBUSxDQUFFLENBQUMsQ0FBa0IsQ0FBQyxNQUFNLEVBQUc7Z0JBRXBELEdBQUcsR0FBSyxNQUFNLENBQUMsUUFBUSxDQUFFLENBQUMsQ0FBa0IsQ0FBQyxRQUFRLENBQUM7Z0JBQ3RELEdBQUcsR0FBTyxNQUFNLENBQUMsUUFBUSxDQUFFLENBQUMsQ0FBa0IsQ0FBQyxRQUE0QixDQUFDO2FBRTVFO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBRSxDQUFFLE1BQU0sQ0FBQyxRQUFRLENBQUUsQ0FBQyxDQUFFLENBQUUsQ0FBRSxDQUFDO1lBRTFDLElBQUssR0FBRyxFQUFHO2dCQUVWLEdBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQzthQUVkO1lBRUQsSUFBSyxHQUFHLEVBQUc7Z0JBRVYsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDO2FBRWQ7U0FFRDtJQUVGLENBQUM7SUFFTSxpQkFBaUIsQ0FBRSxVQUE4QixFQUFFLGlCQUEwQixJQUFJO1FBRXZGLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxHQUFHLFVBQVUsQ0FBQztRQUN0QyxJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLHFCQUFxQixFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUV0RixJQUFLLGNBQWMsRUFBRztZQUVyQixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7U0FFaEI7SUFFRixDQUFDO0lBRU0sUUFBUTtRQUVkLElBQUssSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJO1lBQUcsT0FBTztRQUVwQyxNQUFNLGFBQWEsR0FBRyxJQUFJLDBDQUFhLENBQUUsTUFBTSxDQUFDLFVBQVUsRUFBRSxNQUFNLENBQUMsV0FBVyxDQUFFLENBQUM7UUFDakYsTUFBTSxhQUFhLEdBQUcsSUFBSSwwQ0FBYSxFQUFFLENBQUM7UUFFMUMsSUFBSyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRztZQUUvQixhQUFhLENBQUMsR0FBRyxDQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUUsQ0FBQztTQUVqRzthQUFNO1lBRU4sYUFBYSxDQUFDLElBQUksQ0FBRSxhQUFhLENBQUUsQ0FBQztTQUVwQztRQUVELElBQUksY0FBYyxHQUFHLEdBQUcsR0FBRyxDQUFFLENBQUUsYUFBYSxDQUFDLENBQUMsR0FBRyxhQUFhLENBQUMsQ0FBQyxDQUFFLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsY0FBYyxDQUFFLEdBQUcsQ0FBRSxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsY0FBYyxDQUFFLENBQUM7UUFDaE0sY0FBYyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUUsR0FBRyxFQUFFLGNBQWMsQ0FBRSxDQUFFLENBQUM7UUFFbEUsSUFBSSxVQUFVLEdBQUcsR0FBRyxHQUFHLENBQUUsQ0FBRSxhQUFhLENBQUMsQ0FBQyxHQUFHLGFBQWEsQ0FBQyxDQUFDLENBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUUsR0FBRyxDQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUUsQ0FBQztRQUNwTCxVQUFVLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBRSxHQUFHLEVBQUUsVUFBVSxDQUFFLENBQUUsQ0FBQztRQUUxRCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFFLGFBQWEsQ0FBRSxDQUFDO1FBQ2hELElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGFBQWEsQ0FBQyxDQUFDLEdBQUcsYUFBYSxDQUFDLENBQUMsQ0FBQztRQUNyRSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFFLGFBQWEsQ0FBRSxDQUFDO1FBQ2hELElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUUsYUFBYSxDQUFDLEtBQUssRUFBRSxDQUFDLGNBQWMsQ0FBRSxJQUFJLENBQUMsUUFBUSxDQUFDLGFBQWEsRUFBRSxDQUFFLENBQUUsQ0FBQztRQUM3RyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxhQUFhLENBQUMsQ0FBQyxHQUFHLGFBQWEsQ0FBQyxDQUFDLENBQUM7UUFDckUsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztRQUMvQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO1FBRXZDLElBQUksQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBRSxDQUFDO1FBQ3pELElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBRSxDQUFDO1FBQ2xGLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDO1FBQ3RELElBQUksQ0FBQyxNQUFNLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztRQUVyQyxJQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFHO1lBRS9CLElBQUksQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMscUJBQXFCLEVBQUUsQ0FBQztTQUVoRjtJQUVGLENBQUM7SUFFTSxZQUFZLENBQUUsQ0FBbUI7UUFFdkMsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLDBDQUFhLEVBQUUsQ0FBQztRQUM3QyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBRSxDQUFDO1FBRXBDLElBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUc7WUFFdkIsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMscUJBQXFCLEVBQUUsQ0FBQztZQUM1RCxnQkFBZ0IsQ0FBQyxHQUFHLENBQUUsSUFBSSwwQ0FBYSxDQUFFLFVBQVUsQ0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBRSxDQUFFLENBQUM7U0FFeEU7UUFFRCxNQUFNLGtCQUFrQixHQUFHLGdCQUFnQixDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3BELGtCQUFrQixDQUFDLE1BQU0sQ0FBRSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUUsQ0FBQztRQUN2RCxrQkFBa0IsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLGtCQUFrQixDQUFDLENBQUMsQ0FBQztRQUNsRCxrQkFBa0IsQ0FBQyxjQUFjLENBQUUsR0FBRyxDQUFFLENBQUMsU0FBUyxDQUFFLEdBQUcsQ0FBRSxDQUFDO1FBRzFELE1BQU0sSUFBSSxHQUFtQjtZQUM1QixLQUFLLEVBQUUsQ0FBQyxDQUFDLFlBQVk7WUFDckIsUUFBUSxFQUFFLGdCQUFnQixDQUFDLEtBQUssRUFBRTtZQUNsQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUU7WUFDdEIsa0JBQWtCLEVBQUUsa0JBQWtCLENBQUMsS0FBSyxFQUFFO1lBQzlDLGNBQWMsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRTtTQUNsQyxDQUFDO1FBRUYsSUFBSyxDQUFDLENBQUMsZ0JBQWdCLElBQUksT0FBTyxFQUFHO1lBRXBDLElBQUksQ0FBQyxPQUFPLENBQUUsSUFBSSxDQUFFLENBQUM7U0FFckI7YUFBTSxJQUFLLENBQUMsQ0FBQyxnQkFBZ0IsSUFBSSxPQUFPLEVBQUc7WUFFM0MsSUFBSSxDQUFDLFlBQVksQ0FBRSxJQUFJLENBQUUsQ0FBQztTQUUxQjthQUFNLElBQUssQ0FBQyxDQUFDLGdCQUFnQixJQUFJLE1BQU0sRUFBRztZQUUxQyxJQUFJLENBQUMsV0FBVyxDQUFFLElBQUksQ0FBRSxDQUFDO1NBRXpCO2FBQU0sSUFBSyxDQUFDLENBQUMsZ0JBQWdCLElBQUksS0FBSyxFQUFHO1lBRXpDLElBQUksQ0FBQyxVQUFVLENBQUUsSUFBSSxDQUFFLENBQUM7U0FFeEI7SUFFRixDQUFDO0lBRU0sWUFBWSxDQUFFLElBQW9CLElBQUssQ0FBQztJQUV4QyxXQUFXLENBQUUsSUFBb0IsSUFBSyxDQUFDO0lBRXZDLFVBQVUsQ0FBRSxJQUFvQixJQUFLLENBQUM7SUFFdEMsT0FBTyxDQUFFLElBQW9CLElBQUssQ0FBQztJQUVuQyxPQUFPLENBQUUsS0FBaUIsRUFBRSxhQUFxQixJQUFLLENBQUM7Q0FFOUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN0UzhCO0FBQ1k7QUFlcEMsTUFBTSxVQUFXLFNBQVEsa0RBQXFCO0lBUXBELFlBQWEsU0FBMkI7UUFFdkMsS0FBSyxFQUFFLENBQUM7UUFMQyxXQUFNLEdBQWdCLEVBQUUsQ0FBQztRQU9sQyxJQUFLLENBQUUsQ0FBRSxTQUFTLElBQUksU0FBUyxDQUFDLE1BQU0sQ0FBRSxFQUFHO1lBRTFDLE9BQU8sQ0FBQyxHQUFHLENBQUUsZ0JBQWdCLEdBQUcseUVBQXVDLEdBQUcsSUFBSSxFQUFHLHlFQUF5RSxDQUFFLENBQUM7U0FFN0o7UUFFRCxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksd0NBQVcsRUFBRSxDQUFDO1FBRS9COzt5Q0FFaUM7UUFFakMsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLG1EQUFPLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUMsc0JBQXNCLENBQUUsQ0FBRSxTQUFTLElBQUksU0FBUyxDQUFDLG1CQUFtQixDQUFFLElBQUksUUFBUSxDQUFDLElBQUksQ0FBRSxDQUFDO1FBRS9GOzt5Q0FFaUM7UUFFakMsSUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUUsSUFBSSxDQUFFLENBQUM7UUFDbkQsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUUsSUFBSSxDQUFFLENBQUM7UUFDN0MsSUFBSSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBRSxDQUFDO1FBQzlELElBQUksWUFBWSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBRSxDQUFDO1FBRXBELElBQUksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUUsUUFBUSxFQUFFLGFBQWEsQ0FBRSxDQUFDO1FBQ3pELElBQUksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUUsT0FBTyxFQUFFLFlBQVksQ0FBRSxDQUFDO1FBQ3ZELE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBRSxtQkFBbUIsRUFBRSxpQkFBaUIsQ0FBRSxDQUFDO1FBQ2xFLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBRSxRQUFRLEVBQUUsWUFBWSxDQUFFLENBQUM7UUFFbEQsSUFBSSxDQUFDLGdCQUFnQixDQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUU7WUFFdEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBRSxRQUFRLEVBQUUsYUFBYSxDQUFFLENBQUM7WUFDNUQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBRSxPQUFPLEVBQUUsWUFBWSxDQUFFLENBQUM7WUFDMUQsTUFBTSxDQUFDLG1CQUFtQixDQUFFLG1CQUFtQixFQUFFLGlCQUFpQixDQUFFLENBQUM7WUFDckUsTUFBTSxDQUFDLG1CQUFtQixDQUFFLFFBQVEsRUFBRSxZQUFZLENBQUUsQ0FBQztRQUV0RCxDQUFDLENBQUUsQ0FBQztRQUVKLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUViLENBQUM7SUFFUyxJQUFJO1FBRWIsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUV4QyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBRXRCLEtBQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUcsRUFBRztZQUUvQyxJQUFJLENBQUMsTUFBTSxDQUFFLENBQUMsQ0FBRSxDQUFDLElBQUksQ0FBRSxTQUFTLENBQUUsQ0FBQztTQUVuQztRQUVELHFCQUFxQixDQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBRSxDQUFFLENBQUM7SUFFakQsQ0FBQztJQUVTLGNBQWM7UUFFdkIsS0FBTSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRyxFQUFHO1lBRS9DLElBQUksQ0FBQyxNQUFNLENBQUUsQ0FBQyxDQUFFLENBQUMsUUFBUSxFQUFFLENBQUM7U0FFNUI7SUFFRixDQUFDO0lBRVMsbUJBQW1CO1FBRTVCLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUV2QixDQUFDO0lBRVMsWUFBWSxDQUFFLENBQWM7UUFFckMsS0FBTSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRyxFQUFHO1lBRS9DLElBQUksQ0FBQyxNQUFNLENBQUUsQ0FBQyxDQUFFLENBQUMsWUFBWSxDQUFFLENBQWdDLENBQUUsQ0FBQztTQUVsRTtJQUVGLENBQUM7SUFFUyxPQUFPLENBQUUsQ0FBYztRQUVoQyxLQUFNLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFHLEVBQUc7WUFFL0MsSUFBSSxDQUFDLE1BQU0sQ0FBRSxDQUFDLENBQUUsQ0FBQyxPQUFPLENBQUUsQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsYUFBYSxDQUFFLENBQUM7U0FFMUQ7SUFFRixDQUFDO0lBRUQ7O3FDQUVpQztJQUUxQixRQUFRLENBQUUsS0FBZ0IsRUFBRSxTQUF5QjtRQUUzRCxPQUFRLElBQUksQ0FBQyxRQUFRLENBQUUsU0FBUyxDQUFDLElBQUksQ0FBRSxFQUFHO1lBRXpDLFNBQVMsQ0FBQyxJQUFJLElBQUksR0FBRyxDQUFDO1NBRXRCO1FBRUQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUUsS0FBSyxDQUFFLENBQUM7UUFFMUIsS0FBSyxDQUFDLE1BQU0sQ0FBRSxTQUFTLENBQUUsQ0FBQztJQUUzQixDQUFDO0lBRU0sUUFBUSxDQUFFLFNBQWlCO1FBRWpDLEtBQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUcsRUFBRztZQUUvQyxJQUFLLElBQUksQ0FBQyxNQUFNLENBQUUsQ0FBQyxDQUFFLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxTQUFTO2dCQUFHLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBRSxDQUFDLENBQUUsQ0FBQztTQUV2RTtRQUVELE9BQU8sSUFBSSxDQUFDO0lBRWIsQ0FBQztJQUVNLFdBQVcsQ0FBRSxTQUFpQjtRQUVwQyxLQUFNLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRyxFQUFHO1lBRXBELE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUUsQ0FBQyxDQUFFLENBQUM7WUFFL0IsSUFBSyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxTQUFTLEVBQUc7Z0JBRW5DLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztnQkFFakIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBRSxDQUFDO2FBRTNCO1NBRUQ7SUFFRixDQUFDO0lBRU0sc0JBQXNCLENBQUUsR0FBZ0I7UUFFOUMsSUFBSyxJQUFJLENBQUMsbUJBQW1CLEVBQUc7WUFFL0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBRSxJQUFJLENBQUMsbUJBQW1CLENBQUUsQ0FBQztTQUUzRDtRQUVELElBQUksQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFFLEdBQUcsQ0FBRSxDQUFDO1FBRXBDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxHQUFHLENBQUM7SUFFaEMsQ0FBQztJQUVNLE9BQU87UUFFYixJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBRSxJQUFJLENBQUMsRUFBRTtZQUUzQixJQUFJLENBQUMsV0FBVyxDQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLENBQUM7UUFFcEMsQ0FBQyxDQUFFLENBQUM7UUFFSixJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsRUFBRTtZQUVoQixPQUFPO1FBRVIsQ0FBQyxDQUFDO1FBRUYsSUFBSSxDQUFDLGFBQWEsQ0FBRSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsQ0FBRSxDQUFDO0lBRTNDLENBQUM7Q0FFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDek0rQztBQUl6QyxNQUFNLGVBQWdCLFNBQVEsNkRBQVk7SUFPaEQsWUFBYSxJQUFhO1FBRXpCLEtBQUssRUFBRSxDQUFDO1FBTkYsV0FBTSxHQUErQixFQUFFLENBQUM7UUFROUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0lBRXBCLENBQUM7SUFFTSxjQUFjLENBQUUsU0FBaUIsRUFBRSxXQUF3QjtRQUVqRSxJQUFJLENBQUMsTUFBTSxDQUFFLFNBQVMsQ0FBRSxHQUFHLFdBQVcsQ0FBQztJQUV4QyxDQUFDO0lBRU0sWUFBWSxDQUFFLFNBQWlCO1FBRXJDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBRSxTQUFTLENBQUUsQ0FBQztJQUVqQyxDQUFDO0lBRU0sY0FBYyxDQUFFLFNBQWlCO1FBRXZDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBRSxTQUFTLENBQUUsSUFBSSxJQUFJLENBQUM7SUFFekMsQ0FBQztJQUVEOztxQ0FFaUM7SUFFMUIsY0FBYyxDQUFFLFNBQWlCLEVBQUUsT0FBdUI7UUFFaEUsSUFBSyxJQUFJLENBQUMsUUFBUSxDQUFFLFNBQVMsQ0FBRSxLQUFLLFNBQVMsRUFBRztZQUUvQyxPQUFPLENBQUMsSUFBSSxDQUFFLDJCQUEyQixHQUFHLFNBQVMsR0FBRyxtQkFBbUIsQ0FBRSxDQUFDO1NBRTlFO2FBQU07WUFFTixJQUFJLENBQUMsUUFBUSxDQUFFLFNBQVMsQ0FBRSxHQUFHLE9BQU8sQ0FBQztTQUVyQztJQUVGLENBQUM7SUFFTSxXQUFXLENBQUssU0FBaUI7UUFFdkMsSUFBSSxPQUFPLEdBQUcsU0FBUyxDQUFDO1FBRXhCLElBQUssSUFBSSxDQUFDLFFBQVEsQ0FBRSxPQUFPLENBQUUsRUFBRztZQUUvQixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUUsT0FBTyxDQUFFLENBQUM7U0FFaEM7UUFFRCxJQUFJLENBQUMsUUFBUSxDQUFFLE9BQU8sQ0FBRSxHQUFHO1lBQzFCLEtBQUssRUFBRSxJQUFJO1NBQ1gsQ0FBQztRQUVGLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBRSxPQUFPLENBQUUsQ0FBQztJQUVqQyxDQUFDO0lBRU0sV0FBVyxDQUFFLEtBQWE7UUFFaEMsSUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUMsTUFBTSxDQUFFLENBQUM7UUFFM0MsS0FBTSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFHLEVBQUc7WUFFN0MsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBRSxTQUFTLENBQUUsQ0FBQyxDQUFFLENBQUUsQ0FBQztZQUNoRCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFFLFNBQVMsQ0FBRSxDQUFDLENBQUUsQ0FBRSxDQUFDO1lBRTFDLElBQUssQ0FBRSxXQUFXLElBQUksQ0FBRSxHQUFHO2dCQUFHLFNBQVM7WUFFdkMsSUFBSyxXQUFXLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRztnQkFFL0IsR0FBRyxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUUsS0FBSyxDQUFFLENBQUM7YUFFdkQ7WUFFRCxJQUFLLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFHO2dCQUUxQixHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUUsS0FBSyxDQUFFLENBQUM7YUFFcEQ7WUFFRCxJQUFLLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFHO2dCQUUxQixHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUUsS0FBSyxDQUFFLENBQUM7YUFFcEQ7WUFFRCxJQUFLLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFHO2dCQUUxQixHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUUsS0FBSyxDQUFFLENBQUM7YUFFcEQ7WUFFRCxJQUFLLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FB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QUFDLENBQUUsQ0FBQztRQUMzQixRQUFRLENBQUMsSUFBSSxDQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFFLENBQUM7UUFDekIsUUFBUSxDQUFDLElBQUksQ0FBRSxDQUFDLEVBQUUsQ0FBRSxDQUFDLEVBQUUsQ0FBQyxDQUFFLENBQUM7UUFDM0IsUUFBUSxDQUFDLElBQUksQ0FBRSxDQUFFLENBQUMsRUFBRSxDQUFFLENBQUMsRUFBRSxDQUFDLENBQUUsQ0FBQztRQUU3QixPQUFPLENBQUMsSUFBSSxDQUFFLENBQUMsRUFBRSxDQUFDLENBQUUsQ0FBQztRQUNyQixPQUFPLENBQUMsSUFBSSxDQUFFLENBQUMsRUFBRSxDQUFDLENBQUUsQ0FBQztRQUNyQixPQUFPLENBQUMsSUFBSSxDQUFFLENBQUMsRUFBRSxDQUFDLENBQUUsQ0FBQztRQUNyQixPQUFPLENBQUMsSUFBSSxDQUFFLENBQUMsRUFBRSxDQUFDLENBQUUsQ0FBQztRQUVyQixVQUFVLENBQUMsSUFBSSxDQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFFLENBQUM7UUFFcEMsSUFBSSxHQUFHLEdBQUcsSUFBSSxZQUFZLENBQUUsUUFBUSxDQUFFLENBQUM7UUFDdkMsSUFBSSxPQUFPLEdBQUcsSUFBSSxXQUFXLENBQUUsVUFBVSxDQUFFLENBQUM7UUFDNUMsSUFBSSxFQUFFLEdBQUcsSUFBSSxZQUFZLENBQUUsT0FBTyxDQUFFLENBQUM7UUFFckMsR0FBRyxDQUFDLFlBQVksQ0FBRSxVQUFVLEVBQUUsSUFBSSxrREFBcUIsQ0FBRSxHQUFHLEVBQUUsQ0FBQyxDQUFFLENBQUUsQ0FBQztRQUNwRSxHQUFHLENBQUMsWUFBWSxDQUFFLElBQUksRUFBRSxJQUFJLGtEQUFxQixDQUFFLEVBQUUsRUFBRSxDQUFDLENBQUUsQ0FBRSxDQUFDO1FBQzdELEdBQUcsQ0FBQyxRQUFRLENBQUUsSUFBSSxrREFBcUIsQ0FBRSxPQUFPLEVBQUUsQ0FBQyxDQUFFLENBQUUsQ0FBQztR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ZTtBQUM5QixlQUFlLFVBQVU7QUFDekIsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsWUFBWTtBQUMzQixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsWUFBWTtBQUMzQixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCLGVBQWUsc0JBQXNCO0FBQ3JDLGVBQWUsWUFBWTtBQUMzQixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCLGVBQWUsT0FBTztBQUN0QixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSw0QkFBNEIsc0JBQXNCO0FBQ2xEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUIsZUFBZSxNQUFNO0FBQ3JCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsR0FBRztBQUNsQixnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsV0FBVztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7O0FBRUE7QUFDQSwyQkFBMkIsb0JBQW9CO0FBQy9DO0FBQ0EsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVEsSUFBMEM7QUFDbEQsUUFBUSxtQ0FBTztBQUNmO0FBQ0EsU0FBUztBQUFBLGtHQUFDO0FBQ1Y7QUFDQSxTQUFTLEVBS0o7QUFDTCxDQUFDLG9EQUFvRDs7Ozs7Ozs7Ozs7O0FDcmVyRDs7Ozs7Ozs7Ozs7Ozs7Ozs7VUNBQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBOztVQUVBO1VBQ0E7O1VBRUE7VUFDQTtVQUNBOzs7OztXQ3RCQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EsaUNBQWlDLFdBQVc7V0FDNUM7V0FDQTs7Ozs7V0NQQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLHlDQUF5Qyx3Q0FBd0M7V0FDakY7V0FDQTtXQUNBOzs7OztXQ1BBOzs7OztXQ0FBO1dBQ0E7V0FDQTtXQUNBLHVEQUF1RCxpQkFBaUI7V0FDeEU7V0FDQSxnREFBZ0QsYUFBYTtXQUM3RDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ05pQztBQUNDO0FBRUQ7QUFDRTtBQUNNO0FBQ1Q7QUFDQTtBQUNBO0FBQ1E7QUFDUztBQUNaO0FBQ0U7QUFDRjtBQUNvQjtBQUNoQjtBQUNBO0FBQ1I7QUFDSDtBQUNFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vT1JFL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9PUkUvLi4vLi4vbm9kZV9tb2R1bGVzL2xldGhhcmd5L2xldGhhcmd5LmpzIiwid2VicGFjazovL09SRS8uLi8uLi9ub2RlX21vZHVsZXMvcGFyc2UtdW5pdC9pbmRleC5qcyIsIndlYnBhY2s6Ly9PUkUvLi9zcmMvdXRpbHMvQmFja2dyb3VuZC9zaGFkZXJzL2JhY2tncm91bmQudnMiLCJ3ZWJwYWNrOi8vT1JFLy4vc3JjL3V0aWxzL0RPTU1lc2gvZG9tTWVzaC52cyIsIndlYnBhY2s6Ly9PUkUvLi9zcmMvdXRpbHMvR1BVQ29tcHV0YXRpb25Db250cm9sbGVyL3NoYWRlcnMvcGFzc1Rocm91Z2guZnMiLCJ3ZWJwYWNrOi8vT1JFLy4vc3JjL3V0aWxzL0dQVUNvbXB1dGF0aW9uQ29udHJvbGxlci9zaGFkZXJzL3Bhc3NUaHJvdWdoLnZzIiwid2VicGFjazovL09SRS8uL3NyYy91dGlscy9Qb3N0UHJvY2Vzc2luZy9zaGFkZXJzL3Bhc3NUaHJvdy52cyIsIndlYnBhY2s6Ly9PUkUvLi4vLi4vbm9kZV9tb2R1bGVzL3RvLXB4L2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vT1JFLy4vc3JjL2NvcmUvQmFzZUxheWVyLnRzIiwid2VicGFjazovL09SRS8uL3NyYy9jb3JlL0NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vT1JFLy4vc3JjL3V0aWxzL0FuaW1hdGlvbi9BbmltYXRpb25BY3Rpb24udHMiLCJ3ZWJwYWNrOi8vT1JFLy4vc3JjL3V0aWxzL0FuaW1hdGlvbi9GQ3VydmUudHMiLCJ3ZWJwYWNrOi8vT1JFLy4vc3JjL3V0aWxzL0FuaW1hdGlvbi9GQ3VydmVHcm91cC50cyIsIndlYnBhY2s6Ly9PUkUvLi9zcmMvdXRpbHMvQW5pbWF0aW9uL0ZDdXJ2ZUtleUZyYW1lLnRzIiwid2VicGFjazovL09SRS8uL3NyYy91dGlscy9BbmltYXRvci50cyIsIndlYnBhY2s6Ly9PUkUvLi9zcmMvdXRpbHMvQmFja2dyb3VuZC9pbmRleC50cyIsIndlYnBhY2s6Ly9PUkUvLi9zcmMvdXRpbHMvQmV6aWVyLnRzIiwid2VicGFjazovL09SRS8uL3NyYy91dGlscy9CbGVuZGVyQ29ubmVjdG9yL2luZGV4LnRzIiwid2VicGFjazovL09SRS8uL3NyYy91dGlscy9ET01NZXNoL2luZGV4LnRzIiwid2VicGFjazovL09SRS8uL3NyYy91dGlscy9FYXNpbmdzLnRzIiwid2VicGFjazovL09SRS8uL3NyYy91dGlscy9FdmVudERpc3BhdGNoZXIudHMiLCJ3ZWJwYWNrOi8vT1JFLy4vc3JjL3V0aWxzL0dQVUNvbXB1dGF0aW9uQ29udHJvbGxlci9pbmRleC50cyIsIndlYnBhY2s6Ly9PUkUvLi9zcmMvdXRpbHMvTGF5b3V0Q29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9PUkUvLi9zcmMvdXRpbHMvTGVycHMudHMiLCJ3ZWJwYWNrOi8vT1JFLy4vc3JjL3V0aWxzL01vdXNlUm90YXRvci50cyIsIndlYnBhY2s6Ly9PUkUvLi9zcmMvdXRpbHMvUGFnZVNjcm9sbGVyL1BhZ2VTY3JvbGxlclNlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vT1JFLy4vc3JjL3V0aWxzL1BhZ2VTY3JvbGxlci9pbmRleC50cyIsIndlYnBhY2s6Ly9PUkUvLi9zcmMvdXRpbHMvUG9pbnRlci50cyIsIndlYnBhY2s6Ly9PUkUvLi9zcmMvdXRpbHMvUG9zdFByb2Nlc3NpbmcvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vT1JFLy4vc3JjL3V0aWxzL1RpbWVsaW5lQW5pbWF0b3IudHMiLCJ3ZWJwYWNrOi8vT1JFLy4vc3JjL3V0aWxzL1VuaWZvcm1zLnRzIiwid2VicGFjazovL09SRS8uL3NyYy91dGlscy9XYWl0TWFuLnRzIiwid2VicGFjazovL09SRS8uLi8uLi9ub2RlX21vZHVsZXMvd29sZnk4Ny1ldmVudGVtaXR0ZXIvRXZlbnRFbWl0dGVyLmpzIiwid2VicGFjazovL09SRS9leHRlcm5hbCB1bWQge1wiY29tbW9uanNcIjpcInRocmVlXCIsXCJjb21tb25qczJcIjpcInRocmVlXCIsXCJhbWRcIjpcInRocmVlXCIsXCJyb290XCI6XCJUSFJFRVwifSIsIndlYnBhY2s6Ly9PUkUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vT1JFL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL09SRS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vT1JFL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vT1JFL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vT1JFLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInRocmVlXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcInRocmVlXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIk9SRVwiXSA9IGZhY3RvcnkocmVxdWlyZShcInRocmVlXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJPUkVcIl0gPSBmYWN0b3J5KHJvb3RbXCJUSFJFRVwiXSk7XG59KShzZWxmLCAoX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV90aHJlZV9fKSA9PiB7XG5yZXR1cm4gIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjkuMlxuKGZ1bmN0aW9uKCkge1xuICB2YXIgcm9vdDtcblxuICByb290ID0gdHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIgJiYgZXhwb3J0cyAhPT0gbnVsbCA/IGV4cG9ydHMgOiB0aGlzO1xuXG4gIHJvb3QuTGV0aGFyZ3kgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gTGV0aGFyZ3koc3RhYmlsaXR5LCBzZW5zaXRpdml0eSwgdG9sZXJhbmNlLCBkZWxheSkge1xuICAgICAgdGhpcy5zdGFiaWxpdHkgPSBzdGFiaWxpdHkgIT0gbnVsbCA/IE1hdGguYWJzKHN0YWJpbGl0eSkgOiA4O1xuICAgICAgdGhpcy5zZW5zaXRpdml0eSA9IHNlbnNpdGl2aXR5ICE9IG51bGwgPyAxICsgTWF0aC5hYnMoc2Vuc2l0aXZpdHkpIDogMTAwO1xuICAgICAgdGhpcy50b2xlcmFuY2UgPSB0b2xlcmFuY2UgIT0gbnVsbCA/IDEgKyBNYXRoLmFicyh0b2xlcmFuY2UpIDogMS4xO1xuICAgICAgdGhpcy5kZWxheSA9IGRlbGF5ICE9IG51bGwgPyBkZWxheSA6IDE1MDtcbiAgICAgIHRoaXMubGFzdFVwRGVsdGFzID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSwgcmVmLCByZXN1bHRzO1xuICAgICAgICByZXN1bHRzID0gW107XG4gICAgICAgIGZvciAoaSA9IDEsIHJlZiA9IHRoaXMuc3RhYmlsaXR5ICogMjsgMSA8PSByZWYgPyBpIDw9IHJlZiA6IGkgPj0gcmVmOyAxIDw9IHJlZiA/IGkrKyA6IGktLSkge1xuICAgICAgICAgIHJlc3VsdHMucHVzaChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgIH0pLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLmxhc3REb3duRGVsdGFzID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSwgcmVmLCByZXN1bHRzO1xuICAgICAgICByZXN1bHRzID0gW107XG4gICAgICAgIGZvciAoaSA9IDEsIHJlZiA9IHRoaXMuc3RhYmlsaXR5ICogMjsgMSA8PSByZWYgPyBpIDw9IHJlZiA6IGkgPj0gcmVmOyAxIDw9IHJlZiA/IGkrKyA6IGktLSkge1xuICAgICAgICAgIHJlc3VsdHMucHVzaChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgIH0pLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLmRlbHRhc1RpbWVzdGFtcCA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGksIHJlZiwgcmVzdWx0cztcbiAgICAgICAgcmVzdWx0cyA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAxLCByZWYgPSB0aGlzLnN0YWJpbGl0eSAqIDI7IDEgPD0gcmVmID8gaSA8PSByZWYgOiBpID49IHJlZjsgMSA8PSByZWYgPyBpKysgOiBpLS0pIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2gobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICB9KS5jYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIExldGhhcmd5LnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBsYXN0RGVsdGE7XG4gICAgICBlID0gZS5vcmlnaW5hbEV2ZW50IHx8IGU7XG4gICAgICBpZiAoZS53aGVlbERlbHRhICE9IG51bGwpIHtcbiAgICAgICAgbGFzdERlbHRhID0gZS53aGVlbERlbHRhO1xuICAgICAgfSBlbHNlIGlmIChlLmRlbHRhWSAhPSBudWxsKSB7XG4gICAgICAgIGxhc3REZWx0YSA9IGUuZGVsdGFZICogLTQwO1xuICAgICAgfSBlbHNlIGlmICgoZS5kZXRhaWwgIT0gbnVsbCkgfHwgZS5kZXRhaWwgPT09IDApIHtcbiAgICAgICAgbGFzdERlbHRhID0gZS5kZXRhaWwgKiAtNDA7XG4gICAgICB9XG4gICAgICB0aGlzLmRlbHRhc1RpbWVzdGFtcC5wdXNoKERhdGUubm93KCkpO1xuICAgICAgdGhpcy5kZWx0YXNUaW1lc3RhbXAuc2hpZnQoKTtcbiAgICAgIGlmIChsYXN0RGVsdGEgPiAwKSB7XG4gICAgICAgIHRoaXMubGFzdFVwRGVsdGFzLnB1c2gobGFzdERlbHRhKTtcbiAgICAgICAgdGhpcy5sYXN0VXBEZWx0YXMuc2hpZnQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNJbmVydGlhKDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sYXN0RG93bkRlbHRhcy5wdXNoKGxhc3REZWx0YSk7XG4gICAgICAgIHRoaXMubGFzdERvd25EZWx0YXMuc2hpZnQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNJbmVydGlhKC0xKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgTGV0aGFyZ3kucHJvdG90eXBlLmlzSW5lcnRpYSA9IGZ1bmN0aW9uKGRpcmVjdGlvbikge1xuICAgICAgdmFyIGxhc3REZWx0YXMsIGxhc3REZWx0YXNOZXcsIGxhc3REZWx0YXNPbGQsIG5ld0F2ZXJhZ2UsIG5ld1N1bSwgb2xkQXZlcmFnZSwgb2xkU3VtO1xuICAgICAgbGFzdERlbHRhcyA9IGRpcmVjdGlvbiA9PT0gLTEgPyB0aGlzLmxhc3REb3duRGVsdGFzIDogdGhpcy5sYXN0VXBEZWx0YXM7XG4gICAgICBpZiAobGFzdERlbHRhc1swXSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZGlyZWN0aW9uO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZGVsdGFzVGltZXN0YW1wWyh0aGlzLnN0YWJpbGl0eSAqIDIpIC0gMl0gKyB0aGlzLmRlbGF5ID4gRGF0ZS5ub3coKSAmJiBsYXN0RGVsdGFzWzBdID09PSBsYXN0RGVsdGFzWyh0aGlzLnN0YWJpbGl0eSAqIDIpIC0gMV0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgbGFzdERlbHRhc09sZCA9IGxhc3REZWx0YXMuc2xpY2UoMCwgdGhpcy5zdGFiaWxpdHkpO1xuICAgICAgbGFzdERlbHRhc05ldyA9IGxhc3REZWx0YXMuc2xpY2UodGhpcy5zdGFiaWxpdHksIHRoaXMuc3RhYmlsaXR5ICogMik7XG4gICAgICBvbGRTdW0gPSBsYXN0RGVsdGFzT2xkLnJlZHVjZShmdW5jdGlvbih0LCBzKSB7XG4gICAgICAgIHJldHVybiB0ICsgcztcbiAgICAgIH0pO1xuICAgICAgbmV3U3VtID0gbGFzdERlbHRhc05ldy5yZWR1Y2UoZnVuY3Rpb24odCwgcykge1xuICAgICAgICByZXR1cm4gdCArIHM7XG4gICAgICB9KTtcbiAgICAgIG9sZEF2ZXJhZ2UgPSBvbGRTdW0gLyBsYXN0RGVsdGFzT2xkLmxlbmd0aDtcbiAgICAgIG5ld0F2ZXJhZ2UgPSBuZXdTdW0gLyBsYXN0RGVsdGFzTmV3Lmxlbmd0aDtcbiAgICAgIGlmIChNYXRoLmFicyhvbGRBdmVyYWdlKSA8IE1hdGguYWJzKG5ld0F2ZXJhZ2UgKiB0aGlzLnRvbGVyYW5jZSkgJiYgKHRoaXMuc2Vuc2l0aXZpdHkgPCBNYXRoLmFicyhuZXdBdmVyYWdlKSkpIHtcbiAgICAgICAgcmV0dXJuIGRpcmVjdGlvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgTGV0aGFyZ3kucHJvdG90eXBlLnNob3dMYXN0VXBEZWx0YXMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmxhc3RVcERlbHRhcztcbiAgICB9O1xuXG4gICAgTGV0aGFyZ3kucHJvdG90eXBlLnNob3dMYXN0RG93bkRlbHRhcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubGFzdERvd25EZWx0YXM7XG4gICAgfTtcblxuICAgIHJldHVybiBMZXRoYXJneTtcblxuICB9KSgpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZVVuaXQoc3RyLCBvdXQpIHtcbiAgICBpZiAoIW91dClcbiAgICAgICAgb3V0ID0gWyAwLCAnJyBdXG5cbiAgICBzdHIgPSBTdHJpbmcoc3RyKVxuICAgIHZhciBudW0gPSBwYXJzZUZsb2F0KHN0ciwgMTApXG4gICAgb3V0WzBdID0gbnVtXG4gICAgb3V0WzFdID0gc3RyLm1hdGNoKC9bXFxkLlxcLVxcK10qXFxzKiguKikvKVsxXSB8fCAnJ1xuICAgIHJldHVybiBvdXRcbn0iLCJleHBvcnQgZGVmYXVsdCBcIiNkZWZpbmUgR0xTTElGWSAxXFxudmFyeWluZyB2ZWMyIHZVdjtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbiggdm9pZCApIHtcXG4gICAgXFxuICAgIHZlYzMgcG9zID0gcG9zaXRpb247XFxuXFxuICAgIHBvcy56ID0gMS4wO1xcbiAgICBcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCBwb3MsIDEuMCApO1xcbiAgICBcXG4gICAgdlV2ID0gdXY7XFxuICAgIHZDb2xvciA9IHZlYzQoIDEuMCApO1xcblxcbn1cIjsiLCJleHBvcnQgZGVmYXVsdCBcIiNkZWZpbmUgR0xTTElGWSAxXFxudmFyeWluZyB2ZWMyIHZVdjtcXG51bmlmb3JtIHZlYzIgZG9tUG9zO1xcbnVuaWZvcm0gdmVjMiBkb21TaXplO1xcbnVuaWZvcm0gdmVjMiB3aW5kb3dTaXplO1xcbnVuaWZvcm0gZmxvYXQgYXNwZWN0UmF0aW87XFxuXFxudm9pZCBtYWluKCAgKVxcbntcXG4gIGZsb2F0IHdpZHRoID0gZG9tU2l6ZS54IC8gd2luZG93U2l6ZS54O1xcblxcbiAgLy/lt6bkuIooIDAsMCAp44GrXFxuICB2ZWMzIHBvcyA9IHBvc2l0aW9uICsgdmVjMyggMS4wLC0xLjAsMC4wICk7XFxuXFxuICAvL3NpemVcXG4gIHBvcy54ICo9IHdpZHRoO1xcbiAgcG9zLnkgKj0gKCB3aWR0aCAqIGFzcGVjdFJhdGlvICkgKiAoIGRvbVNpemUueSAvIGRvbVNpemUueCApO1xcblxcbiAgcG9zICs9IHZlYzMoIC0xLjAsIDEuMCwgMC4wICk7XFxuXFxuICBwb3MgKz0gdmVjMyggZG9tUG9zLnggLyB3aW5kb3dTaXplLnggKiAyLjAsIC1kb21Qb3MueSAvIHdpbmRvd1NpemUueSAqIDIuMCwgMC4wICk7XFxuXFxuICBnbF9Qb3NpdGlvbiA9IHZlYzQoIHBvcywgMS4wICk7XFxuICB2VXYgPSB1djtcXG59XFxuXCI7IiwiZXhwb3J0IGRlZmF1bHQgXCIjZGVmaW5lIEdMU0xJRlkgMVxcbnVuaWZvcm0gc2FtcGxlcjJEIHRleDtcXG52YXJ5aW5nIHZlYzIgdlV2O1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHRleCx2VXYpO1xcbn1cIjsiLCJleHBvcnQgZGVmYXVsdCBcIiNkZWZpbmUgR0xTTElGWSAxXFxudmFyeWluZyB2ZWMyIHZVdjtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCggcG9zaXRpb24sIDEuMCApO1xcbiAgICB2VXYgPSB1djtcXG59XCI7IiwiZXhwb3J0IGRlZmF1bHQgXCIjZGVmaW5lIEdMU0xJRlkgMVxcbnZhcnlpbmcgdmVjMiB2VXY7XFxudm9pZCBtYWluKCkge1xcbiAgICB2VXYgPSB1djtcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XFxufSAgIFwiOyIsIid1c2Ugc3RyaWN0J1xuXG52YXIgcGFyc2VVbml0ID0gcmVxdWlyZSgncGFyc2UtdW5pdCcpXG5cbm1vZHVsZS5leHBvcnRzID0gdG9QWFxuXG52YXIgUElYRUxTX1BFUl9JTkNIID0gZ2V0U2l6ZUJydXRhbCgnaW4nLCBkb2N1bWVudC5ib2R5KSAvLyA5NlxuXG5cbmZ1bmN0aW9uIGdldFByb3BlcnR5SW5QWChlbGVtZW50LCBwcm9wKSB7XG4gIHZhciBwYXJ0cyA9IHBhcnNlVW5pdChnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUocHJvcCkpXG4gIHJldHVybiBwYXJ0c1swXSAqIHRvUFgocGFydHNbMV0sIGVsZW1lbnQpXG59XG5cbi8vVGhpcyBicnV0YWwgaGFjayBpcyBuZWVkZWRcbmZ1bmN0aW9uIGdldFNpemVCcnV0YWwodW5pdCwgZWxlbWVudCkge1xuICB2YXIgdGVzdERJViA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIHRlc3RESVYuc3R5bGVbJ2hlaWdodCddID0gJzEyOCcgKyB1bml0XG4gIGVsZW1lbnQuYXBwZW5kQ2hpbGQodGVzdERJVilcbiAgdmFyIHNpemUgPSBnZXRQcm9wZXJ0eUluUFgodGVzdERJViwgJ2hlaWdodCcpIC8gMTI4XG4gIGVsZW1lbnQucmVtb3ZlQ2hpbGQodGVzdERJVilcbiAgcmV0dXJuIHNpemVcbn1cblxuZnVuY3Rpb24gdG9QWChzdHIsIGVsZW1lbnQpIHtcbiAgaWYgKCFzdHIpIHJldHVybiBudWxsXG5cbiAgZWxlbWVudCA9IGVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keVxuICBzdHIgPSAoc3RyICsgJycgfHwgJ3B4JykudHJpbSgpLnRvTG93ZXJDYXNlKClcbiAgaWYoZWxlbWVudCA9PT0gd2luZG93IHx8IGVsZW1lbnQgPT09IGRvY3VtZW50KSB7XG4gICAgZWxlbWVudCA9IGRvY3VtZW50LmJvZHlcbiAgfVxuXG4gIHN3aXRjaChzdHIpIHtcbiAgICBjYXNlICclJzogIC8vQW1iaWd1b3VzLCBub3Qgc3VyZSBpZiB3ZSBzaG91bGQgdXNlIHdpZHRoIG9yIGhlaWdodFxuICAgICAgcmV0dXJuIGVsZW1lbnQuY2xpZW50SGVpZ2h0IC8gMTAwLjBcbiAgICBjYXNlICdjaCc6XG4gICAgY2FzZSAnZXgnOlxuICAgICAgcmV0dXJuIGdldFNpemVCcnV0YWwoc3RyLCBlbGVtZW50KVxuICAgIGNhc2UgJ2VtJzpcbiAgICAgIHJldHVybiBnZXRQcm9wZXJ0eUluUFgoZWxlbWVudCwgJ2ZvbnQtc2l6ZScpXG4gICAgY2FzZSAncmVtJzpcbiAgICAgIHJldHVybiBnZXRQcm9wZXJ0eUluUFgoZG9jdW1lbnQuYm9keSwgJ2ZvbnQtc2l6ZScpXG4gICAgY2FzZSAndncnOlxuICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoLzEwMFxuICAgIGNhc2UgJ3ZoJzpcbiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQvMTAwXG4gICAgY2FzZSAndm1pbic6XG4gICAgICByZXR1cm4gTWF0aC5taW4od2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCkgLyAxMDBcbiAgICBjYXNlICd2bWF4JzpcbiAgICAgIHJldHVybiBNYXRoLm1heCh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KSAvIDEwMFxuICAgIGNhc2UgJ2luJzpcbiAgICAgIHJldHVybiBQSVhFTFNfUEVSX0lOQ0hcbiAgICBjYXNlICdjbSc6XG4gICAgICByZXR1cm4gUElYRUxTX1BFUl9JTkNIIC8gMi41NFxuICAgIGNhc2UgJ21tJzpcbiAgICAgIHJldHVybiBQSVhFTFNfUEVSX0lOQ0ggLyAyNS40XG4gICAgY2FzZSAncHQnOlxuICAgICAgcmV0dXJuIFBJWEVMU19QRVJfSU5DSCAvIDcyXG4gICAgY2FzZSAncGMnOlxuICAgICAgcmV0dXJuIFBJWEVMU19QRVJfSU5DSCAvIDZcbiAgICBjYXNlICdweCc6XG4gICAgICByZXR1cm4gMVxuICB9XG5cbiAgLy8gZGV0ZWN0IG51bWJlciBvZiB1bml0c1xuICB2YXIgcGFydHMgPSBwYXJzZVVuaXQoc3RyKVxuICBpZiAoIWlzTmFOKHBhcnRzWzBdKSAmJiBwYXJ0c1sxXSkge1xuICAgIHZhciBweCA9IHRvUFgocGFydHNbMV0sIGVsZW1lbnQpXG4gICAgcmV0dXJuIHR5cGVvZiBweCA9PT0gJ251bWJlcicgPyBwYXJ0c1swXSAqIHB4IDogbnVsbFxuICB9XG5cbiAgcmV0dXJuIG51bGxcbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuaW1wb3J0IHsgVW5pZm9ybXMgfSBmcm9tICcuLi91dGlscy9Vbmlmb3Jtcyc7XG5pbXBvcnQgeyBQb2ludGVyRXZlbnRBcmdzIH0gZnJvbSAnLi9Db250cm9sbGVyJztcblxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExheWVyQmluZFBhcmFtIGV4dGVuZHMgVEhSRUUuV2ViR0xSZW5kZXJlclBhcmFtZXRlcnMge1xuXHRuYW1lOiBzdHJpbmc7XG5cdGNhbnZhcz86IEhUTUxDYW52YXNFbGVtZW50O1xuXHRhc3BlY3RTZXR0aW5nPzogQXNwZWN0U2V0dGluZztcblx0d3JhcHBlckVsZW1lbnQ/OiBIVE1MRWxlbWVudCB8IG51bGw7XG5cdHdyYXBwZXJFbGVtZW50UmVjdD86IERPTVJlY3QgfCBudWxsO1xuXHRwaXhlbFJhdGlvPzogbnVtYmVyXG59XG5cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMYXllckluZm8gZXh0ZW5kcyBMYXllckJpbmRQYXJhbSB7XG5cdHNpemU6IExheWVyU2l6ZTtcblx0YXNwZWN0U2V0dGluZzogQXNwZWN0U2V0dGluZztcbn1cblxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIExheWVyU2l6ZSB7XG5cdGNhbnZhc0FzcGVjdFJhdGlvOiBudW1iZXI7XG5cdHdpbmRvd1NpemU6IFRIUkVFLlZlY3RvcjI7XG5cdHdpbmRvd0FzcGVjdFJhdGlvOiBudW1iZXI7XG5cdGNhbnZhc1NpemU6IFRIUkVFLlZlY3RvcjI7XG5cdGNhbnZhc1BpeGVsU2l6ZTogVEhSRUUuVmVjdG9yMjtcblx0cGl4ZWxSYXRpbzogbnVtYmVyXG5cdHBvcnRyYWl0V2VpZ2h0OiBudW1iZXI7XG5cdHdpZGVXZWlnaHQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEFzcGVjdFNldHRpbmcge1xuXHRtYWluQXNwZWN0OiBudW1iZXI7XG5cdHBvcnRyYWl0QXNwZWN0OiBudW1iZXI7XG5cdHdpZGVBc3BlY3Q6IG51bWJlcjtcbn1cblxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFRvdWNoRXZlbnRBcmdzIHtcblx0ZXZlbnQ6IFBvaW50ZXJFdmVudCB8IFRvdWNoRXZlbnQ7XG5cdHBvc2l0aW9uOiBUSFJFRS5WZWN0b3IyO1xuXHRkZWx0YTogVEhSRUUuVmVjdG9yMjtcblx0bm9ybWFsaXplZFBvc2l0aW9uOiBUSFJFRS5WZWN0b3IyO1xuXHR3aW5kb3dQb3NpdGlvbjogVEhSRUUuVmVjdG9yMjtcbn1cblxuZXhwb3J0IGNsYXNzIEJhc2VMYXllciBleHRlbmRzIFRIUkVFLkV2ZW50RGlzcGF0Y2hlciB7XG5cblx0cHVibGljIGluZm86IExheWVySW5mbztcblxuXHRwdWJsaWMgcmVuZGVyZXI/OiBUSFJFRS5XZWJHTFJlbmRlcmVyO1xuXG5cdHB1YmxpYyBzY2VuZTogVEhSRUUuU2NlbmU7XG5cdHB1YmxpYyBjYW1lcmE6IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhO1xuXG5cdHByb3RlY3RlZCByZWFkeUFuaW1hdGUgPSBmYWxzZTtcblx0cHVibGljIHRpbWUgPSAwO1xuXHRwdWJsaWMgY29tbW9uVW5pZm9ybXM6IFVuaWZvcm1zO1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXG5cdFx0c3VwZXIoKTtcblxuXHRcdHRoaXMuaW5mbyA9IHtcblx0XHRcdG5hbWU6ICcnLFxuXHRcdFx0YXNwZWN0U2V0dGluZzoge1xuXHRcdFx0XHRtYWluQXNwZWN0OiAxNiAvIDksXG5cdFx0XHRcdHdpZGVBc3BlY3Q6IDEwIC8gMSxcblx0XHRcdFx0cG9ydHJhaXRBc3BlY3Q6IDEgLyAyLFxuXHRcdFx0fSxcblx0XHRcdHNpemU6IHtcblx0XHRcdFx0d2luZG93U2l6ZTogbmV3IFRIUkVFLlZlY3RvcjIoKSxcblx0XHRcdFx0d2luZG93QXNwZWN0UmF0aW86IDEuMCxcblx0XHRcdFx0Y2FudmFzU2l6ZTogbmV3IFRIUkVFLlZlY3RvcjIoKSxcblx0XHRcdFx0Y2FudmFzUGl4ZWxTaXplOiBuZXcgVEhSRUUuVmVjdG9yMigpLFxuXHRcdFx0XHRjYW52YXNBc3BlY3RSYXRpbzogMS4wLFxuXHRcdFx0XHRwaXhlbFJhdGlvOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyxcblx0XHRcdFx0cG9ydHJhaXRXZWlnaHQ6IDAuMCxcblx0XHRcdFx0d2lkZVdlaWdodDogMC4wXG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHRoaXMuY29tbW9uVW5pZm9ybXMgPSB7XG5cdFx0XHR0aW1lOiB7XG5cdFx0XHRcdHZhbHVlOiAwXG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcblx0XHR0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSggNTAsIDEsIDAuMSwgMTAwMCApO1xuXG5cdH1cblxuXHRwdWJsaWMgdGljayggZGVsdGFUaW1lOiBudW1iZXIgKSB7XG5cblx0XHR0aGlzLnRpbWUgKz0gZGVsdGFUaW1lO1xuXG5cdFx0dGhpcy5jb21tb25Vbmlmb3Jtcy50aW1lLnZhbHVlID0gdGhpcy50aW1lO1xuXG5cdFx0aWYgKCB0aGlzLnJlYWR5QW5pbWF0ZSApIHtcblxuXHRcdFx0dGhpcy5hbmltYXRlKCBkZWx0YVRpbWUgKTtcblxuXHRcdH1cblxuXHR9XG5cblx0cHVibGljIGFuaW1hdGUoIGRlbHRhVGltZTogbnVtYmVyICkgeyB9XG5cblx0cHVibGljIG9uQmluZCggbGF5ZXJJbmZvOiBMYXllckJpbmRQYXJhbSApIHtcblxuXHRcdHRoaXMuaW5mby5uYW1lID0gbGF5ZXJJbmZvLm5hbWU7XG5cdFx0dGhpcy5pbmZvLmNhbnZhcyA9IGxheWVySW5mby5jYW52YXM7XG5cblx0XHRpZiAoIGxheWVySW5mby53cmFwcGVyRWxlbWVudCApIHtcblxuXHRcdFx0dGhpcy5zZXRXcmFwcGVyRWxlbWVudCggbGF5ZXJJbmZvLndyYXBwZXJFbGVtZW50IHx8IG51bGwsIGZhbHNlICk7XG5cblx0XHR9XG5cblx0XHR0aGlzLmluZm8uYXNwZWN0U2V0dGluZyA9IGxheWVySW5mby5hc3BlY3RTZXR0aW5nIHx8IHRoaXMuaW5mby5hc3BlY3RTZXR0aW5nO1xuXHRcdHRoaXMuaW5mby5hbHBoYSA9IGxheWVySW5mby5hbHBoYTtcblx0XHR0aGlzLmluZm8uc2l6ZS5waXhlbFJhdGlvID0gbGF5ZXJJbmZvLnBpeGVsUmF0aW8gfHwgdGhpcy5pbmZvLnNpemUucGl4ZWxSYXRpbztcblxuXHRcdHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlciggdGhpcy5pbmZvICk7XG5cdFx0dGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKCB0aGlzLmluZm8uc2l6ZS5waXhlbFJhdGlvICk7XG5cdFx0dGhpcy5yZW5kZXJlci5kZWJ1Zy5jaGVja1NoYWRlckVycm9ycyA9IHRydWU7XG5cblx0XHR0aGlzLmluZm8uY2FudmFzID0gdGhpcy5yZW5kZXJlci5kb21FbGVtZW50O1xuXG5cdFx0c2V0VGltZW91dCggKCkgPT4ge1xuXG5cdFx0XHR0aGlzLm9uUmVzaXplKCk7XG5cdFx0XHR0aGlzLnJlYWR5QW5pbWF0ZSA9IHRydWU7XG5cblx0XHR9LCAwICk7XG5cblx0fVxuXG5cdHB1YmxpYyBvblVuYmluZCgpIHtcblxuXHRcdHRoaXMucmVtb3ZlQ2hpbGRyZW5zKCB0aGlzLnNjZW5lICk7XG5cblx0XHR0aGlzLnJlYWR5QW5pbWF0ZSA9IGZhbHNlO1xuXG5cdH1cblxuXHRwcm90ZWN0ZWQgcmVtb3ZlQ2hpbGRyZW5zKCBvYmplY3Q6IFRIUkVFLk9iamVjdDNEICkge1xuXG5cdFx0Y29uc3QgbGVuZ3RoID0gb2JqZWN0LmNoaWxkcmVuLmxlbmd0aDtcblxuXHRcdGZvciAoIGxldCBpID0gbGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC0tICkge1xuXG5cdFx0XHR0aGlzLnJlbW92ZUNoaWxkcmVucyggb2JqZWN0LmNoaWxkcmVuWyBpIF0gKTtcblxuXHRcdFx0bGV0IGdlbzogVEhSRUUuQnVmZmVyR2VvbWV0cnkgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cdFx0XHRsZXQgbWF0OiBUSFJFRS5NYXRlcmlhbCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0aWYgKCAoIG9iamVjdC5jaGlsZHJlblsgaSBdIGFzIFRIUkVFLk1lc2ggKS5pc01lc2ggKSB7XG5cblx0XHRcdFx0Z2VvID0gKCBvYmplY3QuY2hpbGRyZW5bIGkgXSBhcyBUSFJFRS5NZXNoICkuZ2VvbWV0cnk7XG5cdFx0XHRcdG1hdCA9ICggKCBvYmplY3QuY2hpbGRyZW5bIGkgXSBhcyBUSFJFRS5NZXNoICkubWF0ZXJpYWwgYXMgVEhSRUUuTWF0ZXJpYWwgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRvYmplY3QucmVtb3ZlKCAoIG9iamVjdC5jaGlsZHJlblsgaSBdICkgKTtcblxuXHRcdFx0aWYgKCBnZW8gKSB7XG5cblx0XHRcdFx0Z2VvLmRpc3Bvc2UoKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIG1hdCApIHtcblxuXHRcdFx0XHRtYXQuZGlzcG9zZSgpO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0fVxuXG5cdHB1YmxpYyBzZXRXcmFwcGVyRWxlbWVudCggd3JhcHBlckVsbTogSFRNTEVsZW1lbnQgfCBudWxsLCBkaXNwYXRjaFJlc2l6ZTogYm9vbGVhbiA9IHRydWUgKSB7XG5cblx0XHR0aGlzLmluZm8ud3JhcHBlckVsZW1lbnQgPSB3cmFwcGVyRWxtO1xuXHRcdHRoaXMuaW5mby53cmFwcGVyRWxlbWVudFJlY3QgPSB3cmFwcGVyRWxtID8gd3JhcHBlckVsbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IG51bGw7XG5cblx0XHRpZiAoIGRpc3BhdGNoUmVzaXplICkge1xuXG5cdFx0XHR0aGlzLm9uUmVzaXplKCk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHB1YmxpYyBvblJlc2l6ZSgpIHtcblxuXHRcdGlmICggdGhpcy5yZW5kZXJlciA9PSBudWxsICkgcmV0dXJuO1xuXG5cdFx0Y29uc3QgbmV3V2luZG93U2l6ZSA9IG5ldyBUSFJFRS5WZWN0b3IyKCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0ICk7XG5cdFx0Y29uc3QgbmV3Q2FudmFzU2l6ZSA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cblx0XHRpZiAoIHRoaXMuaW5mby53cmFwcGVyRWxlbWVudCApIHtcblxuXHRcdFx0bmV3Q2FudmFzU2l6ZS5zZXQoIHRoaXMuaW5mby53cmFwcGVyRWxlbWVudC5jbGllbnRXaWR0aCwgdGhpcy5pbmZvLndyYXBwZXJFbGVtZW50LmNsaWVudEhlaWdodCApO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0bmV3Q2FudmFzU2l6ZS5jb3B5KCBuZXdXaW5kb3dTaXplICk7XG5cblx0XHR9XG5cblx0XHRsZXQgcG9ydHJhaXRXZWlnaHQgPSAxLjAgLSAoICggbmV3Q2FudmFzU2l6ZS54IC8gbmV3Q2FudmFzU2l6ZS55ICkgLSB0aGlzLmluZm8uYXNwZWN0U2V0dGluZy5wb3J0cmFpdEFzcGVjdCApIC8gKCB0aGlzLmluZm8uYXNwZWN0U2V0dGluZy5tYWluQXNwZWN0IC0gdGhpcy5pbmZvLmFzcGVjdFNldHRpbmcucG9ydHJhaXRBc3BlY3QgKTtcblx0XHRwb3J0cmFpdFdlaWdodCA9IE1hdGgubWluKCAxLjAsIE1hdGgubWF4KCAwLjAsIHBvcnRyYWl0V2VpZ2h0ICkgKTtcblxuXHRcdGxldCB3aWRlV2VpZ2h0ID0gMS4wIC0gKCAoIG5ld0NhbnZhc1NpemUueCAvIG5ld0NhbnZhc1NpemUueSApIC0gdGhpcy5pbmZvLmFzcGVjdFNldHRpbmcud2lkZUFzcGVjdCApIC8gKCB0aGlzLmluZm8uYXNwZWN0U2V0dGluZy5tYWluQXNwZWN0IC0gdGhpcy5pbmZvLmFzcGVjdFNldHRpbmcud2lkZUFzcGVjdCApO1xuXHRcdHdpZGVXZWlnaHQgPSBNYXRoLm1pbiggMS4wLCBNYXRoLm1heCggMC4wLCB3aWRlV2VpZ2h0ICkgKTtcblxuXHRcdHRoaXMuaW5mby5zaXplLndpbmRvd1NpemUuY29weSggbmV3V2luZG93U2l6ZSApO1xuXHRcdHRoaXMuaW5mby5zaXplLndpbmRvd0FzcGVjdFJhdGlvID0gbmV3V2luZG93U2l6ZS54IC8gbmV3V2luZG93U2l6ZS55O1xuXHRcdHRoaXMuaW5mby5zaXplLmNhbnZhc1NpemUuY29weSggbmV3Q2FudmFzU2l6ZSApO1xuXHRcdHRoaXMuaW5mby5zaXplLmNhbnZhc1BpeGVsU2l6ZS5jb3B5KCBuZXdDYW52YXNTaXplLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoIHRoaXMucmVuZGVyZXIuZ2V0UGl4ZWxSYXRpbygpICkgKTtcblx0XHR0aGlzLmluZm8uc2l6ZS5jYW52YXNBc3BlY3RSYXRpbyA9IG5ld0NhbnZhc1NpemUueCAvIG5ld0NhbnZhc1NpemUueTtcblx0XHR0aGlzLmluZm8uc2l6ZS5wb3J0cmFpdFdlaWdodCA9IHBvcnRyYWl0V2VpZ2h0O1xuXHRcdHRoaXMuaW5mby5zaXplLndpZGVXZWlnaHQgPSB3aWRlV2VpZ2h0O1xuXG5cdFx0dGhpcy5yZW5kZXJlci5zZXRQaXhlbFJhdGlvKCB0aGlzLmluZm8uc2l6ZS5waXhlbFJhdGlvICk7XG5cdFx0dGhpcy5yZW5kZXJlci5zZXRTaXplKCB0aGlzLmluZm8uc2l6ZS5jYW52YXNTaXplLngsIHRoaXMuaW5mby5zaXplLmNhbnZhc1NpemUueSApO1xuXHRcdHRoaXMuY2FtZXJhLmFzcGVjdCA9IHRoaXMuaW5mby5zaXplLmNhbnZhc0FzcGVjdFJhdGlvO1xuXHRcdHRoaXMuY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcblxuXHRcdGlmICggdGhpcy5pbmZvLndyYXBwZXJFbGVtZW50ICkge1xuXG5cdFx0XHR0aGlzLmluZm8ud3JhcHBlckVsZW1lbnRSZWN0ID0gdGhpcy5pbmZvLndyYXBwZXJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRwdWJsaWMgcG9pbnRlckV2ZW50KCBlOiBQb2ludGVyRXZlbnRBcmdzICkge1xuXG5cdFx0Y29uc3QgY2FudmFzUG9pbnRlclBvcyA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cdFx0Y2FudmFzUG9pbnRlclBvcy5jb3B5KCBlLnBvc2l0aW9uICk7XG5cblx0XHRpZiAoIHRoaXMuaW5mby5jYW52YXMgKSB7XG5cblx0XHRcdGNvbnN0IGNhbnZhc1JlY3QgPSB0aGlzLmluZm8uY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0Y2FudmFzUG9pbnRlclBvcy5zdWIoIG5ldyBUSFJFRS5WZWN0b3IyKCBjYW52YXNSZWN0LngsIGNhbnZhc1JlY3QueSApICk7XG5cblx0XHR9XG5cblx0XHRjb25zdCBub3JtYWxpemVkUG9zaXRpb24gPSBjYW52YXNQb2ludGVyUG9zLmNsb25lKCk7XG5cdFx0bm9ybWFsaXplZFBvc2l0aW9uLmRpdmlkZSggdGhpcy5pbmZvLnNpemUuY2FudmFzU2l6ZSApO1xuXHRcdG5vcm1hbGl6ZWRQb3NpdGlvbi55ID0gMS4wIC0gbm9ybWFsaXplZFBvc2l0aW9uLnk7XG5cdFx0bm9ybWFsaXplZFBvc2l0aW9uLm11bHRpcGx5U2NhbGFyKCAyLjAgKS5zdWJTY2FsYXIoIDEuMCApO1xuXG5cblx0XHRjb25zdCBhcmdzOiBUb3VjaEV2ZW50QXJncyA9IHtcblx0XHRcdGV2ZW50OiBlLnBvaW50ZXJFdmVudCxcblx0XHRcdHBvc2l0aW9uOiBjYW52YXNQb2ludGVyUG9zLmNsb25lKCksXG5cdFx0XHRkZWx0YTogZS5kZWx0YS5jbG9uZSgpLFxuXHRcdFx0bm9ybWFsaXplZFBvc2l0aW9uOiBub3JtYWxpemVkUG9zaXRpb24uY2xvbmUoKSxcblx0XHRcdHdpbmRvd1Bvc2l0aW9uOiBlLnBvc2l0aW9uLmNsb25lKClcblx0XHR9O1xuXG5cdFx0aWYgKCBlLnBvaW50ZXJFdmVudFR5cGUgPT0gJ2hvdmVyJyApIHtcblxuXHRcdFx0dGhpcy5vbkhvdmVyKCBhcmdzICk7XG5cblx0XHR9IGVsc2UgaWYgKCBlLnBvaW50ZXJFdmVudFR5cGUgPT0gJ3N0YXJ0JyApIHtcblxuXHRcdFx0dGhpcy5vblRvdWNoU3RhcnQoIGFyZ3MgKTtcblxuXHRcdH0gZWxzZSBpZiAoIGUucG9pbnRlckV2ZW50VHlwZSA9PSAnbW92ZScgKSB7XG5cblx0XHRcdHRoaXMub25Ub3VjaE1vdmUoIGFyZ3MgKTtcblxuXHRcdH0gZWxzZSBpZiAoIGUucG9pbnRlckV2ZW50VHlwZSA9PSAnZW5kJyApIHtcblxuXHRcdFx0dGhpcy5vblRvdWNoRW5kKCBhcmdzICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHB1YmxpYyBvblRvdWNoU3RhcnQoIGFyZ3M6IFRvdWNoRXZlbnRBcmdzICkgeyB9XG5cblx0cHVibGljIG9uVG91Y2hNb3ZlKCBhcmdzOiBUb3VjaEV2ZW50QXJncyApIHsgfVxuXG5cdHB1YmxpYyBvblRvdWNoRW5kKCBhcmdzOiBUb3VjaEV2ZW50QXJncyApIHsgfVxuXG5cdHB1YmxpYyBvbkhvdmVyKCBhcmdzOiBUb3VjaEV2ZW50QXJncyApIHsgfVxuXG5cdHB1YmxpYyBvbldoZWVsKCBldmVudDogV2hlZWxFdmVudCwgdHJhY2twYWREZWx0YTogbnVtYmVyICkgeyB9XG5cbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcbmltcG9ydCB7IFBvaW50ZXIgfSBmcm9tICcuLi91dGlscy9Qb2ludGVyJztcbmltcG9ydCB7IEJhc2VMYXllciwgTGF5ZXJCaW5kUGFyYW0gfSBmcm9tICcuL0Jhc2VMYXllcic7XG5cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBQb2ludGVyRXZlbnRBcmdzIHtcblx0cG9pbnRlckV2ZW50OiBQb2ludGVyRXZlbnQ7XG5cdHBvaW50ZXJFdmVudFR5cGU6IHN0cmluZztcblx0cG9zaXRpb246IFRIUkVFLlZlY3RvcjI7XG5cdGRlbHRhOiBUSFJFRS5WZWN0b3IyO1xufVxuXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQ29udHJvbGxlclBhcmFtIHtcblx0c2lsZW50PzogYm9vbGVhbjtcblx0cG9pbnRlckV2ZW50RWxlbWVudD86IEhUTUxFbGVtZW50O1xufVxuXG5leHBvcnQgY2xhc3MgQ29udHJvbGxlciBleHRlbmRzIFRIUkVFLkV2ZW50RGlzcGF0Y2hlciB7XG5cblx0cHVibGljIHBvaW50ZXI6IFBvaW50ZXI7XG5cdHB1YmxpYyBjbG9jazogVEhSRUUuQ2xvY2s7XG5cblx0cHJvdGVjdGVkIGxheWVyczogQmFzZUxheWVyW10gPSBbXTtcblx0cHJvdGVjdGVkIHBvaW50ZXJFdmVudEVsZW1lbnQ/OiBIVE1MRWxlbWVudDtcblxuXHRjb25zdHJ1Y3RvciggcGFyYW1ldGVyPzogQ29udHJvbGxlclBhcmFtICkge1xuXG5cdFx0c3VwZXIoKTtcblxuXHRcdGlmICggISAoIHBhcmFtZXRlciAmJiBwYXJhbWV0ZXIuc2lsZW50ICkgKSB7XG5cblx0XHRcdGNvbnNvbGUubG9nKCBcIiVjLSBvcmUtdGhyZWUgXCIgKyByZXF1aXJlKCBcIi4uLy4uL3BhY2thZ2UuanNvblwiICkudmVyc2lvbiArIFwiIC1cIiAsICdwYWRkaW5nOiA1cHggMTBweCA7YmFja2dyb3VuZC1jb2xvcjogYmxhY2s7IGNvbG9yOiB3aGl0ZTtmb250LXNpemU6MTFweCcgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMuY2xvY2sgPSBuZXcgVEhSRUUuQ2xvY2soKTtcblxuXHRcdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRcdFx0UG9pbnRlclxuXHRcdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdFx0dGhpcy5wb2ludGVyID0gbmV3IFBvaW50ZXIoKTtcblx0XHR0aGlzLnNldFBvaW50ZXJFdmVudEVsZW1lbnQoICggcGFyYW1ldGVyICYmIHBhcmFtZXRlci5wb2ludGVyRXZlbnRFbGVtZW50ICkgfHwgZG9jdW1lbnQuYm9keSApO1xuXG5cdFx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0XHRFdmVudHNcblx0XHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRcdGxldCBwb2ludGVyVXBkYXRlID0gdGhpcy5wb2ludGVyRXZlbnQuYmluZCggdGhpcyApO1xuXHRcdGxldCBwb2ludGVyV2hlZWwgPSB0aGlzLm9uV2hlZWwuYmluZCggdGhpcyApO1xuXHRcdGxldCBvcmllbnRhdGlvbmNoYW5nZSA9IHRoaXMub25PcmllbnRhdGlvbkRldmljZS5iaW5kKCB0aGlzICk7XG5cdFx0bGV0IHdpbmRvd1Jlc2l6ZSA9IHRoaXMub25XaW5kb3dSZXNpemUuYmluZCggdGhpcyApO1xuXG5cdFx0dGhpcy5wb2ludGVyLmFkZEV2ZW50TGlzdGVuZXIoICd1cGRhdGUnLCBwb2ludGVyVXBkYXRlICk7XG5cdFx0dGhpcy5wb2ludGVyLmFkZEV2ZW50TGlzdGVuZXIoICd3aGVlbCcsIHBvaW50ZXJXaGVlbCApO1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAnb3JpZW50YXRpb25jaGFuZ2UnLCBvcmllbnRhdGlvbmNoYW5nZSApO1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAncmVzaXplJywgd2luZG93UmVzaXplICk7XG5cblx0XHR0aGlzLmFkZEV2ZW50TGlzdGVuZXIoICdkaXNwb3NlJywgKCkgPT4ge1xuXG5cdFx0XHR0aGlzLnBvaW50ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3VwZGF0ZScsIHBvaW50ZXJVcGRhdGUgKTtcblx0XHRcdHRoaXMucG9pbnRlci5yZW1vdmVFdmVudExpc3RlbmVyKCAnd2hlZWwnLCBwb2ludGVyV2hlZWwgKTtcblx0XHRcdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCAnb3JpZW50YXRpb25jaGFuZ2UnLCBvcmllbnRhdGlvbmNoYW5nZSApO1xuXHRcdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdyZXNpemUnLCB3aW5kb3dSZXNpemUgKTtcblxuXHRcdH0gKTtcblxuXHRcdHRoaXMudGljaygpO1xuXG5cdH1cblxuXHRwcm90ZWN0ZWQgdGljaygpIHtcblxuXHRcdGNvbnN0IGRlbHRhVGltZSA9IHRoaXMuY2xvY2suZ2V0RGVsdGEoKTtcblxuXHRcdHRoaXMucG9pbnRlci51cGRhdGUoKTtcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IHRoaXMubGF5ZXJzLmxlbmd0aDsgaSArKyApIHtcblxuXHRcdFx0dGhpcy5sYXllcnNbIGkgXS50aWNrKCBkZWx0YVRpbWUgKTtcblxuXHRcdH1cblxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSggdGhpcy50aWNrLmJpbmQoIHRoaXMgKSApO1xuXG5cdH1cblxuXHRwcm90ZWN0ZWQgb25XaW5kb3dSZXNpemUoKSB7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCB0aGlzLmxheWVycy5sZW5ndGg7IGkgKysgKSB7XG5cblx0XHRcdHRoaXMubGF5ZXJzWyBpIF0ub25SZXNpemUoKTtcblxuXHRcdH1cblxuXHR9XG5cblx0cHJvdGVjdGVkIG9uT3JpZW50YXRpb25EZXZpY2UoKSB7XG5cblx0XHR0aGlzLm9uV2luZG93UmVzaXplKCk7XG5cblx0fVxuXG5cdHByb3RlY3RlZCBwb2ludGVyRXZlbnQoIGU6IFRIUkVFLkV2ZW50ICkge1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgdGhpcy5sYXllcnMubGVuZ3RoOyBpICsrICkge1xuXG5cdFx0XHR0aGlzLmxheWVyc1sgaSBdLnBvaW50ZXJFdmVudCggZSBhcyB1bmtub3duIGFzIFBvaW50ZXJFdmVudEFyZ3MgKTtcblxuXHRcdH1cblxuXHR9XG5cblx0cHJvdGVjdGVkIG9uV2hlZWwoIGU6IFRIUkVFLkV2ZW50ICkge1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgdGhpcy5sYXllcnMubGVuZ3RoOyBpICsrICkge1xuXG5cdFx0XHR0aGlzLmxheWVyc1sgaSBdLm9uV2hlZWwoIGUud2hlZWxFdmVudCwgZS50cmFja3BhZERlbHRhICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRcdEFQSVxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHRwdWJsaWMgYWRkTGF5ZXIoIGxheWVyOiBCYXNlTGF5ZXIsIGxheWVySW5mbzogTGF5ZXJCaW5kUGFyYW0gKSB7XG5cblx0XHR3aGlsZSAoIHRoaXMuZ2V0TGF5ZXIoIGxheWVySW5mby5uYW1lICkgKSB7XG5cblx0XHRcdGxheWVySW5mby5uYW1lICs9ICdfJztcblxuXHRcdH1cblxuXHRcdHRoaXMubGF5ZXJzLnB1c2goIGxheWVyICk7XG5cblx0XHRsYXllci5vbkJpbmQoIGxheWVySW5mbyApO1xuXG5cdH1cblxuXHRwdWJsaWMgZ2V0TGF5ZXIoIGxheWVyTmFtZTogc3RyaW5nICkge1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgdGhpcy5sYXllcnMubGVuZ3RoOyBpICsrICkge1xuXG5cdFx0XHRpZiAoIHRoaXMubGF5ZXJzWyBpIF0uaW5mby5uYW1lID09IGxheWVyTmFtZSApIHJldHVybiB0aGlzLmxheWVyc1sgaSBdO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG51bGw7XG5cblx0fVxuXG5cdHB1YmxpYyByZW1vdmVMYXllciggbGF5ZXJObWFlOiBzdHJpbmcgKSB7XG5cblx0XHRmb3IgKCBsZXQgaSA9IHRoaXMubGF5ZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtLSApIHtcblxuXHRcdFx0Y29uc3QgbGF5ZXIgPSB0aGlzLmxheWVyc1sgaSBdO1xuXG5cdFx0XHRpZiAoIGxheWVyLmluZm8ubmFtZSA9PSBsYXllck5tYWUgKSB7XG5cblx0XHRcdFx0bGF5ZXIub25VbmJpbmQoKTtcblxuXHRcdFx0XHR0aGlzLmxheWVycy5zcGxpY2UoIGksIDEgKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH1cblxuXHRwdWJsaWMgc2V0UG9pbnRlckV2ZW50RWxlbWVudCggZWxtOiBIVE1MRWxlbWVudCApIHtcblxuXHRcdGlmICggdGhpcy5wb2ludGVyRXZlbnRFbGVtZW50ICkge1xuXG5cdFx0XHR0aGlzLnBvaW50ZXIudW5yZWdpc3RlckVsZW1lbnQoIHRoaXMucG9pbnRlckV2ZW50RWxlbWVudCApO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5wb2ludGVyLnJlZ2lzdGVyRWxlbWVudCggZWxtICk7XG5cblx0XHR0aGlzLnBvaW50ZXJFdmVudEVsZW1lbnQgPSBlbG07XG5cblx0fVxuXG5cdHB1YmxpYyBkaXNwb3NlKCkge1xuXG5cdFx0dGhpcy5sYXllcnMuZm9yRWFjaCggaXRlbSA9PiB7XG5cblx0XHRcdHRoaXMucmVtb3ZlTGF5ZXIoIGl0ZW0uaW5mby5uYW1lICk7XG5cblx0XHR9ICk7XG5cblx0XHR0aGlzLnRpY2sgPSAoKSA9PiB7XG5cblx0XHRcdHJldHVybjtcblxuXHRcdH07XG5cblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoIHsgdHlwZTogJ2Rpc3Bvc2UnIH0gKTtcblxuXHR9XG5cbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICd3b2xmeTg3LWV2ZW50ZW1pdHRlcic7XHJcbmltcG9ydCB7IFVuaWZvcm1zIH0gZnJvbSAnLi4vVW5pZm9ybXMnO1xyXG5pbXBvcnQgeyBGQ3VydmVHcm91cCB9IGZyb20gJy4vRkN1cnZlR3JvdXAnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbkFjdGlvbiBleHRlbmRzIEV2ZW50RW1pdHRlciB7XHJcblxyXG5cdHB1YmxpYyBuYW1lOiBzdHJpbmc7XHJcblx0cHVibGljIGN1cnZlczoge1trZXk6c3RyaW5nXTpGQ3VydmVHcm91cH0gPSB7fTtcclxuXHJcblx0cHJpdmF0ZSB1bmlmb3JtczogVW5pZm9ybXM7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCBuYW1lPzogc3RyaW5nICkge1xyXG5cclxuXHRcdHN1cGVyKCk7XHJcblxyXG5cdFx0dGhpcy5uYW1lID0gbmFtZSB8fCAnJztcclxuXHRcdHRoaXMudW5pZm9ybXMgPSB7fTtcclxuXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgYWRkRmN1cnZlR3JvdXAoIGN1cnZlTmFtZTogc3RyaW5nLCBmY3VydmVHcm91cDogRkN1cnZlR3JvdXAgKSB7XHJcblxyXG5cdFx0dGhpcy5jdXJ2ZXNbIGN1cnZlTmFtZSBdID0gZmN1cnZlR3JvdXA7XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIHJlbW92ZUZDdXJ2ZSggY3VydmVOYW1lOiBzdHJpbmcgKSB7XHJcblxyXG5cdFx0ZGVsZXRlIHRoaXMuY3VydmVzWyBjdXJ2ZU5hbWUgXTtcclxuXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0RkN1cnZlR3JvdXAoIGN1cnZlTmFtZTogc3RyaW5nICk6IEZDdXJ2ZUdyb3VwIHwgbnVsbCB7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuY3VydmVzWyBjdXJ2ZU5hbWUgXSB8fCBudWxsO1xyXG5cclxuXHR9XHJcblxyXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdFx0VmFsdWUgYXMgVW5pZm9ybVxyXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5cclxuXHRwdWJsaWMgYXNzaWduVW5pZm9ybXMoIGN1cnZlTmFtZTogc3RyaW5nLCB1bmlmb3JtOiBUSFJFRS5JVW5pZm9ybSApIHtcclxuXHJcblx0XHRpZiAoIHRoaXMudW5pZm9ybXNbIGN1cnZlTmFtZSBdICE9PSB1bmRlZmluZWQgKSB7XHJcblxyXG5cdFx0XHRjb25zb2xlLndhcm4oICdBbmltYXRpb25BY3Rpb246IHVuaWZvcm0gJyArIGN1cnZlTmFtZSArICcgaXMgYWxyYWVkeSBleGlzdCcgKTtcclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0dGhpcy51bmlmb3Jtc1sgY3VydmVOYW1lIF0gPSB1bmlmb3JtO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VW5pZm9ybXM8VD4oIGN1cnZlTmFtZTogc3RyaW5nICk6IFRIUkVFLklVbmlmb3JtPFQ+IHtcclxuXHJcblx0XHRsZXQgdW5pTmFtZSA9IGN1cnZlTmFtZTtcclxuXHJcblx0XHRpZiAoIHRoaXMudW5pZm9ybXNbIHVuaU5hbWUgXSApIHtcclxuXHJcblx0XHRcdHJldHVybiB0aGlzLnVuaWZvcm1zWyB1bmlOYW1lIF07XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMudW5pZm9ybXNbIHVuaU5hbWUgXSA9IHtcclxuXHRcdFx0dmFsdWU6IG51bGxcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMudW5pZm9ybXNbIHVuaU5hbWUgXTtcclxuXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgdXBkYXRlRnJhbWUoIGZyYW1lOiBudW1iZXIgKSB7XHJcblxyXG5cdFx0bGV0IGN1cnZlS2V5cyA9IE9iamVjdC5rZXlzKCB0aGlzLmN1cnZlcyApO1xyXG5cclxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IGN1cnZlS2V5cy5sZW5ndGg7IGkgKysgKSB7XHJcblxyXG5cdFx0XHRsZXQgZmN1cnZlR3JvdXAgPSB0aGlzLmN1cnZlc1sgY3VydmVLZXlzWyBpIF0gXTtcclxuXHRcdFx0bGV0IHVuaSA9IHRoaXMudW5pZm9ybXNbIGN1cnZlS2V5c1sgaSBdIF07XHJcblxyXG5cdFx0XHRpZiAoICEgZmN1cnZlR3JvdXAgfHwgISB1bmkgKSBjb250aW51ZTtcclxuXHJcblx0XHRcdGlmICggZmN1cnZlR3JvdXAuY3VydmUuc2NhbGFyICkge1xyXG5cclxuXHRcdFx0XHR1bmkudmFsdWUgPSBmY3VydmVHcm91cC5jdXJ2ZS5zY2FsYXIuZ2V0VmFsdWUoIGZyYW1lICk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIGZjdXJ2ZUdyb3VwLmN1cnZlLnggKSB7XHJcblxyXG5cdFx0XHRcdHVuaS52YWx1ZS54ID0gZmN1cnZlR3JvdXAuY3VydmUueC5nZXRWYWx1ZSggZnJhbWUgKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICggZmN1cnZlR3JvdXAuY3VydmUueSApIHtcclxuXHJcblx0XHRcdFx0dW5pLnZhbHVlLnkgPSBmY3VydmVHcm91cC5jdXJ2ZS55LmdldFZhbHVlKCBmcmFtZSApO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBmY3VydmVHcm91cC5jdXJ2ZS56ICkge1xyXG5cclxuXHRcdFx0XHR1bmkudmFsdWUueiA9IGZjdXJ2ZUdyb3VwLmN1cnZlLnouZ2V0VmFsdWUoIGZyYW1lICk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIGZjdXJ2ZUdyb3VwLmN1cnZlLncgKSB7XHJcblxyXG5cdFx0XHRcdHVuaS52YWx1ZS53ID0gZmN1cnZlR3JvdXAuY3VydmUudy5nZXRWYWx1ZSggZnJhbWUgKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICd3b2xmeTg3LWV2ZW50ZW1pdHRlcic7XHJcbmltcG9ydCB7IEZDdXJ2ZUtleUZyYW1lIH0gZnJvbSAnLi9GQ3VydmVLZXlGcmFtZSc7XHJcblxyXG5leHBvcnQgdHlwZSBGQ3VydmVBeGlzID0gJ3gnIHwgJ3knIHwgJ3onIHwgJ3cnIHwgJ3NjYWxhcidcclxuXHJcbmV4cG9ydCBjbGFzcyBGQ3VydmUgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xyXG5cclxuXHRwdWJsaWMga2V5ZnJhbWVzOiBGQ3VydmVLZXlGcmFtZVtdID0gW107XHJcblxyXG5cdHByaXZhdGUgY2FjaGU6IHsgZnJhbWU6IG51bWJlciwgdmFsdWU6IG51bWJlciB9ID0geyBmcmFtZTogTmFOLCB2YWx1ZTogTmFOIH07XHJcblxyXG5cdGNvbnN0cnVjdG9yKCBmcmFtZXM/OiBGQ3VydmVLZXlGcmFtZVtdICkge1xyXG5cclxuXHRcdHN1cGVyKCk7XHJcblxyXG5cdFx0dGhpcy5zZXQoIGZyYW1lcyApO1xyXG5cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXQoIGZyYW1lcz86IEZDdXJ2ZUtleUZyYW1lW10gKSB7XHJcblxyXG5cdFx0aWYgKCBmcmFtZXMgKSB7XHJcblxyXG5cdFx0XHR0aGlzLmtleWZyYW1lcy5sZW5ndGggPSAwO1xyXG5cclxuXHRcdFx0ZnJhbWVzLmZvckVhY2goIGtleWZyYW1lID0+IHtcclxuXHJcblx0XHRcdFx0dGhpcy5hZGRLZXlGcmFtZSgga2V5ZnJhbWUgKTtcclxuXHJcblx0XHRcdH0gKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIGFkZEtleUZyYW1lKCBrZXlmcmFtZTogRkN1cnZlS2V5RnJhbWUgKSB7XHJcblxyXG5cdFx0bGV0IGluZGV4ID0gMDtcclxuXHJcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCB0aGlzLmtleWZyYW1lcy5sZW5ndGg7IGkgKysgKSB7XHJcblxyXG5cdFx0XHRsZXQgZnJhbWUgPSB0aGlzLmtleWZyYW1lc1sgaSBdO1xyXG5cclxuXHRcdFx0aWYgKCBmcmFtZS5jb29yZGluYXRlLnggPCBrZXlmcmFtZS5jb29yZGluYXRlLnggKSB7XHJcblxyXG5cdFx0XHRcdGluZGV4ICsrO1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMua2V5ZnJhbWVzLnNwbGljZSggaW5kZXgsIDAsIGtleWZyYW1lICk7XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFZhbHVlKCBmcmFtZTogbnVtYmVyICkge1xyXG5cclxuXHRcdGlmICggZnJhbWUgPT0gdGhpcy5jYWNoZS5mcmFtZSApIHtcclxuXHJcblx0XHRcdHJldHVybiB0aGlzLmNhY2hlLnZhbHVlO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRsZXQgdmFsdWU6IG51bWJlciB8IG51bGwgPSBudWxsO1xyXG5cclxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IHRoaXMua2V5ZnJhbWVzLmxlbmd0aDsgaSArKyApIHtcclxuXHJcblx0XHRcdGxldCBrZXlmcmFtZSA9IHRoaXMua2V5ZnJhbWVzWyBpIF07XHJcblxyXG5cdFx0XHRpZiAoIGZyYW1lIDw9IGtleWZyYW1lLmNvb3JkaW5hdGUueCApIHtcclxuXHJcblx0XHRcdFx0bGV0IGJlZm9yZUtleUZyYW1lID0gdGhpcy5rZXlmcmFtZXNbIGkgLSAxIF07XHJcblxyXG5cdFx0XHRcdGlmICggYmVmb3JlS2V5RnJhbWUgKSB7XHJcblxyXG5cdFx0XHRcdFx0dmFsdWUgPSBiZWZvcmVLZXlGcmFtZS50bygga2V5ZnJhbWUsIGZyYW1lICk7XHJcblxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0dmFsdWUgPSBrZXlmcmFtZS5jb29yZGluYXRlLnk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggdmFsdWUgPT09IG51bGwgJiYgdGhpcy5rZXlmcmFtZXMubGVuZ3RoID4gMCApIHtcclxuXHJcblx0XHRcdHZhbHVlID0gdGhpcy5rZXlmcmFtZXNbIHRoaXMua2V5ZnJhbWVzLmxlbmd0aCAtIDEgXS5jb29yZGluYXRlLnk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggdmFsdWUgIT09IG51bGwgKSB7XHJcblxyXG5cdFx0XHR0aGlzLmNhY2hlID0ge1xyXG5cdFx0XHRcdGZyYW1lOiBmcmFtZSxcclxuXHRcdFx0XHR2YWx1ZTogdmFsdWVcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHJldHVybiB2YWx1ZTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIDA7XHJcblxyXG5cdH1cclxuXHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ3dvbGZ5ODctZXZlbnRlbWl0dGVyJztcclxuaW1wb3J0IHsgRkN1cnZlLCBGQ3VydmVBeGlzIH0gZnJvbSAnLi9GQ3VydmUnO1xyXG5cclxuZXhwb3J0IHR5cGUgRkN1cnZlR3JvdXBUeXBlID0gJ3NjYWxhcicgfCAndmVjMicgfCAndmVjMycgfCAndmVjNCdcclxuXHJcbmV4cG9ydCBjbGFzcyBGQ3VydmVHcm91cCBleHRlbmRzIEV2ZW50RW1pdHRlciB7XHJcblxyXG5cdHB1YmxpYyBuYW1lOiBzdHJpbmcgPSAnJztcclxuXHRwdWJsaWMgY3VydmU6IHtbYXhpcyBpbiBGQ3VydmVBeGlzXTogRkN1cnZlIHwgbnVsbH07XHJcblx0cHVibGljIHR5cGU6IEZDdXJ2ZUdyb3VwVHlwZSA9ICdzY2FsYXInO1xyXG5cclxuXHRjb25zdHJ1Y3RvciggbmFtZT86IHN0cmluZywgeD86IEZDdXJ2ZSwgeT86IEZDdXJ2ZSwgej86IEZDdXJ2ZSwgdz86IEZDdXJ2ZSwgc2NhbGFyPzogRkN1cnZlICkge1xyXG5cclxuXHRcdHN1cGVyKCk7XHJcblxyXG5cdFx0dGhpcy5jdXJ2ZSA9IHtcclxuXHRcdFx0eDogeCB8fCBudWxsLFxyXG5cdFx0XHR5OiB5IHx8IG51bGwsXHJcblx0XHRcdHo6IHogfHwgbnVsbCxcclxuXHRcdFx0dzogdyB8fCBudWxsLFxyXG5cdFx0XHRzY2FsYXI6IHNjYWxhciB8fCBudWxsXHJcblx0XHR9O1xyXG5cclxuXHRcdHRoaXMuY2FsY1R5cGUoKTtcclxuXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0RkN1cnZlKCBjdXJ2ZTogRkN1cnZlLCBheGlzOiBGQ3VydmVBeGlzICkge1xyXG5cclxuXHRcdHRoaXMuY3VydmVbIGF4aXMgXSA9IGN1cnZlO1xyXG5cclxuXHRcdHRoaXMuY2FsY1R5cGUoKTtcclxuXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgY2FsY1R5cGUoKSB7XHJcblxyXG5cdFx0aWYgKCB0aGlzLmN1cnZlLnNjYWxhciApIHtcclxuXHJcblx0XHRcdHRoaXMudHlwZSA9ICdzY2FsYXInO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIHRoaXMuY3VydmUudyApIHtcclxuXHJcblx0XHRcdHRoaXMudHlwZSA9ICd2ZWM0JztcclxuXHJcblx0XHR9IGVsc2UgaWYgKCB0aGlzLmN1cnZlLnogKSB7XHJcblxyXG5cdFx0XHR0aGlzLnR5cGUgPSAndmVjMyc7XHJcblxyXG5cdFx0fSBlbHNlIGlmICggdGhpcy5jdXJ2ZS55ICkge1xyXG5cclxuXHRcdFx0dGhpcy50eXBlID0gJ3ZlYzInO1xyXG5cclxuXHRcdH0gZWxzZSBpZiAoIHRoaXMuY3VydmUueCApIHtcclxuXHJcblx0XHRcdHRoaXMudHlwZSA9ICdzY2FsYXInO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgY3JlYXRlSW5pdFZhbHVlKCkge1xyXG5cclxuXHRcdGlmICggdGhpcy50eXBlID09ICd2ZWMyJyApIHtcclxuXHJcblx0XHRcdHJldHVybiBuZXcgVEhSRUUuVmVjdG9yMigpO1xyXG5cclxuXHRcdH0gZWxzZSBpZiAoIHRoaXMudHlwZSA9PSAndmVjMycgKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuXHJcblx0XHR9IGVsc2UgaWYgKCB0aGlzLnR5cGUgPT0gJ3ZlYzQnICkge1xyXG5cclxuXHRcdFx0cmV0dXJuIG5ldyBUSFJFRS5WZWN0b3I0KCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAwO1xyXG5cclxuXHR9XHJcblxyXG59XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICd3b2xmeTg3LWV2ZW50ZW1pdHRlcic7XHJcbmltcG9ydCB7IEVhc2luZ0Z1bmMsIEVhc2luZ3MgfSBmcm9tICcuLi9FYXNpbmdzJztcclxuXHJcbmV4cG9ydCB0eXBlIEZDdXJ2ZUludGVycG9sYXRpb24gPSBcIkJFWklFUlwiIHwgXCJMSU5FQVJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGQ3VydmVLZXlGcmFtZSBleHRlbmRzIEV2ZW50RW1pdHRlciB7XHJcblxyXG5cdHB1YmxpYyBjb29yZGluYXRlOiBUSFJFRS5WZWMyID0geyB4OiAwLCB5OiAwIH07XHJcblx0cHVibGljIGhhbmRsZUxlZnQ6IFRIUkVFLlZlYzIgPSB7IHg6IDAsIHk6IDAgfTtcclxuXHRwdWJsaWMgaGFuZGxlUmlnaHQ6IFRIUkVFLlZlYzIgPSB7IHg6IDAsIHk6IDAgfTtcclxuXHRwdWJsaWMgaW50ZXJwb2xhdGlvbjogRkN1cnZlSW50ZXJwb2xhdGlvbiA9ICdCRVpJRVInO1xyXG5cclxuXHRwcml2YXRlIGVhc2luZzogRWFzaW5nRnVuYyB8IG51bGwgPSBudWxsO1xyXG5cdHByaXZhdGUgbmV4dEZyYW1lOiBGQ3VydmVLZXlGcmFtZSB8IG51bGwgPSBudWxsO1xyXG5cclxuXHRjb25zdHJ1Y3RvciggY29vcmRpbmF0ZTogVEhSRUUuVmVjMiwgaGFuZGxlTGVmdD86IFRIUkVFLlZlYzIsIGhhbmRsZVJpZ2h0PzogVEhSRUUuVmVjMiwgaW50ZXJwb2xhdGlvbj86IEZDdXJ2ZUludGVycG9sYXRpb24gKSB7XHJcblxyXG5cdFx0c3VwZXIoKTtcclxuXHJcblx0XHR0aGlzLnNldCggY29vcmRpbmF0ZSwgaGFuZGxlTGVmdCwgaGFuZGxlUmlnaHQsIGludGVycG9sYXRpb24gKTtcclxuXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0KCBjb29yZGluYXRlOiBUSFJFRS5WZWMyLCBoYW5kbGVMZWZ0PzogVEhSRUUuVmVjMiwgaGFuZGxlUmlnaHQ/OiBUSFJFRS5WZWMyLCBpbnRlcnBvbGF0aW9uPzogRkN1cnZlSW50ZXJwb2xhdGlvbiApIHtcclxuXHJcblx0XHR0aGlzLmNvb3JkaW5hdGUgPSBjb29yZGluYXRlO1xyXG5cdFx0dGhpcy5oYW5kbGVMZWZ0ID0gaGFuZGxlTGVmdCB8fCBjb29yZGluYXRlO1xyXG5cdFx0dGhpcy5oYW5kbGVSaWdodCA9IGhhbmRsZVJpZ2h0IHx8IGNvb3JkaW5hdGU7XHJcblx0XHR0aGlzLmludGVycG9sYXRpb24gPSBpbnRlcnBvbGF0aW9uIHx8ICdCRVpJRVInO1xyXG5cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0RWFzaW5nKCBpbnRlcnBvbGF0aW9uOiBGQ3VydmVJbnRlcnBvbGF0aW9uLCBuZXh0RnJhbWU6IEZDdXJ2ZUtleUZyYW1lICkge1xyXG5cclxuXHRcdGlmICggaW50ZXJwb2xhdGlvbiA9PSAnQkVaSUVSJyApIHtcclxuXHJcblx0XHRcdHJldHVybiBFYXNpbmdzLmJlemllciggdGhpcy5jb29yZGluYXRlLCB0aGlzLmhhbmRsZVJpZ2h0LCBuZXh0RnJhbWUuaGFuZGxlTGVmdCwgbmV4dEZyYW1lLmNvb3JkaW5hdGUgKTtcclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0cmV0dXJuICggdDogbnVtYmVyICkgPT4ge1xyXG5cclxuXHRcdFx0XHRsZXQgZCA9ICggbmV4dEZyYW1lLmNvb3JkaW5hdGUueSAtIHRoaXMuY29vcmRpbmF0ZS55ICk7XHJcblx0XHRcdFx0dCA9ICggdCAtIHRoaXMuY29vcmRpbmF0ZS54ICkgLyAoIG5leHRGcmFtZS5jb29yZGluYXRlLnggLSB0aGlzLmNvb3JkaW5hdGUueCApO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5jb29yZGluYXRlLnkgKyB0ICogZDtcclxuXHJcblx0XHRcdH07XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG5cdHB1YmxpYyB0byggbmV4dEZyYW1lOiBGQ3VydmVLZXlGcmFtZSwgdDogbnVtYmVyICkge1xyXG5cclxuXHRcdGlmICggdGhpcy5uZXh0RnJhbWUgPT0gbnVsbCB8fCB0aGlzLm5leHRGcmFtZS5jb29yZGluYXRlLnggIT0gbmV4dEZyYW1lLmNvb3JkaW5hdGUueCB8fCB0aGlzLm5leHRGcmFtZS5jb29yZGluYXRlLnkgIT0gbmV4dEZyYW1lLmNvb3JkaW5hdGUueSApIHtcclxuXHJcblx0XHRcdHRoaXMuZWFzaW5nID0gdGhpcy5nZXRFYXNpbmcoIHRoaXMuaW50ZXJwb2xhdGlvbiwgbmV4dEZyYW1lICk7XHJcblx0XHRcdHRoaXMubmV4dEZyYW1lID0gbmV4dEZyYW1lO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIHRoaXMuZWFzaW5nICkge1xyXG5cclxuXHRcdFx0cmV0dXJuIHRoaXMuZWFzaW5nKCB0ICk7XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdHJldHVybiAwO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBFYXNpbmdzLCBFYXNpbmdGdW5jIH0gZnJvbSBcIi4vRWFzaW5nc1wiO1xuaW1wb3J0IHsgTGVycEZ1bmMsIExlcnBzIH0gZnJvbSBcIi4vTGVycHNcIjtcbmltcG9ydCB7IFVuaWZvcm1zIH0gZnJvbSBcIi4vVW5pZm9ybXNcIjtcblxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEFuaW1hdG9yVmFyaWFibGU8VD57XG5cdHRpbWU6IG51bWJlcjtcblx0ZHVyYXRpb24/OiBudW1iZXI7XG5cdHZhbHVlOiBUO1xuXHRzdGFydFZhbHVlOiBUO1xuXHRnb2FsVmFsdWU6IFQ7XG5cdG9uQW5pbWF0aW9uRmluaXNoZWQ/OiBGdW5jdGlvbiB8IG51bGw7XG5cdGxlcnBGdW5jPzogTGVycEZ1bmM8VD47XG5cdGVhc2luZzogRWFzaW5nRnVuYztcbn1cblxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIEFuaW1hdG9yVmFsaWFibGVQYXJhbXM8VD4ge1xuXHRuYW1lOiBzdHJpbmc7XG5cdGluaXRWYWx1ZTogVDtcblx0ZWFzaW5nPzogRWFzaW5nRnVuYztcblx0Y3VzdG9tTGVycEZ1bmM/OiBMZXJwRnVuYzxUPjtcbn1cblxuZXhwb3J0IGNsYXNzIEFuaW1hdG9yIGV4dGVuZHMgVEhSRUUuRXZlbnREaXNwYXRjaGVyIHtcblxuXHRwcm90ZWN0ZWQgdmFyaWFibGVzOiB7IFsga2V5OiBzdHJpbmcgXTogQW5pbWF0b3JWYXJpYWJsZTxhbnk+IH07XG5cdHByb3RlY3RlZCBfaXNBbmltYXRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblx0cHJvdGVjdGVkIGFuaW1hdGluZ0NvdW50OiBudW1iZXIgPSAwO1xuXHRwcm90ZWN0ZWQgZGlzcGF0Y2hFdmVudHM6IEZ1bmN0aW9uW10gPSBbXTtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblxuXHRcdHN1cGVyKCk7XG5cblx0XHR0aGlzLnZhcmlhYmxlcyA9IHt9O1xuXG5cdH1cblxuXHRwdWJsaWMgZ2V0IGlzQW5pbWF0aW5nKCkge1xuXG5cdFx0cmV0dXJuIHRoaXMuX2lzQW5pbWF0aW5nO1xuXG5cdH1cblxuXHRwdWJsaWMgYWRkPFQ+KCBwYXJhbXM6IEFuaW1hdG9yVmFsaWFibGVQYXJhbXM8VD4gKSB7XG5cblx0XHRsZXQgbGVycEZ1bmMgPSBwYXJhbXMuY3VzdG9tTGVycEZ1bmMgfHwgTGVycHMuZ2V0TGVycEZ1bmMoIHBhcmFtcy5pbml0VmFsdWUgKTtcblxuXHRcdGxldCB2YXJpYWJsZSA9IHtcblx0XHRcdHRpbWU6IC0gMSxcblx0XHRcdHZhbHVlOiBwYXJhbXMuaW5pdFZhbHVlLFxuXHRcdFx0c3RhcnRWYWx1ZTogcGFyYW1zLmluaXRWYWx1ZSxcblx0XHRcdGdvYWxWYWx1ZTogbnVsbCxcblx0XHRcdGVhc2luZzogcGFyYW1zLmVhc2luZyB8fCBFYXNpbmdzLnNpZ21vaWQoKSxcblx0XHRcdGxlcnBGdW5jOiBsZXJwRnVuYyxcblx0XHR9O1xuXG5cdFx0dGhpcy52YXJpYWJsZXNbIHBhcmFtcy5uYW1lIF0gPSB2YXJpYWJsZTtcblxuXHRcdHJldHVybiB2YXJpYWJsZTtcblxuXHR9XG5cblx0cHVibGljIHNldEVhc2luZyggbmFtZTogc3RyaW5nLCBlYXNpbmc6IEVhc2luZ0Z1bmMgKSB7XG5cblx0XHRsZXQgdmFyaWFibGUgPSB0aGlzLnZhcmlhYmxlc1sgbmFtZSBdO1xuXG5cdFx0aWYgKCB2YXJpYWJsZSApIHtcblxuXHRcdFx0dmFyaWFibGUuZWFzaW5nID0gZWFzaW5nO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Y29uc29sZS53YXJuKCAnXCInICsgbmFtZSArICdcIicgKyAnIGlzIG5vdCBleGlzdCcgKTtcblxuXHRcdH1cblxuXHR9XG5cblx0cHVibGljIGFuaW1hdGU8VD4oIG5hbWU6IHN0cmluZywgZ29hbFZhbHVlOiBULCBkdXJhdGlvbjogbnVtYmVyID0gMSwgY2FsbGJhY2s/OiBGdW5jdGlvbiwgZWFzaW5nPzogRWFzaW5nRnVuYyApIHtcblxuXHRcdGxldCB2YXJpYWJsZSA9IHRoaXMudmFyaWFibGVzWyBuYW1lIF07XG5cdFx0bGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiB7XG5cblx0XHRcdGlmICggdmFyaWFibGUgKSB7XG5cblx0XHRcdFx0aWYgKCBkdXJhdGlvbiA8PSAwICkge1xuXG5cdFx0XHRcdFx0dGhpcy5zZXRWYWx1ZSggbmFtZSwgZ29hbFZhbHVlICk7XG5cblx0XHRcdFx0XHR2YXJpYWJsZS50aW1lID0gMS4wO1xuXHRcdFx0XHRcdHZhcmlhYmxlLm9uQW5pbWF0aW9uRmluaXNoZWQgPSAoKSA9PiB7XG5cblx0XHRcdFx0XHRcdGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKCBudWxsICk7XG5cblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIHZhcmlhYmxlLnRpbWUgPT0gLSAxICkge1xuXG5cdFx0XHRcdFx0dGhpcy5faXNBbmltYXRpbmcgPSB0cnVlO1xuXHRcdFx0XHRcdHRoaXMuYW5pbWF0aW5nQ291bnQgKys7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhcmlhYmxlLnRpbWUgPSAwO1xuXHRcdFx0XHR2YXJpYWJsZS5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuXHRcdFx0XHR2YXJpYWJsZS5zdGFydFZhbHVlID0gdmFyaWFibGUudmFsdWU7XG5cdFx0XHRcdHZhcmlhYmxlLmdvYWxWYWx1ZSA9IGdvYWxWYWx1ZTtcblx0XHRcdFx0dmFyaWFibGUub25BbmltYXRpb25GaW5pc2hlZCA9ICgpID0+IHtcblxuXHRcdFx0XHRcdGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0cmVzb2x2ZSggbnVsbCApO1xuXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0aWYgKCBlYXNpbmcgKSB7XG5cblx0XHRcdFx0XHR0aGlzLnNldEVhc2luZyggbmFtZSwgZWFzaW5nICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdGNvbnNvbGUud2FybiggJ1wiJyArIG5hbWUgKyAnXCInICsgJyBpcyBub3QgZXhpc3QnICk7XG5cblx0XHRcdH1cblxuXHRcdH0gKTtcblxuXHRcdHJldHVybiBwcm9taXNlO1xuXG5cdH1cblxuXHRwdWJsaWMgY2FuY2VsQW5pbWF0ZSggbmFtZTogc3RyaW5nICkge1xuXG5cdFx0bGV0IHZhcmlhYmxlID0gdGhpcy52YXJpYWJsZXNbIG5hbWUgXTtcblxuXHRcdGlmICggdmFyaWFibGUgKSB7XG5cblx0XHRcdHZhcmlhYmxlLnRpbWUgPSAxLjA7XG5cdFx0XHR2YXJpYWJsZS5vbkFuaW1hdGlvbkZpbmlzaGVkID0gbnVsbDtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGNvbnNvbGUud2FybiggJ1wiJyArIG5hbWUgKyAnXCInICsgJyBpcyBub3QgZXhpc3QnICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHB1YmxpYyBzZXRWYWx1ZTxUPiggbmFtZTogc3RyaW5nLCB2YWx1ZTogVCApIHtcblxuXHRcdGlmICggdGhpcy52YXJpYWJsZXNbIG5hbWUgXSApIHtcblxuXHRcdFx0dGhpcy52YXJpYWJsZXNbIG5hbWUgXS52YWx1ZSA9IHZhbHVlO1xuXHRcdFx0dGhpcy5jYW5jZWxBbmltYXRlKCBuYW1lICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdcIicgKyBuYW1lICsgJ1wiJyArICcgaXMgbm90IGV4aXN0JyApO1xuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHR9XG5cblx0cHVibGljIGdldDxUPiggbmFtZTogc3RyaW5nICk6IFQgfCBudWxsIHtcblxuXHRcdGlmICggdGhpcy52YXJpYWJsZXNbIG5hbWUgXSApIHtcblxuXHRcdFx0cmV0dXJuIHRoaXMudmFyaWFibGVzWyBuYW1lIF0udmFsdWU7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRjb25zb2xlLndhcm4oICdcIicgKyBuYW1lICsgJ1wiJyArICcgaXMgbm90IGV4aXN0JyApO1xuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHR9XG5cblx0cHVibGljIGdldFZhcmlhYmxlT2JqZWN0PFQ+KCBuYW1lOiBzdHJpbmcsIG11dGU6IGJvb2xlYW4gPSBmYWxzZSApOiBBbmltYXRvclZhcmlhYmxlPFQ+IHwgbnVsbCB7XG5cblx0XHRpZiAoIHRoaXMudmFyaWFibGVzWyBuYW1lIF0gKSB7XG5cblx0XHRcdHJldHVybiB0aGlzLnZhcmlhYmxlc1sgbmFtZSBdO1xuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0aWYgKCAhIG11dGUgKSB7XG5cblx0XHRcdFx0Y29uc29sZS53YXJuKCAnXCInICsgbmFtZSArICdcIicgKyAnIGlzIG5vdCBleGlzdCcgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdH1cblxuXHR9XG5cblx0cHVibGljIGlzQW5pbWF0aW5nVmFyaWFibGUoIG5hbWU6IHN0cmluZywgbXV0ZTogYm9vbGVhbiA9IGZhbHNlICkge1xuXG5cdFx0aWYgKCB0aGlzLnZhcmlhYmxlc1sgbmFtZSBdICkge1xuXG5cdFx0XHRsZXQgdGltZSA9IHRoaXMudmFyaWFibGVzWyBuYW1lIF0udGltZTtcblxuXHRcdFx0cmV0dXJuIHRpbWUgIT0gLSAxLjA7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRpZiAoICEgbXV0ZSApIHtcblxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdcIicgKyBuYW1lICsgJ1wiJyArICcgaXMgbm90IGV4aXN0JyApO1xuXG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBudWxsO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRwdWJsaWMgYXBwbHlUb1VuaWZvcm1zKCB1bmlmb3JtczogVW5pZm9ybXMgKSB7XG5cblx0XHRsZXQga2V5cyA9IE9iamVjdC5rZXlzKCB0aGlzLnZhcmlhYmxlcyApO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkgKysgKSB7XG5cblx0XHRcdGxldCB2YXJpYWJsZSA9IHRoaXMuZ2V0VmFyaWFibGVPYmplY3QoIGtleXNbIGkgXSApO1xuXG5cdFx0XHRpZiAoIHZhcmlhYmxlICkge1xuXG5cdFx0XHRcdHVuaWZvcm1zWyBrZXlzWyBpIF0gXSA9IHZhcmlhYmxlO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0fVxuXG5cdHB1YmxpYyB1cGRhdGUoIGRlbHRhVGltZT86IG51bWJlciApIHtcblxuXHRcdGlmICggdGhpcy5hbmltYXRpbmdDb3VudCA9PSAwICkge1xuXG5cdFx0XHR0aGlzLl9pc0FuaW1hdGluZyA9IGZhbHNlO1xuXG5cdFx0fVxuXG5cdFx0bGV0IGtleXMgPSBPYmplY3Qua2V5cyggdGhpcy52YXJpYWJsZXMgKTtcblxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpICsrICkge1xuXG5cdFx0XHRsZXQgdmFyaWFibGUgPSB0aGlzLnZhcmlhYmxlc1sga2V5c1sgaSBdIF07XG5cdFx0XHRsZXQgdGltZSA9IHZhcmlhYmxlLnRpbWU7XG5cblx0XHRcdGlmICggdGltZSA9PSAxLjAgKSB7XG5cblx0XHRcdFx0dGhpcy5hbmltYXRpbmdDb3VudCAtLTtcblx0XHRcdFx0dGltZSA9IC0gMTtcblxuXHRcdFx0XHRpZiAoIHZhcmlhYmxlLm9uQW5pbWF0aW9uRmluaXNoZWQgKSB7XG5cblx0XHRcdFx0XHR0aGlzLmRpc3BhdGNoRXZlbnRzLnB1c2goIHZhcmlhYmxlLm9uQW5pbWF0aW9uRmluaXNoZWQgKTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdFx0aWYgKCB0aW1lID49IDAuMCAmJiB0aW1lIDwgMS4wICkge1xuXG5cdFx0XHRcdGxldCBkdXJhdGlvbiA9IHZhcmlhYmxlLmR1cmF0aW9uO1xuXHRcdFx0XHRsZXQgZWFzaW5nID0gdmFyaWFibGUuZWFzaW5nO1xuXHRcdFx0XHRsZXQgbGVycEZ1bmMgPSB2YXJpYWJsZS5sZXJwRnVuYztcblxuXHRcdFx0XHRpZiAoIGR1cmF0aW9uICkge1xuXG5cdFx0XHRcdFx0dGltZSArPSAoIGRlbHRhVGltZSB8fCAwLjAxNiApIC8gZHVyYXRpb247XG5cblx0XHRcdFx0XHRpZiAoIGR1cmF0aW9uID09IDAgfHwgdGltZSA+PSAxLjAgKSB7XG5cblx0XHRcdFx0XHRcdHRpbWUgPSAxLjA7XG5cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggbGVycEZ1bmMgKSB7XG5cblx0XHRcdFx0XHR2YXJpYWJsZS52YWx1ZSA9IGxlcnBGdW5jKCB2YXJpYWJsZS5zdGFydFZhbHVlLCB2YXJpYWJsZS5nb2FsVmFsdWUsIGVhc2luZyggdGltZSApICk7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggdGltZSA9PSAxLjAgKSB7XG5cblx0XHRcdFx0XHR2YXJpYWJsZS52YWx1ZSA9IHZhcmlhYmxlLmdvYWxWYWx1ZTtcblxuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5kaXNwYXRjaEV2ZW50KCB7XG5cdFx0XHRcdFx0dHlwZTogJ3VwZGF0ZS8nICsga2V5c1sgaSBdLFxuXHRcdFx0XHRcdGRlbHRhVGltZTogZGVsdGFUaW1lLFxuXHRcdFx0XHRcdHZhbHVlOiB2YXJpYWJsZS52YWx1ZVxuXHRcdFx0XHR9ICk7XG5cblx0XHRcdH1cblxuXHRcdFx0dmFyaWFibGUudGltZSA9IHRpbWU7XG5cblx0XHR9XG5cblx0XHR3aGlsZSAoIHRoaXMuZGlzcGF0Y2hFdmVudHMubGVuZ3RoICE9IDAgKSB7XG5cblx0XHRcdGxldCBmdW5jID0gdGhpcy5kaXNwYXRjaEV2ZW50cy5wb3AoKTtcblxuXHRcdFx0aWYgKCBmdW5jICkge1xuXG5cdFx0XHRcdGZ1bmMoKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KCB7XG5cdFx0XHR0eXBlOiAndXBkYXRlJyxcblx0XHRcdGRlbHRhVGltZTogZGVsdGFUaW1lXG5cdFx0fSApO1xuXG5cdFx0aWYgKCB0aGlzLl9pc0FuaW1hdGluZyApIHtcblxuXHRcdFx0dGhpcy5kaXNwYXRjaEV2ZW50KCB7XG5cdFx0XHRcdHR5cGU6ICdhbmltYXRlJyxcblx0XHRcdFx0ZGVsdGFUaW1lOiBkZWx0YVRpbWVcblx0XHRcdH0gKTtcblxuXHRcdH1cblxuXHR9XG5cblx0cHVibGljIHdhaXQoIHQ6IG51bWJlciApIHtcblxuXHRcdGxldCBwcm0gPSBuZXcgUHJvbWlzZTx2b2lkPiggKCByICkgPT57XG5cblx0XHRcdHNldFRpbWVvdXQoICgpID0+IHtcblxuXHRcdFx0XHRyKCk7XG5cblx0XHRcdH0sICggdCAqIDEwMDAgKSApO1xuXG5cdFx0fSApO1xuXG5cdFx0cmV0dXJuIHBybTtcblxuXHR9XG5cbn1cbiIsImltcG9ydCAqIGFzIE9SRSBmcm9tICcuLi8uLi8nO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5pbXBvcnQgdmVydCBmcm9tICcuL3NoYWRlcnMvYmFja2dyb3VuZC52cyc7XG5pbXBvcnQgeyBMYXllclNpemUgYXMgTGF5ZXJTaXplSW5mbyB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZUxheWVyJztcblxuZXhwb3J0IGNsYXNzIEJhY2tncm91bmQgZXh0ZW5kcyBUSFJFRS5NZXNoIHtcblxuXHRwcm90ZWN0ZWQgdW5pZm9ybXM6IE9SRS5Vbmlmb3JtcztcblxuXHRjb25zdHJ1Y3RvciggcGFyYW06IFRIUkVFLlNoYWRlck1hdGVyaWFsUGFyYW1ldGVycyApIHtcblxuXHRcdGxldCBnZW8gPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTtcblxuXHRcdGxldCBwb3NBcnJheSA9IFtdO1xuXHRcdGxldCBpbmRleEFycmF5ID0gW107XG5cdFx0bGV0IHV2QXJyYXkgPSBbXTtcblxuXHRcdHBvc0FycmF5LnB1c2goIC0gMSwgMSwgMCApO1xuXHRcdHBvc0FycmF5LnB1c2goIDEsIDEsIDAgKTtcblx0XHRwb3NBcnJheS5wdXNoKCAxLCAtIDEsIDAgKTtcblx0XHRwb3NBcnJheS5wdXNoKCAtIDEsIC0gMSwgMCApO1xuXG5cdFx0dXZBcnJheS5wdXNoKCAwLCAxICk7XG5cdFx0dXZBcnJheS5wdXNoKCAxLCAxICk7XG5cdFx0dXZBcnJheS5wdXNoKCAxLCAwICk7XG5cdFx0dXZBcnJheS5wdXNoKCAwLCAwICk7XG5cblx0XHRpbmRleEFycmF5LnB1c2goIDAsIDIsIDEsIDAsIDMsIDIgKTtcblxuXHRcdGxldCBwb3MgPSBuZXcgRmxvYXQzMkFycmF5KCBwb3NBcnJheSApO1xuXHRcdGxldCBpbmRpY2VzID0gbmV3IFVpbnQzMkFycmF5KCBpbmRleEFycmF5ICk7XG5cdFx0bGV0IHV2ID0gbmV3IEZsb2F0MzJBcnJheSggdXZBcnJheSApO1xuXG5cdFx0Z2VvLnNldEF0dHJpYnV0ZSggJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggcG9zLCAzICkgKTtcblx0XHRnZW8uc2V0QXR0cmlidXRlKCAndXYnLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCB1diwgMiApICk7XG5cdFx0Z2VvLnNldEluZGV4KCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCBpbmRpY2VzLCAxICkgKTtcblxuXHRcdHBhcmFtLnZlcnRleFNoYWRlciA9IHBhcmFtLnZlcnRleFNoYWRlciB8fCB2ZXJ0O1xuXHRcdHBhcmFtLnRyYW5zcGFyZW50ID0gcGFyYW0udHJhbnNwYXJlbnQgIT0gdW5kZWZpbmVkID8gcGFyYW0udHJhbnNwYXJlbnQgOiB0cnVlO1xuXHRcdHBhcmFtLmRlcHRoRnVuYyA9IHBhcmFtLmRlcHRoRnVuYyAhPSB1bmRlZmluZWQgPyBwYXJhbS5kZXB0aEZ1bmMgOiBUSFJFRS5OZXZlckRlcHRoO1xuXG5cdFx0bGV0IG1hdCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCggcGFyYW0gKTtcblxuXHRcdHN1cGVyKCBnZW8sIG1hdCApO1xuXG5cdFx0dGhpcy51bmlmb3JtcyA9IHBhcmFtLnVuaWZvcm1zIHx8IHt9O1xuXG5cdFx0dGhpcy5mcnVzdHVtQ3VsbGVkID0gZmFsc2U7XG5cblx0fVxuXG5cdHB1YmxpYyByZXNpemUoIGFyZ3M6IExheWVyU2l6ZUluZm8gKSB7XG5cblx0XHR0aGlzLnVuaWZvcm1zLnJlc29sdXRpb24gPSB7IHZhbHVlOiBhcmdzLmNhbnZhc1NpemUgfTtcblx0XHR0aGlzLnVuaWZvcm1zLmFzcGVjdFJhdGlvID0geyB2YWx1ZTogYXJncy5jYW52YXNBc3BlY3RSYXRpbyB9O1xuXG5cdH1cblxufVxuIiwiXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0XHRCZXppZXJcbi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5leHBvcnQgbmFtZXNwYWNlIEJlemllciB7XG5cblx0ZXhwb3J0IHR5cGUgQmV6aWVyQ29udHJvbFBvaW50cyA9IHtcblx0XHRwMDogbnVtYmVyO1xuXHRcdHAxOiBudW1iZXI7XG5cdFx0cDI6IG51bWJlcjtcblx0XHRwMzogbnVtYmVyO1xuXHR9XG5cblx0Ly8gaW5zcGlyZWQgaHR0cHM6Ly9naXRodWIuY29tL2dyZS9iZXppZXItZWFzaW5nL2Jsb2IvbWFzdGVyL3NyYy9pbmRleC5qcyBhbmQgaHR0cHM6Ly9naXRodWIuY29tLzBiNXZyL2F1dG9tYXRvbi9ibG9iLzg3MjQyMGU3OThkOTA1NGQ0YTdhMDZjOTcyY2JiNDI2MWE2N2I0YmMvc3JjL2JlemllckVhc2luZy50c1xuXG5cdGV4cG9ydCBjb25zdCBORVdUT05fSVRFUkFUSU9OUyA9IDQ7XG5cdGV4cG9ydCBjb25zdCBORVdUT05fTUlOX1NMT1BFID0gMC4wMDE7XG5cdGV4cG9ydCBjb25zdCBTVUJESVZJU0lPTl9QUkVDSVNJT04gPSAwLjAwMDAwMDE7XG5cdGV4cG9ydCBjb25zdCBTVUJESVZJU0lPTl9NQVhfSVRFUkFUSU9OUyA9IDEwO1xuXHRleHBvcnQgY29uc3QgQkVaSUVSX0VBU0lOR19DQUNIRV9TSVpFID0gMTE7XG5cdGV4cG9ydCBjb25zdCBCRVpJRVJfRUFTSU5HX1NBTVBMRV9TVEVQX1NJWkUgPSAxLjAgLyBCRVpJRVJfRUFTSU5HX0NBQ0hFX1NJWkU7XG5cblx0ZnVuY3Rpb24gY2FsY0JlemllckEoIHA6IEJlemllckNvbnRyb2xQb2ludHMgKSB7XG5cblx0XHRyZXR1cm4gLSBwLnAwICsgMy4wICogcC5wMSAtIDMuMCAqIHAucDIgKyBwLnAzO1xuXG5cdH1cblx0ZnVuY3Rpb24gY2FsY0JlemllckIoIHA6IEJlemllckNvbnRyb2xQb2ludHMgKSB7XG5cblx0XHRyZXR1cm4gMy4wICogcC5wMCAtIDYuMCAqIHAucDEgKyAzLjAgKiBwLnAyO1xuXG5cdH1cblx0ZnVuY3Rpb24gY2FsY0JlemllckMoIHA6IEJlemllckNvbnRyb2xQb2ludHMgKSB7XG5cblx0XHRyZXR1cm4gLSAzLjAgKiBwLnAwICsgMy4wICogcC5wMTtcblxuXHR9XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIGNhbGNCZXppZXJTbG9wZSggcDogQmV6aWVyQ29udHJvbFBvaW50cywgdDogbnVtYmVyICkge1xuXG5cdFx0cmV0dXJuIDMuMCAqIGNhbGNCZXppZXJBKCBwICkgKiB0ICogdCArIDIuMCAqIGNhbGNCZXppZXJCKCBwICkgKiB0ICsgY2FsY0JlemllckMoIHAgKTtcblxuXHR9XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIGNhbGNCZXppZXIoIHA6IEJlemllckNvbnRyb2xQb2ludHMsIHQ6IG51bWJlciApIHtcblxuXHRcdHJldHVybiAoICggY2FsY0JlemllckEoIHAgKSAqIHQgKyBjYWxjQmV6aWVyQiggcCApICkgKiB0ICsgY2FsY0JlemllckMoIHAgKSApICogdCArIHAucDA7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIHN1YmRpdiggeDogbnVtYmVyLCBzdGFydFQ6IG51bWJlciwgZW5kVDogbnVtYmVyLCBwOiBCZXppZXJDb250cm9sUG9pbnRzICkge1xuXG5cdFx0bGV0IGN1cnJlbnRYID0gMDtcblx0XHRsZXQgY3VycmVudFQgPSAwO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgU1VCRElWSVNJT05fTUFYX0lURVJBVElPTlM7IGkgKysgKSB7XG5cblx0XHRcdGN1cnJlbnRUID0gc3RhcnRUICsgKCBlbmRUIC0gc3RhcnRUICkgLyAyO1xuXHRcdFx0Y3VycmVudFggPSBjYWxjQmV6aWVyKCBwLCBjdXJyZW50VCApO1xuXG5cdFx0XHRpZiAoIGN1cnJlbnRYID4geCApIHtcblxuXHRcdFx0XHRlbmRUID0gY3VycmVudFQ7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0c3RhcnRUID0gY3VycmVudFQ7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdHJldHVybiBjdXJyZW50VDtcblxuXHR9XG5cblx0ZnVuY3Rpb24gbmV3dG9uKCB4Om51bWJlciwgcDogQmV6aWVyQ29udHJvbFBvaW50cywgdDogbnVtYmVyICkge1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgTkVXVE9OX0lURVJBVElPTlM7IGkgKysgKSB7XG5cblx0XHRcdGxldCBzbG9wZSA9IGNhbGNCZXppZXJTbG9wZSggcCwgdCApO1xuXG5cdFx0XHRpZiAoIHNsb3BlID09IDAuMCApIHtcblxuXHRcdFx0XHRyZXR1cm4gdDtcblxuXHRcdFx0fVxuXG5cdFx0XHRsZXQgY3VycmVudFggPSAoIGNhbGNCZXppZXIoIHAsIHQgKSApIC0geDtcblx0XHRcdHQgLT0gY3VycmVudFggLyBzbG9wZTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB0O1xuXG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gZ2V0QmV6aWVyVGZyb21YKCBwOiBCZXppZXJDb250cm9sUG9pbnRzLCB4OiBudW1iZXIsIGNhY2hlOiBudW1iZXJbXSApIHtcblxuXHRcdHAucDEgPSBNYXRoLm1heCggcC5wMCwgTWF0aC5taW4oIHAucDMsIHAucDEgKSApO1xuXHRcdHAucDIgPSBNYXRoLm1heCggcC5wMCwgTWF0aC5taW4oIHAucDMsIHAucDIgKSApO1xuXG5cdFx0bGV0IHNhbXBsZSA9IDA7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDE7IGkgPCBjYWNoZS5sZW5ndGg7IGkgKysgKSB7XG5cblx0XHRcdHNhbXBsZSA9IGkgLSAxO1xuXHRcdFx0aWYgKCB4IDwgY2FjaGVbIGkgXSApIGJyZWFrO1xuXG5cdFx0fVxuXG5cdFx0bGV0IHQgPSBzYW1wbGUgLyAoIEJFWklFUl9FQVNJTkdfQ0FDSEVfU0laRSAtIDEuMCApO1xuXHRcdGxldCBkaWZmID0gY2FsY0JlemllclNsb3BlKCBwLCB0ICkgLyAoIHAucDMgLSBwLnAwICk7XG5cblx0XHRpZiAoIGRpZmYgPT0gMC4wICkge1xuXG5cdFx0XHRyZXR1cm4gdDtcblxuXHRcdH0gZWxzZSBpZiAoIGRpZmYgPiAwLjAxICkge1xuXG5cdFx0XHRyZXR1cm4gbmV3dG9uKCB4LCBwLCB0ICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHRyZXR1cm4gc3ViZGl2KCB4LCB0LCB0ICsgQkVaSUVSX0VBU0lOR19TQU1QTEVfU1RFUF9TSVpFLCBwICk7XG5cblx0XHR9XG5cblxuXHR9XG5cbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuXHJcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSBcIndvbGZ5ODctZXZlbnRlbWl0dGVyXCI7XHJcbmltcG9ydCB7IEFuaW1hdGlvbkFjdGlvbiB9IGZyb20gXCIuLi9BbmltYXRpb24vQW5pbWF0aW9uQWN0aW9uXCI7XHJcbmltcG9ydCB7IEZDdXJ2ZSB9IGZyb20gXCIuLi9BbmltYXRpb24vRkN1cnZlXCI7XHJcbmltcG9ydCB7IEZDdXJ2ZUdyb3VwIH0gZnJvbSAnLi4vQW5pbWF0aW9uL0ZDdXJ2ZUdyb3VwJztcclxuaW1wb3J0IHsgRkN1cnZlSW50ZXJwb2xhdGlvbiwgRkN1cnZlS2V5RnJhbWUgfSBmcm9tIFwiLi4vQW5pbWF0aW9uL0ZDdXJ2ZUtleUZyYW1lXCI7XHJcbmltcG9ydCB7IFVuaWZvcm1zIH0gZnJvbSAnLi4vVW5pZm9ybXMnO1xyXG5cclxuZXhwb3J0IHR5cGUgQkNNZXNzYWdlID0gQkNTeW5jU2NlbmVNZXNzYWdlIHwgQkNTeW5jRnJhbWVNZXNzYWdlXHJcbmV4cG9ydCB0eXBlIEJDQW5pbWF0aW9uQ3VydmVBeGlzID0gJ3gnIHwgJ3knIHwgJ3onIHwgJ3cnIHwgJ3NjYWxhcidcclxuXHJcbmV4cG9ydCB0eXBlIEJDU3luY1NjZW5lTWVzc2FnZSA9IHtcclxuXHR0eXBlOiBcInN5bmMvc2NlbmVcIixcclxuICAgIGRhdGE6IEJDU2NlbmVEYXRhO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBCQ1NjZW5lRGF0YSA9IHtcclxuICAgIGZjdXJ2ZXM6IEJDQW5pbWF0aW9uQ3VydmVQYXJhbVtdO1xyXG5cdGFjdGlvbnM6IEJDQW5pbWF0aW9uQWN0aW9uUGFyYW1bXTtcclxuICAgIG9iamVjdHM6IEJDU2NlbmVPYmplY3REYXRhW107XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEJDQW5pbWF0aW9uQWN0aW9uUGFyYW0gPSB7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBmY3VydmVzOiBzdHJpbmdbXTtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgQkNBbmltYXRpb25DdXJ2ZVBhcmFtID0ge1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAga2V5ZnJhbWVzOiBCQ0FuaW1hdGlvbkN1cnZlS2V5RnJhbWVQYXJhbVtdO1xyXG5cdGF4aXM6IEJDQW5pbWF0aW9uQ3VydmVBeGlzXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEJDQW5pbWF0aW9uQ3VydmVLZXlGcmFtZVBhcmFtID0ge1xyXG4gICAgYzogVEhSRUUuVmVjMjtcclxuICAgIGhfbDogVEhSRUUuVmVjMjtcclxuICAgIGhfcjogVEhSRUUuVmVjMjtcclxuICAgIGU6IHN0cmluZztcclxuICAgIGk6IEZDdXJ2ZUludGVycG9sYXRpb247XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEJDU2NlbmVPYmplY3REYXRhID0ge1xyXG5cdG5hbWU6IHN0cmluZyxcclxuXHRhY3Rpb25zOiBzdHJpbmdbXVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBCQ1N5bmNGcmFtZU1lc3NhZ2UgPSB7XHJcblx0dHlwZTogXCJzeW5jL3RpbWVsaW5lXCI7XHJcblx0ZGF0YTogQkNGcmFtZURhdGE7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEJDRnJhbWVEYXRhID0ge1xyXG5cdHN0YXJ0OiBudW1iZXI7XHJcblx0ZW5kOiBudW1iZXI7XHJcblx0Y3VycmVudDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQmxlbmRlckNvbm5lY3RvciBleHRlbmRzIEV2ZW50RW1pdHRlciB7XHJcblxyXG5cdC8vIHdzXHJcblxyXG5cdHByaXZhdGUgdXJsPzogc3RyaW5nO1xyXG5cdHByaXZhdGUgd3M/OiBXZWJTb2NrZXQ7XHJcblx0cHVibGljIGNvbm5lY3RlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuXHQvLyBmcmFtZVxyXG5cclxuXHRwdWJsaWMgZnJhbWVDdXJyZW50OiBudW1iZXIgPSAwO1xyXG5cdHB1YmxpYyBmcmFtZVN0YXJ0OiBudW1iZXIgPSAwO1xyXG5cdHB1YmxpYyBmcmFtZUVuZDogbnVtYmVyID0gMDtcclxuXHJcblx0Ly8gYW5pbWF0aW9uXHJcblxyXG5cdHB1YmxpYyBvYmplY3RzOiBCQ1NjZW5lT2JqZWN0RGF0YVtdID0gW107XHJcblx0cHVibGljIGFjdGlvbnM6IEFuaW1hdGlvbkFjdGlvbltdID0gW107XHJcblx0cHVibGljIGZjdXJ2ZUdyb3VwTGlzdDoge1tuYW1lOnN0cmluZ106RkN1cnZlR3JvdXB9ID0ge307XHJcblxyXG5cdC8vIHVuaWZvcm1zXHJcblxyXG5cdHByaXZhdGUgdW5pZm9ybXM6IFVuaWZvcm1zID0ge307XHJcblxyXG5cdGNvbnN0cnVjdG9yKCB1cmw/OiBzdHJpbmcgKSB7XHJcblxyXG5cdFx0c3VwZXIoKTtcclxuXHJcblx0XHRpZiAoIHVybCApIHtcclxuXHJcblx0XHRcdHRoaXMudXJsID0gdXJsO1xyXG5cdFx0XHR0aGlzLmNvbm5lY3QoIHRoaXMudXJsICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBjb25uZWN0KCB1cmw6IHN0cmluZyApIHtcclxuXHJcblx0XHR0aGlzLnVybCA9IHVybDtcclxuXHRcdHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KCB0aGlzLnVybCApO1xyXG5cdFx0dGhpcy53cy5vbm9wZW4gPSB0aGlzLm9uT3Blbi5iaW5kKCB0aGlzICk7XHJcblx0XHR0aGlzLndzLm9ubWVzc2FnZSA9IHRoaXMub25NZXNzYWdlLmJpbmQoIHRoaXMgKTtcclxuXHRcdHRoaXMud3Mub25jbG9zZSA9IHRoaXMub25DbG9zZS5iaW5kKCB0aGlzICk7XHJcblx0XHR0aGlzLndzLm9uZXJyb3IgPSAoIGUgKSA9PiB7XHJcblxyXG5cdFx0XHRjb25zb2xlLmVycm9yKCBlICk7XHJcblxyXG5cdFx0fTtcclxuXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3luY0pzb25TY2VuZSgganNvblBhdGg6IHN0cmluZyApIHtcclxuXHJcblx0XHRsZXQgcmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG5cdFx0cmVxLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcclxuXHJcblx0XHRcdGlmICggcmVxLnJlYWR5U3RhdGUgPT0gNCApIHtcclxuXHJcblx0XHRcdFx0aWYgKCByZXEuc3RhdHVzID09IDIwMCApIHtcclxuXHJcblx0XHRcdFx0XHR0aGlzLm9uU3luY1NjZW5lKCBKU09OLnBhcnNlKCByZXEucmVzcG9uc2UgKSApO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXEub3BlbiggJ0dFVCcsIGpzb25QYXRoICk7XHJcblx0XHRyZXEuc2VuZCggKTtcclxuXHJcblx0fVxyXG5cclxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHRcdEV2ZW50c1xyXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5cclxuXHRwcml2YXRlIG9uU3luY1NjZW5lKCBkYXRhOiBCQ1NjZW5lRGF0YSApIHtcclxuXHJcblx0XHR0aGlzLmFjdGlvbnMubGVuZ3RoID0gMDtcclxuXHRcdHRoaXMub2JqZWN0cy5sZW5ndGggPSAwO1xyXG5cclxuXHRcdC8vIGN1cnZlc1xyXG5cclxuXHRcdGRhdGEuZmN1cnZlcy5mb3JFYWNoKCBmY3VydmVEYXRhID0+IHtcclxuXHJcblx0XHRcdGxldCBjdXJ2ZSA9IG5ldyBGQ3VydmUoKTtcclxuXHJcblx0XHRcdGN1cnZlLnNldCggZmN1cnZlRGF0YS5rZXlmcmFtZXMubWFwKCBmcmFtZSA9PiB7XHJcblxyXG5cdFx0XHRcdHJldHVybiBuZXcgRkN1cnZlS2V5RnJhbWUoIGZyYW1lLmMsIGZyYW1lLmhfbCwgZnJhbWUuaF9yLCBmcmFtZS5pICk7XHJcblxyXG5cdFx0XHR9ICkgKTtcclxuXHJcblx0XHRcdGxldCBmY3VydmVHcm91cCA9IHRoaXMuZmN1cnZlR3JvdXBMaXN0WyBmY3VydmVEYXRhLm5hbWUgXTtcclxuXHJcblx0XHRcdGlmICggISBmY3VydmVHcm91cCApIHtcclxuXHJcblx0XHRcdFx0ZmN1cnZlR3JvdXAgPSBuZXcgRkN1cnZlR3JvdXAoIGZjdXJ2ZURhdGEubmFtZSApO1xyXG5cclxuXHRcdFx0XHR0aGlzLmZjdXJ2ZUdyb3VwTGlzdFsgZmN1cnZlRGF0YS5uYW1lIF0gPSBmY3VydmVHcm91cDtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZjdXJ2ZUdyb3VwLnNldEZDdXJ2ZSggY3VydmUsIGZjdXJ2ZURhdGEuYXhpcyApO1xyXG5cclxuXHRcdH0gKTtcclxuXHJcblx0XHQvLyBhY3Rpb25zXHJcblxyXG5cdFx0ZGF0YS5hY3Rpb25zLmZvckVhY2goIGFjdGlvbkRhdGEgPT4ge1xyXG5cclxuXHRcdFx0bGV0IGFjdGlvbiA9IG5ldyBBbmltYXRpb25BY3Rpb24oIGFjdGlvbkRhdGEubmFtZSApO1xyXG5cclxuXHRcdFx0YWN0aW9uRGF0YS5mY3VydmVzLmZvckVhY2goIGZjdXJ2ZUdyb3VwTmFtZSA9PiB7XHJcblxyXG5cdFx0XHRcdGxldCBmY3VydmVHcm91cCA9IHRoaXMuZmN1cnZlR3JvdXBMaXN0WyBmY3VydmVHcm91cE5hbWUgXTtcclxuXHJcblx0XHRcdFx0aWYgKCBmY3VydmVHcm91cCApIHtcclxuXHJcblx0XHRcdFx0XHRhY3Rpb24uYWRkRmN1cnZlR3JvdXAoIGZjdXJ2ZUdyb3VwTmFtZSwgZmN1cnZlR3JvdXAgKTtcclxuXHJcblx0XHRcdFx0XHRsZXQgdW5pID0gdGhpcy51bmlmb3Jtc1sgZmN1cnZlR3JvdXBOYW1lIF07XHJcblxyXG5cdFx0XHRcdFx0aWYgKCB1bmkgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRhY3Rpb24uYXNzaWduVW5pZm9ybXMoIGZjdXJ2ZUdyb3VwTmFtZSwgdW5pICk7XHJcblxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRcdHRoaXMudW5pZm9ybXNbIGZjdXJ2ZUdyb3VwTmFtZSBdID0gYWN0aW9uLmdldFVuaWZvcm1zKCBmY3VydmVHcm91cE5hbWUgKTtcclxuXHRcdFx0XHRcdFx0dGhpcy51bmlmb3Jtc1sgZmN1cnZlR3JvdXBOYW1lIF0udmFsdWUgPSBmY3VydmVHcm91cC5jcmVhdGVJbml0VmFsdWUoKTtcclxuXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0gKTtcclxuXHJcblx0XHRcdHRoaXMuYWN0aW9ucy5wdXNoKCBhY3Rpb24gKTtcclxuXHJcblx0XHR9ICk7XHJcblxyXG5cdFx0Ly8gb2JqZWN0c1xyXG5cclxuXHRcdGRhdGEub2JqZWN0cy5mb3JFYWNoKCBvYmplY3REYXRhID0+IHtcclxuXHJcblx0XHRcdHRoaXMub2JqZWN0cy5wdXNoKCBvYmplY3REYXRhICk7XHJcblxyXG5cdFx0fSApO1xyXG5cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgb25TeW5jRnJhbWUoIGRhdGE6IEJDRnJhbWVEYXRhICkge1xyXG5cclxuXHRcdHRoaXMuc2V0RnJhbWUoIGRhdGEuY3VycmVudCwgZGF0YS5zdGFydCwgZGF0YS5lbmQgKTtcclxuXHJcblx0fVxyXG5cclxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHRcdFdTIEV2ZW50c1xyXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5cclxuXHRwcml2YXRlIG9uT3BlbiggZXZlbnQ6IEV2ZW50ICkge1xyXG5cclxuXHRcdHRoaXMuY29ubmVjdGVkID0gdHJ1ZTtcclxuXHJcblx0fVxyXG5cclxuXHRwcml2YXRlIG9uTWVzc2FnZSggZTogTWVzc2FnZUV2ZW50ICkge1xyXG5cclxuXHRcdGxldCBtc2cgPSBKU09OLnBhcnNlKCBlLmRhdGEgKSBhcyBCQ01lc3NhZ2U7XHJcblxyXG5cdFx0aWYgKCBtc2cudHlwZSA9PSAnc3luYy9zY2VuZScgKSB7XHJcblxyXG5cdFx0XHR0aGlzLm9uU3luY1NjZW5lKCBtc2cuZGF0YSApO1xyXG5cclxuXHRcdH0gZWxzZSBpZiAoIG1zZy50eXBlID09IFwic3luYy90aW1lbGluZVwiICkge1xyXG5cclxuXHRcdFx0dGhpcy5vblN5bmNGcmFtZSggbXNnLmRhdGEgKTtcclxuXHJcblxyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgb25DbG9zZSggZTpDbG9zZUV2ZW50ICkge1xyXG5cclxuXHRcdHRoaXMuZGlzcG9zZVdTKCk7XHJcblxyXG5cdH1cclxuXHJcblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0XHRBUElcclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuXHJcblx0cHVibGljIGdldEFjdGlvbk5hbWVMaXN0KCBvYmplY3ROYW1lOiBzdHJpbmcgKSB7XHJcblxyXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgdGhpcy5vYmplY3RzLmxlbmd0aDsgaSArKyApIHtcclxuXHJcblx0XHRcdGlmICggdGhpcy5vYmplY3RzWyBpIF0ubmFtZSA9PSBvYmplY3ROYW1lICkge1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5vYmplY3RzWyBpIF0uYWN0aW9ucztcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIFtdO1xyXG5cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRBY3Rpb24oIGFjdGlvbk5hbWU6IHN0cmluZyApIHtcclxuXHJcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCB0aGlzLmFjdGlvbnMubGVuZ3RoOyBpICsrICkge1xyXG5cclxuXHRcdFx0aWYgKCB0aGlzLmFjdGlvbnNbIGkgXS5uYW1lID09IGFjdGlvbk5hbWUgKSB7XHJcblxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmFjdGlvbnNbIGkgXTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEFjdGlvbkxpc3QoIG9iamVjdE5hbWU6IHN0cmluZyApIHtcclxuXHJcblx0XHRsZXQgYWN0aW9uczogQW5pbWF0aW9uQWN0aW9uW10gPSBbXTtcclxuXHRcdGxldCBhY3Rpb25OYW1lTGlzdCA9IHRoaXMuZ2V0QWN0aW9uTmFtZUxpc3QoIG9iamVjdE5hbWUgKTtcclxuXHJcblx0XHRhY3Rpb25OYW1lTGlzdC5mb3JFYWNoKCBhY3Rpb25OYW1lID0+IHtcclxuXHJcblx0XHRcdGxldCBhY3Rpb24gPSB0aGlzLmdldEFjdGlvbiggYWN0aW9uTmFtZSApO1xyXG5cclxuXHRcdFx0aWYgKCBhY3Rpb24gKSB7XHJcblxyXG5cdFx0XHRcdGFjdGlvbnMucHVzaCggYWN0aW9uICk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSApO1xyXG5cclxuXHRcdHJldHVybiBhY3Rpb25zO1xyXG5cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRWYWx1ZTxUPiggcHJvcGVydHlOYW1lOiBzdHJpbmcgKTogVCB8IG51bGwge1xyXG5cclxuXHRcdGxldCB1bmkgPSB0aGlzLnVuaWZvcm1zWyBwcm9wZXJ0eU5hbWUgXTtcclxuXHJcblx0XHRpZiAoIHVuaSApIHtcclxuXHJcblx0XHRcdHJldHVybiB1bmkudmFsdWU7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBmY3VydmVHcm91cCA9IHRoaXMuZmN1cnZlR3JvdXBMaXN0WyBwcm9wZXJ0eU5hbWUgXTtcclxuXHJcblx0XHRpZiAoIGZjdXJ2ZUdyb3VwICkge1xyXG5cclxuXHRcdFx0bGV0IGluaXRWYWx1ZSA9IGZjdXJ2ZUdyb3VwLmNyZWF0ZUluaXRWYWx1ZSgpO1xyXG5cclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0VW5pZm9ybSggcHJvcGVydHlOYW1lLCBpbml0VmFsdWUgKS52YWx1ZTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFZhbHVlQXNTY2FsYXIoIHByb3BlcnR5TmFtZTogc3RyaW5nICkge1xyXG5cclxuXHRcdGxldCB2YWx1ZSA9IHRoaXMuZ2V0VmFsdWU8VEhSRUUuVmVjdG9yMiB8IFRIUkVFLlZlY3RvcjMgfCBUSFJFRS5WZWN0b3I0IHwgbnVtYmVyPiggcHJvcGVydHlOYW1lICk7XHJcblxyXG5cdFx0aWYgKCB2YWx1ZSApIHtcclxuXHJcblx0XHRcdGlmICggdHlwZW9mIHZhbHVlID09ICdudW1iZXInICkge1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gdmFsdWUueDtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIDA7XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFZhbHVlQXNWZWN0b3IyKCBwcm9wZXJ0eU5hbWU6IHN0cmluZyApIHtcclxuXHJcblx0XHRsZXQgdmFsdWUgPSB0aGlzLmdldFZhbHVlPFRIUkVFLlZlY3RvcjIgfCBUSFJFRS5WZWN0b3IzIHwgVEhSRUUuVmVjdG9yNCB8IG51bWJlcj4oIHByb3BlcnR5TmFtZSApO1xyXG5cclxuXHRcdGlmICggdmFsdWUgKSB7XHJcblxyXG5cdFx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyApIHtcclxuXHJcblx0XHRcdFx0cmV0dXJuIG5ldyBUSFJFRS5WZWN0b3IyKCB2YWx1ZSwgMC4wICk7XHJcblxyXG5cdFx0XHR9IGVsc2UgaWYgKCAnaXNWZWN0b3IyJyBpbiB2YWx1ZSApIHtcclxuXHJcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0cmV0dXJuIG5ldyBUSFJFRS5WZWN0b3IyKCB2YWx1ZS54LCB2YWx1ZS55ICk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdHJldHVybiBuZXcgVEhSRUUuVmVjdG9yMigpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VmFsdWVBc1ZlY3RvcjMoIHByb3BlcnR5TmFtZTogc3RyaW5nICkge1xyXG5cclxuXHRcdGxldCB2YWx1ZSA9IHRoaXMuZ2V0VmFsdWU8VEhSRUUuVmVjdG9yMiB8IFRIUkVFLlZlY3RvcjMgfCBUSFJFRS5WZWN0b3I0IHwgbnVtYmVyPiggcHJvcGVydHlOYW1lICk7XHJcblxyXG5cdFx0aWYgKCB2YWx1ZSApIHtcclxuXHJcblx0XHRcdGlmICggKCB2YWx1ZSBhcyBUSFJFRS5WZWN0b3IzICkuaXNWZWN0b3IzICkge1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgYXMgVEhSRUUuVmVjdG9yMztcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICggdHlwZW9mIHZhbHVlID09ICdudW1iZXInICkge1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gbmV3IFRIUkVFLlZlY3RvcjMoIHZhbHVlLCB2YWx1ZSwgdmFsdWUgKTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdGxldCByZXMgPSBuZXcgVEhSRUUuVmVjdG9yMyggdmFsdWUueCwgdmFsdWUueSApO1xyXG5cclxuXHRcdFx0XHRpZiAoICdpc1ZlY3RvcjQnIGluIHZhbHVlICkge1xyXG5cclxuXHRcdFx0XHRcdHJlcy56ID0gdmFsdWUuejtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gcmVzO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFZhbHVlQXNWZWN0b3I0KCBwcm9wZXJ0eU5hbWU6IHN0cmluZyApIHtcclxuXHJcblx0XHRsZXQgdmFsdWUgPSB0aGlzLmdldFZhbHVlPFRIUkVFLlZlY3RvcjIgfCBUSFJFRS5WZWN0b3IzIHwgVEhSRUUuVmVjdG9yNCB8IG51bWJlcj4oIHByb3BlcnR5TmFtZSApO1xyXG5cclxuXHRcdGlmICggdmFsdWUgKSB7XHJcblxyXG5cdFx0XHRpZiAoICggdmFsdWUgYXMgVEhSRUUuVmVjdG9yNCApLmlzVmVjdG9yNCApIHtcclxuXHJcblx0XHRcdFx0cmV0dXJuIHZhbHVlIGFzIFRIUkVFLlZlY3RvcjQ7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyApIHtcclxuXHJcblx0XHRcdFx0cmV0dXJuIG5ldyBUSFJFRS5WZWN0b3I0KCB2YWx1ZSwgdmFsdWUsIHZhbHVlLCB2YWx1ZSApO1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0bGV0IHJlcyA9IG5ldyBUSFJFRS5WZWN0b3I0KCB2YWx1ZS54LCB2YWx1ZS55ICk7XHJcblxyXG5cdFx0XHRcdGlmICggJ2lzVmVjdG9yMycgaW4gdmFsdWUgKSB7XHJcblxyXG5cdFx0XHRcdFx0cmVzLnogPSB2YWx1ZS56O1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdHJldHVybiBuZXcgVEhSRUUuVmVjdG9yNCgpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VmFsdWVBc0V1bGVyKCBwcm9wZXJ0eU5hbWU6IHN0cmluZyApIHtcclxuXHJcblx0XHRsZXQgdmFsdWUgPSB0aGlzLmdldFZhbHVlPFRIUkVFLlZlY3RvcjIgfCBUSFJFRS5WZWN0b3IzIHwgVEhSRUUuVmVjdG9yNCB8IG51bWJlcj4oIHByb3BlcnR5TmFtZSApO1xyXG5cclxuXHRcdGxldCByZXMgPSBuZXcgVEhSRUUuRXVsZXIoKTtcclxuXHRcdHJlcy5vcmRlciA9ICdZWFonO1xyXG5cclxuXHRcdGlmICggdmFsdWUgKSB7XHJcblxyXG5cdFx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyApIHtcclxuXHJcblx0XHRcdFx0cmVzLnggPSB2YWx1ZTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdHJlcy54ID0gdmFsdWUueDtcclxuXHRcdFx0XHRyZXMueSA9IHZhbHVlLnk7XHJcblxyXG5cdFx0XHRcdGlmICggJ2lzVmVjdG9yMycgaW4gdmFsdWUgfHwgJ2lzVmVjdG9yNCcgaW4gdmFsdWUgKSB7XHJcblxyXG5cdFx0XHRcdFx0cmVzLnogPSB2YWx1ZS56O1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXM7XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFVuaWZvcm08VD4oIHByb3BlcnR5TmFtZTogc3RyaW5nLCBpbml0aWFsVmFsdWU6IFQgKSB7XHJcblxyXG5cdFx0aWYgKCAhIHRoaXMudW5pZm9ybXNbIHByb3BlcnR5TmFtZSBdICkge1xyXG5cclxuXHRcdFx0dGhpcy51bmlmb3Jtc1sgcHJvcGVydHlOYW1lIF0gPSB7XHJcblx0XHRcdFx0dmFsdWU6IGluaXRpYWxWYWx1ZVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy51bmlmb3Jtc1sgcHJvcGVydHlOYW1lIF07XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIHNldEZyYW1lKCBjdXJyZW50OiBudW1iZXIsIHN0YXJ0PzpudW1iZXIsIGVuZD86bnVtYmVyICkge1xyXG5cclxuXHRcdHRoaXMuZnJhbWVDdXJyZW50ID0gY3VycmVudDtcclxuXHRcdHRoaXMuZnJhbWVTdGFydCA9IHN0YXJ0IHx8IHRoaXMuZnJhbWVTdGFydDtcclxuXHRcdHRoaXMuZnJhbWVFbmQgPSBlbmQgfHwgdGhpcy5mcmFtZUVuZDtcclxuXHJcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCB0aGlzLmFjdGlvbnMubGVuZ3RoOyBpICsrICkge1xyXG5cclxuXHRcdFx0dGhpcy5hY3Rpb25zWyBpIF0udXBkYXRlRnJhbWUoIHRoaXMuZnJhbWVDdXJyZW50ICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuZW1pdEV2ZW50KCAnc3luYy90aW1lbGluZScsIFsgdGhpcy5mcmFtZUN1cnJlbnQsIHRoaXMuZnJhbWVTdGFydCwgdGhpcy5mcmFtZUVuZCBdICk7XHJcblxyXG5cdH1cclxuXHJcblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0XHREaXNwb3NlXHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcblxyXG5cdHB1YmxpYyBkaXNwb3NlKCkge1xyXG5cclxuXHRcdHRoaXMuZGlzcG9zZVdTKCk7XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIGRpc3Bvc2VXUygpIHtcclxuXHJcblx0XHRpZiAoIHRoaXMud3MgKSB7XHJcblxyXG5cdFx0XHR0aGlzLndzLmNsb3NlKCk7XHJcblx0XHRcdHRoaXMud3Mub25tZXNzYWdlID0gbnVsbDtcclxuXHRcdFx0dGhpcy53cy5vbmNsb3NlID0gbnVsbDtcclxuXHRcdFx0dGhpcy53cy5vbm9wZW4gPSBudWxsO1xyXG5cclxuXHRcdFx0dGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IHZlcnQgZnJvbSAnLi9kb21NZXNoLnZzJztcbmltcG9ydCB7IFVuaWZvcm1zLCBVbmlmb3Jtc0xpYiB9IGZyb20gJy4uL1VuaWZvcm1zJztcblxuZXhwb3J0IGNsYXNzIERPTU1lc2ggZXh0ZW5kcyBUSFJFRS5NZXNoIHtcblxuXHRwcm90ZWN0ZWQgX3VuaWZvcm1zOiBVbmlmb3Jtcztcblx0cHJvdGVjdGVkIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuXG5cdGNvbnN0cnVjdG9yKCBlbGVtZW50OiBIVE1MRWxlbWVudCwgcGFyYW1ldGVyOiBUSFJFRS5TaGFkZXJNYXRlcmlhbFBhcmFtZXRlcnMgKSB7XG5cblx0XHRsZXQgZ2VvID0gbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoIDIsIDIgKTtcblxuXHRcdHBhcmFtZXRlci52ZXJ0ZXhTaGFkZXIgPSB2ZXJ0O1xuXG5cdFx0bGV0IHVuaSA9IFVuaWZvcm1zTGliLm1lcmdlVW5pZm9ybXMoIHBhcmFtZXRlci51bmlmb3Jtcywge1xuXHRcdFx0ZG9tUG9zOiB7XG5cdFx0XHRcdHZhbHVlOiBuZXcgVEhSRUUuVmVjdG9yMigpXG5cdFx0XHR9LFxuXHRcdFx0ZG9tU2l6ZToge1xuXHRcdFx0XHR2YWx1ZTogbmV3IFRIUkVFLlZlY3RvcjIoKVxuXHRcdFx0fSxcblx0XHRcdHdpbmRvd1NpemU6IHtcblx0XHRcdFx0dmFsdWU6IG5ldyBUSFJFRS5WZWN0b3IyKClcblx0XHRcdH0sXG5cdFx0XHRhc3BlY3RSYXRpbzoge1xuXHRcdFx0XHR2YWx1ZTogMS4wXG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0cGFyYW1ldGVyLnVuaWZvcm1zID0gdW5pO1xuXG5cdFx0bGV0IG1hdCA9IG5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCggcGFyYW1ldGVyICk7XG5cblx0XHRzdXBlciggZ2VvLCBtYXQgKTtcblxuXHRcdHRoaXMuZnJ1c3R1bUN1bGxlZCA9IGZhbHNlO1xuXG5cdFx0dGhpcy5fdW5pZm9ybXMgPSB1bmk7XG5cblx0XHR0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuXG5cdFx0dGhpcy51cGRhdGUoKTtcblxuXHR9XG5cblx0cHVibGljIGdldCB1bmlmb3JtcygpIHtcblxuXHRcdHJldHVybiB0aGlzLl91bmlmb3JtcztcblxuXHR9XG5cblx0cHVibGljIHVwZGF0ZSgpIHtcblxuXHRcdGxldCByZWN0ID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0dGhpcy5fdW5pZm9ybXMud2luZG93U2l6ZS52YWx1ZS5zZXQoIHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQgKTtcblx0XHR0aGlzLl91bmlmb3Jtcy5hc3BlY3RSYXRpby52YWx1ZSA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuXHRcdHRoaXMuX3VuaWZvcm1zLmRvbVNpemUudmFsdWUuc2V0KCByZWN0LndpZHRoLCByZWN0LmhlaWdodCApO1xuXHRcdHRoaXMuX3VuaWZvcm1zLmRvbVBvcy52YWx1ZS5zZXQoIHJlY3QubGVmdCwgcmVjdC50b3AgKTtcblxuXHR9XG5cbn1cbiIsImltcG9ydCB7IEJlemllciB9IGZyb20gXCIuL0JlemllclwiO1xuXG5leHBvcnQgdHlwZSBFYXNpbmdGdW5jID0gKCB0OiBudW1iZXIgKSA9PiBhbnlcblxuZXhwb3J0IG5hbWVzcGFjZSBFYXNpbmdzIHtcblxuXHRleHBvcnQgZnVuY3Rpb24gc2lnbW9pZCggd2VpZ2h0OiBudW1iZXIgPSA2ICk6IEVhc2luZ0Z1bmMge1xuXG5cdFx0cmV0dXJuICggeDogbnVtYmVyICkgPT4ge1xuXG5cdFx0XHR2YXIgZTEgPSBNYXRoLmV4cCggLSB3ZWlnaHQgKiAoIDIgKiB4IC0gMSApICk7XG5cdFx0XHR2YXIgZTIgPSBNYXRoLmV4cCggLSB3ZWlnaHQgKTtcblxuXHRcdFx0cmV0dXJuICggMSArICggMSAtIGUxICkgLyAoIDEgKyBlMSApICogKCAxICsgZTIgKSAvICggMSAtIGUyICkgKSAvIDI7XG5cblx0XHR9O1xuXG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gc21vb3Roc3RlcCggbWluOiBudW1iZXIsIG1heDogbnVtYmVyLCB2YWx1ZTogbnVtYmVyICk6IG51bWJlciB7XG5cblx0XHRsZXQgeCA9IE1hdGgubWF4KCAwLCBNYXRoLm1pbiggMSwgKCB2YWx1ZSAtIG1pbiApIC8gKCBtYXggLSBtaW4gKSApICk7XG5cdFx0cmV0dXJuIHggKiB4ICogKCAzIC0gMiAqIHggKTtcblxuXHR9XG5cblx0Lypcblx0QGF1dGhlciBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9ncmUvMTY1MDI5NFxuXHQqL1xuXG5cdGV4cG9ydCBmdW5jdGlvbiBsaW5lYXIoIHQ6IG51bWJlciApIHtcblxuXHRcdHJldHVybiB0O1xuXG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gZWFzZUluUXVhZCggdDogbnVtYmVyICkge1xuXG5cdFx0cmV0dXJuIHQgKiB0O1xuXG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gZWFzZU91dFF1YWQoIHQ6IG51bWJlciApIHtcblxuXHRcdHJldHVybiB0ICogKCAyIC0gdCApO1xuXG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0UXVhZCggdDogbnVtYmVyICkge1xuXG5cdFx0cmV0dXJuIHQgPCAuNSA/IDIgKiB0ICogdCA6IC0gMSArICggNCAtIDIgKiB0ICkgKiB0O1xuXG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gZWFzZUluQ3ViaWMoIHQ6IG51bWJlciApIHtcblxuXHRcdHJldHVybiB0ICogdCAqIHQ7XG5cblx0fVxuXG5cdGV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0Q3ViaWMoIHQ6IG51bWJlciApIHtcblxuXHRcdHJldHVybiAoIC0tIHQgKSAqIHQgKiB0ICsgMTtcblxuXHR9XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbk91dEN1YmljKCB0OiBudW1iZXIgKSB7XG5cblx0XHRyZXR1cm4gdCA8IC41ID8gNCAqIHQgKiB0ICogdCA6ICggdCAtIDEgKSAqICggMiAqIHQgLSAyICkgKiAoIDIgKiB0IC0gMiApICsgMTtcblxuXHR9XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIGVhc2VJblF1YXJ0KCB0OiBudW1iZXIgKSB7XG5cblx0XHRyZXR1cm4gdCAqIHQgKiB0ICogdDtcblxuXHR9XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXRRdWFydCggdDogbnVtYmVyICkge1xuXG5cdFx0cmV0dXJuIDEgLSAoIC0tIHQgKSAqIHQgKiB0ICogdDtcblxuXHR9XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbk91dFF1YXJ0KCB0OiBudW1iZXIgKSB7XG5cblx0XHRyZXR1cm4gdCA8IC41ID8gOCAqIHQgKiB0ICogdCAqIHQgOiAxIC0gOCAqICggLS0gdCApICogdCAqIHQgKiB0O1xuXG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gZWFzZUluUXVpbnQoIHQ6IG51bWJlciApIHtcblxuXHRcdHJldHVybiB0ICogdCAqIHQgKiB0ICogdDtcblxuXHR9XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXRRdWludCggdDogbnVtYmVyICkge1xuXG5cdFx0cmV0dXJuIDEgKyAoIC0tIHQgKSAqIHQgKiB0ICogdCAqIHQ7XG5cblx0fVxuXG4gIFx0ZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbk91dFF1aW50KCB0OiBudW1iZXIgKSB7XG5cbiAgXHRcdHJldHVybiB0IDwgLjUgPyAxNiAqIHQgKiB0ICogdCAqIHQgKiB0IDogMSArIDE2ICogKCAtLSB0ICkgKiB0ICogdCAqIHQgKiB0O1xuXG4gIFx0fVxuXG5cdGV4cG9ydCBmdW5jdGlvbiBiZXppZXIoIGMxOiBUSFJFRS5WZWMyLCBoMTogVEhSRUUuVmVjMiwgaDI6IFRIUkVFLlZlYzIsIGMyOiBUSFJFRS5WZWMyICk6IEVhc2luZ0Z1bmMge1xuXG5cdFx0dmFyIGNhY2hlID0gbmV3IEFycmF5KCBCZXppZXIuQkVaSUVSX0VBU0lOR19DQUNIRV9TSVpFICk7XG5cblx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBCZXppZXIuQkVaSUVSX0VBU0lOR19DQUNIRV9TSVpFOyArKyBpICkge1xuXG5cdFx0XHRjYWNoZVsgaSBdID0gQmV6aWVyLmNhbGNCZXppZXIoIHsgcDA6IGMxLngsIHAxOiBoMS54LCBwMjogaDIueCwgcDM6IGMyLnggfSwgaSAvICggQmV6aWVyLkJFWklFUl9FQVNJTkdfQ0FDSEVfU0laRSAtIDEuMCApICk7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gKCB4OiBudW1iZXIgKSA9PiB7XG5cblx0XHRcdGlmICggeCA8PSBjMS54ICkgcmV0dXJuIGMxLnk7XG5cdFx0XHRpZiAoIGMyLnggPD0geCApIHJldHVybiBjMi55O1xuXG5cdFx0XHRyZXR1cm4gQmV6aWVyLmNhbGNCZXppZXIoIHsgcDA6IGMxLnksIHAxOiBoMS55LCBwMjogaDIueSwgcDM6IGMyLnkgfSwgQmV6aWVyLmdldEJlemllclRmcm9tWCggeyBwMDogYzEueCwgcDE6IGgxLngsIHAyOiBoMi54LCBwMzogYzIueCB9LCB4LCBjYWNoZSApICk7XG5cblx0XHR9O1xuXG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gY3ViaWNCZXppZXIoIGgxWDogbnVtYmVyLCBoMVk6IG51bWJlciwgaDJYOiBudW1iZXIsIGgyWTogbnVtYmVyICkge1xuXG5cdFx0cmV0dXJuIGJlemllcihcblx0XHRcdHsgeDogMC4wLCB5OiAwLjAgfSxcblx0XHRcdHsgeDogaDFYIGFzIG51bWJlciwgeTogaDFZIGFzIG51bWJlciB9LFxuXHRcdFx0eyB4OiBoMlggYXMgbnVtYmVyLCB5OiBoMlkgYXMgbnVtYmVyIH0sXG5cdFx0XHR7IHg6IDEuMCwgeTogMS4wIH0sXG5cdFx0KTtcblxuXHR9XG5cbn1cbiIsImV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBFdmVudCB7XG5cdHR5cGU6IHN0cmluZztcblx0W2tleTpzdHJpbmddOiBhbnk7XG59XG5cbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBFdmVudExpc3RlbmVyIHtcblx0dHlwZTogc3RyaW5nLFxuXHRsaXN0ZW5lcjogKCBlOiBFdmVudCApID0+IHZvaWQsXG59XG5cbmV4cG9ydCBjbGFzcyBFdmVudERpc3BhdGNoZXIge1xuXG5cdHByaXZhdGUgZXZlbnRzOiBFdmVudExpc3RlbmVyW10gPSBbXTtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblxuXHR9XG5cblx0cHVibGljIGFkZEV2ZW50TGlzdGVuZXIoIHR5cGU6IHN0cmluZywgbGlzdGVuZXI6ICggZTogRXZlbnQgKSA9PiB2b2lkICkge1xuXG5cdFx0dGhpcy5ldmVudHMucHVzaCgge1xuXHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdGxpc3RlbmVyOiBsaXN0ZW5lclxuXHRcdH0gKTtcblxuXHR9XG5cblx0cHVibGljIGRpc3BhdGNoRXZlbnQoIGV2ZW50OiBFdmVudCApIHtcblxuXHRcdGV2ZW50LnRhcmdldCA9IHRoaXM7XG5cblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCB0aGlzLmV2ZW50cy5sZW5ndGg7IGkgKysgKSB7XG5cblx0XHRcdGlmICggZXZlbnQudHlwZSA9PSB0aGlzLmV2ZW50c1sgaSBdLnR5cGUgKSB7XG5cblx0XHRcdFx0dGhpcy5ldmVudHNbIGkgXS5saXN0ZW5lciggZXZlbnQgKTtcblxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdH1cblxuXHRwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZTogc3RyaW5nLCBsaXN0ZW5lcjogRnVuY3Rpb24gKSB7XG5cblx0XHRmb3IgKCBsZXQgaSA9IHRoaXMuZXZlbnRzLmxlbmd0aDsgaSA+PSAwOyBpIC0tICkge1xuXG5cdFx0XHRpZiAoIHR5cGUgPT0gdGhpcy5ldmVudHNbIGkgXS50eXBlICYmIGxpc3RlbmVyID09IHRoaXMuZXZlbnRzWyBpIF0ubGlzdGVuZXIgKSB7XG5cblx0XHRcdFx0dGhpcy5ldmVudHMuc3BsaWNlKCBpLCAxICk7XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHR9XG5cbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuaW1wb3J0IHZlcnQgZnJvbSAnLi9zaGFkZXJzL3Bhc3NUaHJvdWdoLnZzJztcbmltcG9ydCBwYXNzVGhyb3VnaEZyYWcgZnJvbSAnLi9zaGFkZXJzL3Bhc3NUaHJvdWdoLmZzJztcbmltcG9ydCB7IFVuaWZvcm1zLCBVbmlmb3Jtc0xpYiB9IGZyb20gJy4uL1VuaWZvcm1zJztcblxuZXhwb3J0IGludGVyZmFjZSBHUFVDb21wdXRhdGlvbktlcm5lbHtcbiAgICBtYXRlcmlhbDogVEhSRUUuUmF3U2hhZGVyTWF0ZXJpYWwsXG4gICAgdW5pZm9ybXM6IGFueSxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHUFVjb21wdXRhdGlvbkRhdGF7XG4gICAgYnVmZmVyOiBUSFJFRS5XZWJHTFJlbmRlclRhcmdldFxufVxuXG5leHBvcnQgY2xhc3MgR1BVQ29tcHV0YXRpb25Db250cm9sbGVyIHtcblxuXHRwcm90ZWN0ZWQgcmVuZGVyZXI6IFRIUkVFLldlYkdMUmVuZGVyZXI7XG5cdHB1YmxpYyBkYXRhU2l6ZTogVEhSRUUuVmVjdG9yMjtcblx0cHJvdGVjdGVkIHVuaWZvcm1zOiBhbnk7XG5cblx0cHJvdGVjdGVkIHNjZW5lOiBUSFJFRS5TY2VuZTtcblx0cHJvdGVjdGVkIGNhbWVyYTogVEhSRUUuQ2FtZXJhO1xuXG5cdHByb3RlY3RlZCBtZXNoOiBUSFJFRS5NZXNoO1xuXHRwcm90ZWN0ZWQgbWF0ZXJpYWxzOiBUSFJFRS5TaGFkZXJNYXRlcmlhbFtdO1xuXG5cdHByb3RlY3RlZCB0ZW1wRGF0YUxpbmVhcjogR1BVY29tcHV0YXRpb25EYXRhO1xuXHRwcm90ZWN0ZWQgdGVtcERhdGFOZWFyOiBHUFVjb21wdXRhdGlvbkRhdGE7XG5cblx0cHJpdmF0ZSByZW5kZXJUYXJnZXRzOiBUSFJFRS5XZWJHTFJlbmRlclRhcmdldFtdID0gW107XG5cblx0cHVibGljIGdldCBpc1N1cHBvcnRlZCgpIDogYm9vbGVhbiB7XG5cbiAgICBcdHJldHVybiB0aGlzLnJlbmRlcmVyLmV4dGVuc2lvbnMuZ2V0KCBcIk9FU190ZXh0dXJlX2Zsb2F0XCIgKTtcblxuXHR9XG5cblx0Y29uc3RydWN0b3IoIHJlbmRlcmVyOiBUSFJFRS5XZWJHTFJlbmRlcmVyLCBkYXRhU2l6ZTogVEhSRUUuVmVjdG9yMiApIHtcblxuICAgIFx0dGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIFx0dGhpcy5kYXRhU2l6ZSA9IGRhdGFTaXplLmNsb25lKCk7XG5cbiAgICBcdHRoaXMudW5pZm9ybXMgPSB7XG4gICAgXHRcdGRhdGFTaXplOiB7XG4gICAgXHRcdFx0dmFsdWU6IHRoaXMuZGF0YVNpemVcbiAgICBcdFx0fVxuICAgIFx0fTtcblxuICAgIFx0dGhpcy50ZW1wRGF0YUxpbmVhciA9IHRoaXMuY3JlYXRlRGF0YSgge1xuICAgIFx0XHRtaW5GaWx0ZXI6IFRIUkVFLkxpbmVhckZpbHRlcixcbiAgICBcdFx0bWFnRmlsdGVyOiBUSFJFRS5MaW5lYXJGaWx0ZXJcbiAgICBcdH0gKTtcblxuICAgIFx0dGhpcy50ZW1wRGF0YU5lYXIgPSB0aGlzLmNyZWF0ZURhdGEoIHtcbiAgICBcdFx0bWluRmlsdGVyOiBUSFJFRS5OZWFyZXN0RmlsdGVyLFxuICAgIFx0XHRtYWdGaWx0ZXI6IFRIUkVFLk5lYXJlc3RGaWx0ZXJcbiAgICBcdH0gKTtcblxuICAgIFx0dGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgIFx0dGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuQ2FtZXJhKCk7XG5cbiAgICBcdHRoaXMubWF0ZXJpYWxzID0gW107XG4gICAgXHR0aGlzLm1lc2ggPSBuZXcgVEhSRUUuTWVzaCggbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoIDIsIDIgKSApO1xuICAgIFx0dGhpcy5zY2VuZS5hZGQoIHRoaXMubWVzaCApO1xuXG5cdH1cblxuXHRwdWJsaWMgY3JlYXRlSW5pdGlhbGl6ZVRleHR1cmUoKSB7XG5cbiAgICBcdGxldCBhID0gbmV3IEZsb2F0MzJBcnJheSggdGhpcy51bmlmb3Jtcy5kYXRhU2l6ZS52YWx1ZS54ICogdGhpcy51bmlmb3Jtcy5kYXRhU2l6ZS52YWx1ZS55ICogNCApO1xuICAgIFx0bGV0IHRleHR1cmUgPSBuZXcgVEhSRUUuRGF0YVRleHR1cmUoIGEsIHRoaXMudW5pZm9ybXMuZGF0YVNpemUudmFsdWUueCwgdGhpcy51bmlmb3Jtcy5kYXRhU2l6ZS52YWx1ZS55LCBUSFJFRS5SR0JBRm9ybWF0LCBUSFJFRS5GbG9hdFR5cGUgKTtcbiAgICBcdHRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xuXG4gICAgXHRyZXR1cm4gdGV4dHVyZTtcblxuXHR9XG5cblx0cHVibGljIGNyZWF0ZURhdGEoKTogR1BVY29tcHV0YXRpb25EYXRhO1xuXG5cdHB1YmxpYyBjcmVhdGVEYXRhKCBpbml0aWFsaXplVGV4dHVyZTogVEhSRUUuRGF0YVRleHR1cmUgKTogR1BVY29tcHV0YXRpb25EYXRhO1xuXG5cdHB1YmxpYyBjcmVhdGVEYXRhKCB0ZXh0dXJlUGFyYW06IFRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0T3B0aW9ucyApOiBHUFVjb21wdXRhdGlvbkRhdGE7XG5cblx0cHVibGljIGNyZWF0ZURhdGEoIGluaXRpYWxpemVUZXh0dXJlOiBUSFJFRS5EYXRhVGV4dHVyZSwgdGV4dHVyZVBhcmFtOiBUSFJFRS5XZWJHTFJlbmRlclRhcmdldE9wdGlvbnMgKTogR1BVY29tcHV0YXRpb25EYXRhO1xuXG5cdHB1YmxpYyBjcmVhdGVEYXRhKCBpbml0VGV4X3RleFBhcmFtPzogYW55LCB0ZXh0dXJlUGFyYW0/IDogVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXRPcHRpb25zICk6IEdQVWNvbXB1dGF0aW9uRGF0YSB7XG5cbiAgICBcdGxldCB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIFx0bGV0IGlzaU9TID0gdXNlckFnZW50LmluZGV4T2YoICdpUGhvbmUnICkgPj0gMCB8fCB1c2VyQWdlbnQuaW5kZXhPZiggJ2lQYWQnICkgPj0gMCB8fCBuYXZpZ2F0b3IucGxhdGZvcm0gPT0gXCJpUGFkXCIgfHwgKCBuYXZpZ2F0b3IucGxhdGZvcm0gPT0gXCJNYWNJbnRlbFwiICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZiggXCJTYWZhcmlcIiApICE9IC0gMSAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIFwiQ2hyb21lXCIgKSA9PSAtIDEgJiYgKCBuYXZpZ2F0b3IgYXMgYW55ICkuc3RhbmRhbG9uZSAhPT0gdW5kZWZpbmVkICk7XG5cbiAgICBcdGxldCBwYXJhbTogVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXRPcHRpb25zID0ge1xuICAgIFx0XHR3cmFwUzogVEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZyxcbiAgICBcdFx0d3JhcFQ6IFRIUkVFLkNsYW1wVG9FZGdlV3JhcHBpbmcsXG4gICAgXHRcdG1pbkZpbHRlcjogVEhSRUUuTmVhcmVzdEZpbHRlcixcbiAgICBcdFx0bWFnRmlsdGVyOiBUSFJFRS5OZWFyZXN0RmlsdGVyLFxuICAgIFx0XHRmb3JtYXQ6IFRIUkVFLlJHQkFGb3JtYXQsXG4gICAgXHRcdHR5cGU6IGlzaU9TID8gVEhSRUUuSGFsZkZsb2F0VHlwZSA6IFRIUkVFLkZsb2F0VHlwZSxcbiAgICBcdFx0c3RlbmNpbEJ1ZmZlcjogZmFsc2UsXG4gICAgXHRcdGRlcHRoQnVmZmVyOiBmYWxzZVxuICAgIFx0fTtcbiAgICBcdGxldCBpbml0VGV4OiBUSFJFRS5EYXRhVGV4dHVyZSB8IG51bGwgPSBudWxsO1xuICAgIFx0bGV0IGN1c3RvbVBhcmFtOiBUSFJFRS5XZWJHTFJlbmRlclRhcmdldE9wdGlvbnMgfCBudWxsID0gbnVsbDtcblxuICAgIFx0aWYgKCBpbml0VGV4X3RleFBhcmFtICkge1xuXG4gICAgXHRcdGlmICggaW5pdFRleF90ZXhQYXJhbS5pc0RhdGFUZXh0dXJlICkge1xuXG4gICAgXHRcdFx0aW5pdFRleCA9IGluaXRUZXhfdGV4UGFyYW07XG5cbiAgICBcdFx0XHRpZiAoIHRleHR1cmVQYXJhbSApIHtcblxuICAgIFx0XHRcdFx0Y3VzdG9tUGFyYW0gPSB0ZXh0dXJlUGFyYW07XG5cbiAgICBcdFx0XHR9XG5cbiAgICBcdFx0fSBlbHNlIHtcblxuICAgIFx0XHRcdGN1c3RvbVBhcmFtID0gaW5pdFRleF90ZXhQYXJhbTtcblxuICAgIFx0XHR9XG5cbiAgICBcdH1cblxuICAgIFx0aWYgKCBjdXN0b21QYXJhbSApIHtcblxuICAgIFx0XHRwYXJhbS53cmFwUyA9IGN1c3RvbVBhcmFtLndyYXBTIHx8IHBhcmFtLndyYXBTO1xuICAgIFx0XHRwYXJhbS53cmFwVCA9IGN1c3RvbVBhcmFtLndyYXBUIHx8IHBhcmFtLndyYXBUO1xuICAgIFx0XHRwYXJhbS5taW5GaWx0ZXIgPSBjdXN0b21QYXJhbS5taW5GaWx0ZXIgfHwgcGFyYW0ubWluRmlsdGVyO1xuICAgIFx0XHRwYXJhbS5tYWdGaWx0ZXIgPSBjdXN0b21QYXJhbS5tYWdGaWx0ZXIgfHwgcGFyYW0ubWFnRmlsdGVyO1xuICAgIFx0XHRwYXJhbS5mb3JtYXQgPSBjdXN0b21QYXJhbS5mb3JtYXQgfHwgcGFyYW0uZm9ybWF0O1xuICAgIFx0XHRwYXJhbS50eXBlID0gY3VzdG9tUGFyYW0udHlwZSB8fCBwYXJhbS50eXBlO1xuICAgIFx0XHRwYXJhbS5zdGVuY2lsQnVmZmVyID0gY3VzdG9tUGFyYW0uc3RlbmNpbEJ1ZmZlciB8fCBwYXJhbS5zdGVuY2lsQnVmZmVyO1xuICAgIFx0XHRwYXJhbS5kZXB0aEJ1ZmZlciA9IGN1c3RvbVBhcmFtLmRlcHRoQnVmZmVyIHx8IHBhcmFtLmRlcHRoQnVmZmVyO1xuXG4gICAgXHR9XG5cbiAgICBcdGxldCBidWYgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQoIHRoaXMudW5pZm9ybXMuZGF0YVNpemUudmFsdWUueCwgdGhpcy51bmlmb3Jtcy5kYXRhU2l6ZS52YWx1ZS55LCBwYXJhbSApO1xuXG5cdFx0bGV0IGRhdGEgPSB7IGJ1ZmZlcjogYnVmIH07XG5cblx0XHR0aGlzLnJlbmRlclRhcmdldHMucHVzaCggYnVmICk7XG5cbiAgICBcdGlmICggaW5pdFRleCApIHtcblxuICAgIFx0XHRsZXQgaW5pdEtlcm5lbCA9IHRoaXMuY3JlYXRlS2VybmVsKCB7XG5cdFx0XHRcdGZyYWdtZW50U2hhZGVyOiBwYXNzVGhyb3VnaEZyYWcsXG5cdFx0XHRcdHVuaWZvcm1zOiB7XG5cdFx0XHRcdFx0dGV4OiB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogaW5pdFRleFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXG4gICAgXHRcdHRoaXMuY29tcHV0ZSggaW5pdEtlcm5lbCwgZGF0YSApO1xuXG4gICAgXHR9XG5cbiAgICBcdHJldHVybiBkYXRhO1xuXG5cdH1cblxuXHRwdWJsaWMgY3JlYXRlS2VybmVsKCBwYXJhbTogVEhSRUUuU2hhZGVyTWF0ZXJpYWxQYXJhbWV0ZXJzICk6IEdQVUNvbXB1dGF0aW9uS2VybmVsIHtcblxuICAgIFx0bGV0IHVuaTogVW5pZm9ybXMgPSBVbmlmb3Jtc0xpYi5tZXJnZVVuaWZvcm1zKCBwYXJhbS51bmlmb3JtcywgdGhpcy51bmlmb3JtcyApO1xuXG5cdFx0cGFyYW0udW5pZm9ybXMgPSB1bmk7XG5cdFx0cGFyYW0udmVydGV4U2hhZGVyID0gcGFyYW0udmVydGV4U2hhZGVyIHx8IHZlcnQ7XG5cbiAgICBcdGxldCBtYXQgPSBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoIHBhcmFtICk7XG5cbiAgICBcdHRoaXMubWF0ZXJpYWxzLnB1c2goIG1hdCApO1xuXG4gICAgXHRsZXQga2VybmVsOiBHUFVDb21wdXRhdGlvbktlcm5lbCA9IHtcbiAgICBcdFx0bWF0ZXJpYWw6IG1hdCxcbiAgICBcdFx0dW5pZm9ybXM6IHBhcmFtLnVuaWZvcm1zXG4gICAgXHR9O1xuXG4gICAgXHRyZXR1cm4ga2VybmVsO1xuXG5cdH1cblxuXHRwdWJsaWMgY29tcHV0ZSgga2VybmVsOiBHUFVDb21wdXRhdGlvbktlcm5lbCwgZGF0YTogR1BVY29tcHV0YXRpb25EYXRhLCBjYW1lcmE/OiBUSFJFRS5DYW1lcmEgKSB7XG5cbiAgICBcdGxldCB0ZW1wOiBHUFVjb21wdXRhdGlvbkRhdGE7XG5cbiAgICBcdGlmICggZGF0YS5idWZmZXIudGV4dHVyZS5tYWdGaWx0ZXIgPT0gVEhSRUUuTGluZWFyRmlsdGVyICkge1xuXG4gICAgXHRcdHRlbXAgPSB0aGlzLnRlbXBEYXRhTGluZWFyO1xuXG4gICAgXHR9IGVsc2Uge1xuXG4gICAgXHRcdHRlbXAgPSB0aGlzLnRlbXBEYXRhTmVhcjtcblxuICAgIFx0fVxuXG4gICAgXHR0aGlzLm1lc2gubWF0ZXJpYWwgPSBrZXJuZWwubWF0ZXJpYWw7XG5cbiAgICBcdGxldCBjdXJyZW50UmVuZGVyVGFyZ2V0ID0gdGhpcy5yZW5kZXJlci5nZXRSZW5kZXJUYXJnZXQoKTtcblxuICAgIFx0dGhpcy5yZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQoIHRlbXAuYnVmZmVyICk7XG5cbiAgICBcdHRoaXMucmVuZGVyZXIucmVuZGVyKCB0aGlzLnNjZW5lLCBjYW1lcmEgfHwgdGhpcy5jYW1lcmEgKTtcblxuICAgIFx0dGhpcy5zd2FwQnVmZmVycyggZGF0YSwgdGVtcCApO1xuXG4gICAgXHR0aGlzLnJlbmRlcmVyLnNldFJlbmRlclRhcmdldCggY3VycmVudFJlbmRlclRhcmdldCApO1xuXG5cdH1cblxuXHRwcm90ZWN0ZWQgc3dhcEJ1ZmZlcnMoIGIxOiBHUFVjb21wdXRhdGlvbkRhdGEsIGIyOiBHUFVjb21wdXRhdGlvbkRhdGEgKSB7XG5cbiAgICBcdGxldCB0bXAgPSBiMS5idWZmZXI7XG4gICAgXHRiMS5idWZmZXIgPSBiMi5idWZmZXI7XG4gICAgXHRiMi5idWZmZXIgPSB0bXA7XG5cblx0fVxuXG5cdHB1YmxpYyBkaXNwb3NlKCkge1xuXG4gICAgXHRsZXQgZ2VvID0gdGhpcy5tZXNoLmdlb21ldHJ5O1xuICAgIFx0Z2VvLmRpc3Bvc2UoKTtcblxuICAgIFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgdGhpcy5tYXRlcmlhbHMubGVuZ3RoOyBpICsrICkge1xuXG4gICAgXHRcdHRoaXMubWF0ZXJpYWxzWyBpIF0uZGlzcG9zZSgpO1xuXG4gICAgXHR9XG5cbiAgICBcdHRoaXMuc2NlbmUucmVtb3ZlKCB0aGlzLm1lc2ggKTtcblxuICAgIFx0dGhpcy50ZW1wRGF0YUxpbmVhci5idWZmZXIuZGlzcG9zZSgpO1xuICAgIFx0dGhpcy50ZW1wRGF0YU5lYXIuYnVmZmVyLmRpc3Bvc2UoKTtcblxuXHR9XG5cblx0cHVibGljIHJlc2l6ZURhdGEoIGRhdGFTaXplOiBUSFJFRS5WZWN0b3IyICkge1xuXG5cdFx0dGhpcy5kYXRhU2l6ZS5jb3B5KCBkYXRhU2l6ZSApO1xuXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgdGhpcy5yZW5kZXJUYXJnZXRzLmxlbmd0aDsgaSArKyApIHtcblxuXHRcdFx0bGV0IHRhcmdldCA9IHRoaXMucmVuZGVyVGFyZ2V0c1sgaSBdO1xuXG5cdFx0XHR0YXJnZXQuc2V0U2l6ZSggZGF0YVNpemUueCwgZGF0YVNpemUueSApO1xuXG5cdFx0fVxuXG5cdH1cblxufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVHJhbnNmb3JtIHtcblx0cG9zaXRpb24/OiBUSFJFRS5WZWN0b3IzO1xuXHRyb3RhdGlvbj86IFRIUkVFLlF1YXRlcm5pb247XG5cdHNjYWxlPzogbnVtYmVyO1xufVxuXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgQmFzZVRyYW5zZm9ybSB7XG5cdHBvc2l0aW9uOiBUSFJFRS5WZWN0b3IzO1xuXHRyb3RhdGlvbjogVEhSRUUuUXVhdGVybmlvbjtcblx0c2NhbGU6IFRIUkVFLlZlY3RvcjNcbn1cblxuZXhwb3J0IGNsYXNzIExheW91dENvbnRyb2xsZXIge1xuXG5cdHByb3RlY3RlZCBvYmo6IFRIUkVFLk9iamVjdDNEO1xuXHRwcm90ZWN0ZWQgYmFzZVRyYW5zZm9ybTogQmFzZVRyYW5zZm9ybTtcblx0cHJvdGVjdGVkIHRyYW5zZm9ybTogVHJhbnNmb3JtO1xuXG5cdGNvbnN0cnVjdG9yKCBvYmplY3Q6IFRIUkVFLk9iamVjdDNELCB0cmFuc2Zvcm06IFRyYW5zZm9ybSwgaXNBYnNvbHV0ZVBvc2l0aW9uPzogYm9vbGVhbiApIHtcblxuXHRcdHRoaXMub2JqID0gb2JqZWN0O1xuXG5cdFx0dGhpcy5iYXNlVHJhbnNmb3JtID0ge1xuXHRcdFx0cG9zaXRpb246IHRoaXMub2JqLnBvc2l0aW9uLmNsb25lKCksXG5cdFx0XHRyb3RhdGlvbjogdGhpcy5vYmoucXVhdGVybmlvbi5jbG9uZSgpLFxuXHRcdFx0c2NhbGU6IHRoaXMub2JqLnNjYWxlLmNsb25lKClcblx0XHR9O1xuXG5cdFx0dGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG5cblx0XHRpZiAoICEgaXNBYnNvbHV0ZVBvc2l0aW9uICkge1xuXG5cdFx0XHR0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbiAmJiB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGQoIHRoaXMub2JqLnBvc2l0aW9uICk7XG5cdFx0XHR0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiAmJiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbi5tdWx0aXBseSggdGhpcy5vYmoucXVhdGVybmlvbiApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRwdWJsaWMgdXBkYXRlVHJhbnNmb3JtKCB3ZWlnaHQ6IG51bWJlciApIHtcblxuXHRcdGlmICggdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24gKSB7XG5cblx0XHRcdHRoaXMub2JqLnBvc2l0aW9uLmNvcHkoIHRoaXMuYmFzZVRyYW5zZm9ybS5wb3NpdGlvbi5jbG9uZSgpLmxlcnAoIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLCB3ZWlnaHQgKSApO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiApIHtcblxuXHRcdFx0dGhpcy5vYmoucXVhdGVybmlvbi5jb3B5KCB0aGlzLmJhc2VUcmFuc2Zvcm0ucm90YXRpb24uY2xvbmUoKS5zbGVycCggdGhpcy50cmFuc2Zvcm0ucm90YXRpb24sIHdlaWdodCApICk7XG5cblx0XHR9XG5cblx0XHRpZiAoIHRoaXMudHJhbnNmb3JtLnNjYWxlICkge1xuXG5cdFx0XHR0aGlzLm9iai5zY2FsZS5jb3B5KCB0aGlzLmJhc2VUcmFuc2Zvcm0uc2NhbGUuY2xvbmUoKS5tdWx0aXBseVNjYWxhciggdGhpcy50cmFuc2Zvcm0uc2NhbGUgKiAoIHdlaWdodCApICsgMS4wIC0gd2VpZ2h0ICkgKTtcblxuXHRcdH1cblxuXHR9XG5cbn1cbiIsImV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBMZXJwRnVuYzxUPntcblx0KCBhOiBULCBiOiBULCB0OiBudW1iZXIgKTogVDtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBMZXJwcyB7XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIG51bWJlciggYTogbnVtYmVyLCBiOiBudW1iZXIsIHQ6IG51bWJlciApIHtcblxuXHRcdHJldHVybiBhICsgKCBiIC0gYSApICogdDtcblxuXHR9XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIG51bWJlckFycmF5KCBhOiBudW1iZXJbXSwgYjogbnVtYmVyW10sIHQ6IG51bWJlciApIHtcblxuXHRcdGlmICggYS5sZW5ndGggPT0gYi5sZW5ndGggKSB7XG5cblx0XHRcdGxldCBjID0gW107XG5cblx0XHRcdGZvciAoIGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpICsrICkge1xuXG5cdFx0XHRcdGMucHVzaCggYVsgaSBdICsgKCBiWyBpIF0gLSBhWyBpIF0gKSAqIHQgKTtcblxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gYztcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGNvbnNvbGUubG9nKCAnRGlmZmVyZW50IGxlbmd0aCBBcnJheXMhISEnICk7XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdH1cblxuXHR9XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIFRIUkVFVmVjdG9ycyggYTogVEhSRUUuVmVjdG9yMiAmIFRIUkVFLlZlY3RvcjMgJiBUSFJFRS5WZWN0b3I0ICYgVEhSRUUuQ29sb3IsIGI6IFRIUkVFLlZlY3RvcjIgJiBUSFJFRS5WZWN0b3IzICYgVEhSRUUuVmVjdG9yNCAmIFRIUkVFLkNvbG9yLCB0OiBudW1iZXIgKSB7XG5cblx0XHRyZXR1cm4gYS5jbG9uZSgpLmxlcnAoIGIsIHQgKTtcblxuXHR9XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIFRIUkVFUXVhdGVybmlvbiggYTogVEhSRUUuUXVhdGVybmlvbiwgYjogVEhSRUUuUXVhdGVybmlvbiwgdDogbnVtYmVyICkge1xuXG5cdFx0cmV0dXJuIGEuY2xvbmUoKS5zbGVycCggYiwgdCApO1xuXG5cdH1cblxuXHRleHBvcnQgZnVuY3Rpb24gVEhSRUVFdWxlciggYTogVEhSRUUuRXVsZXIsIGI6IFRIUkVFLkV1bGVyLCB0OiBudW1iZXIgKSB7XG5cblx0XHRsZXQgYWMgPSBhLmNsb25lKCk7XG5cdFx0bGV0IGJjID0gYi5jbG9uZSgpO1xuXG5cdFx0YWMueCA9IGFjLnggKyAoIGJjLnggLSBhYy54ICkgKiB0O1xuXHRcdGFjLnkgPSBhYy55ICsgKCBiYy55IC0gYWMueSApICogdDtcblx0XHRhYy56ID0gYWMueiArICggYmMueiAtIGFjLnogKSAqIHQ7XG5cblx0XHRyZXR1cm4gYWM7XG5cblx0fVxuXG5cdGV4cG9ydCBmdW5jdGlvbiBnZXRMZXJwRnVuYyggdmFsdWU6IGFueSApIHtcblxuXHRcdGlmICggdHlwZW9mICggdmFsdWUgKSA9PSAnbnVtYmVyJyApIHtcblxuXHRcdFx0cmV0dXJuIExlcnBzLm51bWJlcjtcblxuXHRcdH0gZWxzZSBpZiAoIHZhbHVlIGluc3RhbmNlb2YgQXJyYXkgJiYgdHlwZW9mICggdmFsdWVbIDAgXSApID09ICdudW1iZXInICkge1xuXG5cdFx0XHRyZXR1cm4gTGVycHMubnVtYmVyQXJyYXk7XG5cblx0XHR9IGVsc2UgaWYgKCB2YWx1ZS5pc1ZlY3RvcjIgfCB2YWx1ZS5pc1ZlY3RvcjMgfCB2YWx1ZS5pc1ZlY3RvcjQgfCB2YWx1ZS5pc0NvbG9yICkge1xuXG5cdFx0XHRyZXR1cm4gTGVycHMuVEhSRUVWZWN0b3JzO1xuXG5cdFx0fSBlbHNlIGlmICggdmFsdWUuaXNRdWF0ZXJuaW9uICkge1xuXG5cdFx0XHRyZXR1cm4gTGVycHMuVEhSRUVRdWF0ZXJuaW9uO1xuXG5cdFx0fSBlbHNlIGlmICggdmFsdWUuaXNFdWxlciApIHtcblxuXHRcdFx0cmV0dXJuIExlcnBzLlRIUkVFRXVsZXI7XG5cblx0XHR9XG5cblx0fVxuXG59XG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmV4cG9ydCBjbGFzcyBNb3VzZVJvdGF0b3Ige1xuXG5cdHB1YmxpYyB0YXJnZXQ6IFRIUkVFLk9iamVjdDNEO1xuXHRwdWJsaWMgc2Nyb2xsVmVsOiBUSFJFRS5WZWN0b3IyO1xuXG5cdGNvbnN0cnVjdG9yKCBvYmpzOiBUSFJFRS5PYmplY3QzRCApIHtcblxuXHRcdHRoaXMudGFyZ2V0ID0gb2JqcztcblxuXHRcdHRoaXMuc2Nyb2xsVmVsID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuXHR9XG5cblx0dXBkYXRlKCkge1xuXG5cdFx0dGhpcy5zY3JvbGxWZWwubXVsdGlwbHlTY2FsYXIoIDAuOTYgKTtcblxuXHRcdGxldCBheGlzID0gbmV3IFRIUkVFLlZlY3RvcjMoIHRoaXMuc2Nyb2xsVmVsLnksIHRoaXMuc2Nyb2xsVmVsLngsIDAuMCApLm5vcm1hbGl6ZSgpO1xuXG5cdFx0bGV0IHEgPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpLnNldEZyb21BeGlzQW5nbGUoIGF4aXMsIHRoaXMuc2Nyb2xsVmVsLmxlbmd0aCgpICk7XG5cdFx0cS5tdWx0aXBseSggdGhpcy50YXJnZXQucXVhdGVybmlvbiApO1xuXG5cdFx0dGhpcy50YXJnZXQucXVhdGVybmlvbi5jb3B5KCBxICk7XG5cblx0fVxuXG5cdGFkZFZlbG9jaXR5KCBzY3JvbGxEZWx0YTogVEhSRUUuVmVjdG9yMiApIHtcblxuXHRcdHRoaXMuc2Nyb2xsVmVsLmFkZFZlY3RvcnMoIHRoaXMuc2Nyb2xsVmVsLCBzY3JvbGxEZWx0YS5tdWx0aXBseVNjYWxhciggMC4wMDEgKSApO1xuXG5cdH1cblxufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xyXG5pbXBvcnQgeyBQYWdlU2Nyb2xsZXIgfSBmcm9tICcuJztcclxuXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBQYWdlU2Nyb2xsZXJFdmVudEFyZ3Mge1xyXG5cdHNjcm9sbGVyOiBQYWdlU2Nyb2xsZXI7XHJcblx0c2VjdGlvbjogUGFnZVNjcm9sbGVyU2VjdGlvbjtcclxuXHRzY3JvbGxNb2RlOiBzdHJpbmc7XHJcblx0c2Nyb2xsRGVsdGE6IG51bWJlcjtcclxuXHRzY3JvbGxQb3dlcjogbnVtYmVyO1xyXG59XHJcblxyXG5kZWNsYXJlIGludGVyZmFjZSBQYWdlU2Nyb2xsZXJFdmVudCB7XHJcblx0Y29tbW9uPzogKCBhcmdzOiBQYWdlU2Nyb2xsZXJFdmVudEFyZ3MgKSA9PiB2b2lkIHwgYm9vbGVhbjtcclxuXHR1cD86ICggYXJnczogUGFnZVNjcm9sbGVyRXZlbnRBcmdzICkgPT4gdm9pZCB8IGJvb2xlYW47XHJcblx0ZG93bj86ICggYXJnczogUGFnZVNjcm9sbGVyRXZlbnRBcmdzICkgPT4gdm9pZCB8IGJvb2xlYW47XHJcbn1cclxuXHJcbmRlY2xhcmUgaW50ZXJmYWNlIFBhZ2VTY3JvbGxlckV2ZW50cyB7XHJcblx0b25TdGFydFNjcm9sbD86IFBhZ2VTY3JvbGxlckV2ZW50XHJcblx0b25BcnJpdmFscz86IHtcclxuXHRcdHBlcmNlbnRhZ2U6IG51bWJlcjtcclxuXHRcdGV2ZW50OiBQYWdlU2Nyb2xsZXJFdmVudDtcclxuXHR9W11cclxufVxyXG5cclxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFBhZ2VTY3JvbGxlclNlY3Rpb25QYXJhbXMge1xyXG5cdG5hbWU6IHN0cmluZztcclxuXHRlbGVtZW50OiBIVE1MRWxlbWVudDtcclxuXHRldmVudHM/OiBQYWdlU2Nyb2xsZXJFdmVudHM7XHJcblx0c3RvcD86IGJvb2xlYW47XHJcblx0c3RhcnRTY3JvbGxVcD86IG51bWJlcjtcclxuXHRzdGFydFNjcm9sbERvd24/OiBudW1iZXI7XHJcblx0Ym90dG9tPzogYm9vbGVhbjtcclxufVxyXG5cclxuZGVjbGFyZSBpbnRlcmZhY2UgUGFnZVNjcm9sbGVyU2VjdGlvblJlY3Qge1xyXG5cdHg6IG51bWJlcjtcclxuXHR5OiBudW1iZXI7XHJcblx0d2lkdGg6IG51bWJlcjtcclxuXHRoZWlnaHQ6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFBhZ2VTY3JvbGxlclNlY3Rpb24ge1xyXG5cclxuXHRwdWJsaWMgbmFtZTogc3RyaW5nO1xyXG5cdHB1YmxpYyBlbGVtZW50OiBIVE1MRWxlbWVudDtcclxuXHRwdWJsaWMgcmVjdDogUGFnZVNjcm9sbGVyU2VjdGlvblJlY3Q7XHJcblx0cHVibGljIHN0YXJ0U2Nyb2xsVXA6IG51bWJlcjtcclxuXHRwdWJsaWMgc3RhcnRTY3JvbGxEb3duOiBudW1iZXI7XHJcblx0cHVibGljIHN0b3A/OiBib29sZWFuO1xyXG5cdHB1YmxpYyBldmVudHM/OiBQYWdlU2Nyb2xsZXJFdmVudHM7XHJcblx0cHVibGljIGJvdHRvbT86IGJvb2xlYW47XHJcblx0cHVibGljIHRpbWVsaW5lUGVyY2VudGFnZTogbnVtYmVyID0gMDtcclxuXHJcblx0Y29uc3RydWN0b3IoIHBhcmFtczogUGFnZVNjcm9sbGVyU2VjdGlvblBhcmFtcyApIHtcclxuXHJcblx0XHR0aGlzLm5hbWUgPSBwYXJhbXMubmFtZTtcclxuXHRcdHRoaXMuZWxlbWVudCA9IHBhcmFtcy5lbGVtZW50O1xyXG5cdFx0dGhpcy5yZWN0ID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cdFx0dGhpcy5zdG9wID0gcGFyYW1zLnN0b3A7XHJcblx0XHR0aGlzLmV2ZW50cyA9IHBhcmFtcy5ldmVudHM7XHJcblx0XHR0aGlzLmJvdHRvbSA9IHBhcmFtcy5ib3R0b207XHJcblx0XHR0aGlzLnN0YXJ0U2Nyb2xsRG93biA9IHBhcmFtcy5zdGFydFNjcm9sbERvd24gfHwgMDtcclxuXHRcdHRoaXMuc3RhcnRTY3JvbGxVcCA9IHBhcmFtcy5zdGFydFNjcm9sbFVwIHx8IDA7XHJcblxyXG5cdFx0dGhpcy51cGRhdGVSZWN0KCAwICk7XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIGdldCBpc1BhZ2VTY3JvbGxlclNlY3Rpb24oKSB7XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIHVwZGF0ZVJlY3QoIHNjcm9sbFBvczogbnVtYmVyICkge1xyXG5cclxuXHRcdHRoaXMucmVjdCA9IHtcclxuXHRcdFx0eDogdGhpcy5lbGVtZW50Lm9mZnNldExlZnQsXHJcblx0XHRcdHk6IHRoaXMuZWxlbWVudC5vZmZzZXRUb3AgLSBzY3JvbGxQb3MsXHJcblx0XHRcdHdpZHRoOiB0aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGgsXHJcblx0XHRcdGhlaWdodDogdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodFxyXG5cdFx0fTtcclxuXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0U2Nyb2xsUGVyY2VudGFnZSggb2Zmc2V0UG9zPzogbnVtYmVyICkge1xyXG5cclxuXHRcdGxldCBib3R0b21PZmZzZXQgPSAoIHRoaXMuYm90dG9tID8gdGhpcy5yZWN0LmhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodCA6IDAgKTtcclxuXHRcdGxldCBwb3MgPSAoIHRoaXMucmVjdC55ICsgYm90dG9tT2Zmc2V0ICkgLSAoIG9mZnNldFBvcyB8fCAwICk7XHJcblxyXG5cdFx0bGV0IGZpcnN0SGFsZkhlaWdodCA9IHRoaXMuYm90dG9tID8gdGhpcy5yZWN0LmhlaWdodCA6IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHRcdGxldCBmaXJzdEhhbGYgPSBNYXRoLm1pbiggMS4wLCAxLjAgLSAoIHBvcyAvIGZpcnN0SGFsZkhlaWdodCApICk7XHJcblxyXG5cdFx0bGV0IHNlY29uZEhhbGZIZWlnaHQgPSB0aGlzLmJvdHRvbSA/IHdpbmRvdy5pbm5lckhlaWdodCA6IHRoaXMucmVjdC5oZWlnaHQ7XHJcblx0XHRsZXQgc2Vjb25kSGFsZiA9IE1hdGgubWF4KCAwLjAsIC0gcG9zIC8gc2Vjb25kSGFsZkhlaWdodCApO1xyXG5cclxuXHRcdGxldCBwZXJjZW50YWdlID0gZmlyc3RIYWxmICsgc2Vjb25kSGFsZjtcclxuXHJcblx0XHRyZXR1cm4gcGVyY2VudGFnZTtcclxuXHJcblx0fVxyXG5cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XHJcbmltcG9ydCB7IFBhZ2VTY3JvbGxlclNlY3Rpb24sIFBhZ2VTY3JvbGxlclNlY3Rpb25QYXJhbXMsIFBhZ2VTY3JvbGxlckV2ZW50QXJncyB9IGZyb20gJy4vUGFnZVNjcm9sbGVyU2VjdGlvbic7XHJcbmltcG9ydCB7IEVhc2luZ0Z1bmMsIEVhc2luZ3MgfSBmcm9tICcuLi9FYXNpbmdzJztcclxuaW1wb3J0IHsgQW5pbWF0b3IgfSBmcm9tICcuLi9BbmltYXRvcic7XHJcblxyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgUGFnZVNjcm9sbGVyQXV0b01vdmVQYXJhbSB7XHJcblx0dGFyZ2V0OiBzdHJpbmcgfCBudW1iZXIgfCBQYWdlU2Nyb2xsZXJTZWN0aW9uO1xyXG5cdGR1cmF0aW9uPzogbnVtYmVyO1xyXG5cdGVhc2luZz86IEVhc2luZ0Z1bmM7XHJcblx0Y2FsbEJhY2s/OiBGdW5jdGlvbjtcclxuXHRib3R0b20/OiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUGFnZVNjcm9sbGVyIHtcclxuXHJcblx0cHJvdGVjdGVkIGFuaW1hdG9yOiBBbmltYXRvcjtcclxuXHRwcm90ZWN0ZWQgaXNBdXRvTW92ZTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuXHRwcm90ZWN0ZWQgcGFyZW50RWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcblx0cHJvdGVjdGVkIHBhcmVudEVsZW1lbnRIZWlnaHQ6IG51bWJlcjtcclxuXHJcblx0cHJvdGVjdGVkIHNlY3Rpb25zOiBQYWdlU2Nyb2xsZXJTZWN0aW9uW107XHJcblxyXG5cdHB1YmxpYyBkZWxheVNwZWVkOiBudW1iZXIgPSAwLjE7XHJcblx0cHVibGljIGRyYWdEZWxheVNwZWVkOiBudW1iZXIgPSAwLjQ7XHJcblx0cHJvdGVjdGVkIGlzVG91Y2hpbmc6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHRwcm90ZWN0ZWQgZGVsdGFNZW06IG51bWJlciA9IDA7XHJcblxyXG5cdHByb3RlY3RlZCBzY3JvbGxSZWFkeTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdHByb3RlY3RlZCBzdW1EZWx0YTogbnVtYmVyID0gMDtcclxuXHJcblx0cHJvdGVjdGVkIF9zY3JvbGxQb3M6IG51bWJlciA9IDA7XHJcblx0cHJvdGVjdGVkIF9zY3JvbGxQb3NNZW06IG51bWJlciA9IDA7XHJcblx0cHJvdGVjdGVkIF9zY3JvbGxQZXJjZW50YWdlOiBudW1iZXIgPSAwO1xyXG5cclxuXHRwcm90ZWN0ZWQgX3Njcm9sbFBvc0RlbGF5OiBudW1iZXIgPSAwO1xyXG5cdHByb3RlY3RlZCBfc2Nyb2xsUGVyY2VudGFnZURlbGF5OiBudW1iZXIgPSAwO1xyXG5cclxuXHRwcm90ZWN0ZWQgY2F1Z2h0U2VjdGlvbjogUGFnZVNjcm9sbGVyU2VjdGlvbiB8IG51bGw7XHJcblx0cHJvdGVjdGVkIGRyYWdTdG9wOiBib29sZWFuID0gZmFsc2U7XHJcblx0cHJvdGVjdGVkIGRyYWdVbmxvY2tSZWFkeTogYm9vbGVhbiA9IHRydWU7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCBwYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudCApIHtcclxuXHJcblx0XHR0aGlzLnBhcmVudEVsZW1lbnQgPSBwYXJlbnRFbGVtZW50O1xyXG5cdFx0dGhpcy5wYXJlbnRFbGVtZW50SGVpZ2h0ID0gcGFyZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcblxyXG5cdFx0dGhpcy5zZWN0aW9ucyA9IFtdO1xyXG5cdFx0dGhpcy5jYXVnaHRTZWN0aW9uID0gbnVsbDtcclxuXHJcblx0XHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdFx0XHRpbml0IEFuaW1hdG9yXHJcblx0XHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5cclxuXHRcdHRoaXMuYW5pbWF0b3IgPSBuZXcgQW5pbWF0b3IoKTtcclxuXHJcblx0XHR0aGlzLmFuaW1hdG9yLmFkZCgge1xyXG5cdFx0XHRuYW1lOiAnc2Nyb2xsUG9zJyxcclxuXHRcdFx0aW5pdFZhbHVlOiAwLFxyXG5cdFx0XHRlYXNpbmc6IEVhc2luZ3Muc2lnbW9pZCgpXHJcblx0XHR9ICk7XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIGdldCBzY3JvbGxQb3MoKSB7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuX3Njcm9sbFBvcztcclxuXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0IHNjcm9sbFBvc0RlbGF5KCkge1xyXG5cclxuXHRcdHJldHVybiB0aGlzLl9zY3JvbGxQb3NEZWxheTtcclxuXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0IHNjcm9sbFBlcmNlbnRhZ2UoKSB7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuX3Njcm9sbFBlcmNlbnRhZ2U7XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIGdldCBzY3JvbGxQZXJjZW50YWdlRGVsYXkoKSB7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuX3Njcm9sbFBlcmNlbnRhZ2VEZWxheTtcclxuXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0IHNjcm9sbFRpbWVsaW5lUGVyY2VudGFnZSgpIHtcclxuXHJcblx0XHRsZXQgc3VtID0gMDtcclxuXHJcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCB0aGlzLnNlY3Rpb25zLmxlbmd0aDsgaSArKyApIHtcclxuXHJcblx0XHRcdGxldCBzZWMgPSB0aGlzLnNlY3Rpb25zWyBpIF07XHJcblx0XHRcdGxldCBzZWNCZWYgPSB0aGlzLnNlY3Rpb25zWyBpIC0gMSBdO1xyXG5cclxuXHRcdFx0bGV0IGEgPSBNYXRoLm1heCggMC4wLCBzZWMuZWxlbWVudC5vZmZzZXRUb3AgLSB0aGlzLnNjcm9sbFBvc0RlbGF5ICsgKCBzZWMuYm90dG9tID8gc2VjLnJlY3QuaGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0IDogMCApICk7XHJcblx0XHRcdGxldCBiID0gKCAoIHNlY0JlZiA/IHNlY0JlZi5yZWN0LmhlaWdodCAtICggc2VjQmVmLmJvdHRvbSA/IHdpbmRvdy5pbm5lckhlaWdodCA6IDAgKSA6IDAgKSArICggc2VjLmJvdHRvbSA/IHNlYy5yZWN0LmhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodCA6IDAgKSApIHx8IDE7XHJcblxyXG5cdFx0XHRsZXQgZCA9IDEuMCAtICggYSAvIGIgKTtcclxuXHRcdFx0ZCA9IE1hdGgubWF4KCAwLjAsIGQgKTtcclxuXHJcblx0XHRcdHN1bSArPSBkO1xyXG5cclxuXHRcdFx0aWYgKCBkIDwgMS4wICkgYnJlYWs7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBzdW0gLyB0aGlzLnNlY3Rpb25zLmxlbmd0aDtcclxuXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgYWRkKCBzZWN0aW9uOiBQYWdlU2Nyb2xsZXJTZWN0aW9uICkge1xyXG5cclxuXHRcdHRoaXMuc2VjdGlvbnMucHVzaCggc2VjdGlvbiApO1xyXG5cclxuXHRcdHRoaXMuc29ydFNlY3Rpb25zKCk7XHJcblxyXG5cdFx0cmV0dXJuIHNlY3Rpb247XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIHNvcnRTZWN0aW9ucygpIHtcclxuXHJcblx0XHR0aGlzLnNlY3Rpb25zLnNvcnQoICggYTogUGFnZVNjcm9sbGVyU2VjdGlvbiwgYjogUGFnZVNjcm9sbGVyU2VjdGlvbiApOiBudW1iZXIgPT4ge1xyXG5cclxuXHRcdFx0cmV0dXJuIGEucmVjdC55ID4gYi5yZWN0LnkgPyAxIDogLSAxO1xyXG5cclxuXHRcdH0gKTtcclxuXHJcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCB0aGlzLnNlY3Rpb25zLmxlbmd0aDsgaSArKyApIHtcclxuXHJcblx0XHRcdHRoaXMuc2VjdGlvbnNbIGkgXS50aW1lbGluZVBlcmNlbnRhZ2UgPSAoIGkgKyAxICkgLyB0aGlzLnNlY3Rpb25zLmxlbmd0aDtcclxuXHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIGdldCggbmFtZTogc3RyaW5nICkge1xyXG5cclxuXHRcdGZvciAoIGxldCBpID0gMDsgaSA8IHRoaXMuc2VjdGlvbnMubGVuZ3RoOyBpICsrICkge1xyXG5cclxuXHRcdFx0aWYgKCB0aGlzLnNlY3Rpb25zWyBpIF0ubmFtZSA9PSBuYW1lICkgcmV0dXJuIHRoaXMuc2VjdGlvbnNbIGkgXTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc29sZS53YXJuKCAnc2VjdGlvbiBcIicgKyBuYW1lICsgJ1wiIGlzIG5vdCBleGlzdC4nICk7XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIHVwZGF0ZSggZGVsdGFUaW1lOiBudW1iZXIgKSB7XHJcblxyXG5cdFx0dGhpcy51cGRhdGVQYXJlbnRFbGVtZW50KCk7XHJcblxyXG5cdFx0dGhpcy51cGRhdGVTY3JvbGxQb3MoIGRlbHRhVGltZSApO1xyXG5cclxuXHRcdHRoaXMuYXBwbHlQYXJlbnRFbGVtZW50VHJhbnNmb3JtKCk7XHJcblxyXG5cdFx0dGhpcy5zdW1EZWx0YSA9IDAuMDtcclxuXHJcblx0fVxyXG5cclxuXHRwcm90ZWN0ZWQgdXBkYXRlU2Nyb2xsUG9zKCBkZWx0YVRpbWU6IG51bWJlciApIHtcclxuXHJcblx0XHR0aGlzLnVwZGF0ZUF1dG9Nb3ZlKCBkZWx0YVRpbWUgKTtcclxuXHJcblx0XHR0aGlzLmFkZFNjcm9sbFBvcygpO1xyXG5cclxuXHRcdHRoaXMuY2FsY1Njcm9sbFByb3BlcnRpZXMoIGRlbHRhVGltZSApO1xyXG5cclxuXHR9XHJcblxyXG5cdHByb3RlY3RlZCB1cGRhdGVBdXRvTW92ZSggZGVsdGFUaW1lOiBudW1iZXIgKSB7XHJcblxyXG5cdFx0dGhpcy5hbmltYXRvci51cGRhdGUoIGRlbHRhVGltZSApO1xyXG5cclxuXHRcdGlmICggdGhpcy5pc0F1dG9Nb3ZlICkge1xyXG5cclxuXHRcdFx0bGV0IHBvcyA9IHRoaXMuYW5pbWF0b3IuZ2V0PG51bWJlcj4oICdzY3JvbGxQb3MnICk7XHJcblxyXG5cdFx0XHRpZiAoIHBvcyApIHtcclxuXHJcblx0XHRcdFx0dGhpcy5zdW1EZWx0YSA9IHBvcyAtIHRoaXMuc2Nyb2xsUG9zO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRwcm90ZWN0ZWQgYWRkU2Nyb2xsUG9zKCkge1xyXG5cclxuXHRcdGlmICggdGhpcy5jaGVja1VubG9ja1N0b3BTY3JvbGwoIHRoaXMuc3VtRGVsdGEgKSApIHtcclxuXHJcblx0XHRcdGxldCBzdG9wUG9zID0gdGhpcy5jaGVja1Rocm93KCB0aGlzLnN1bURlbHRhICk7XHJcblxyXG5cdFx0XHRpZiAoIHN0b3BQb3MgIT09IG51bGwgKSB7XHJcblxyXG5cdFx0XHRcdHRoaXMuX3Njcm9sbFBvcyA9IHN0b3BQb3M7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHR0aGlzLl9zY3JvbGxQb3MgKz0gdGhpcy5zdW1EZWx0YTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuX3Njcm9sbFBvcyA9IE1hdGgubWF4KCBNYXRoLm1pbiggdGhpcy5fc2Nyb2xsUG9zLCB0aGlzLnBhcmVudEVsZW1lbnRIZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQgKSwgMCApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRwcm90ZWN0ZWQgY2hlY2tVbmxvY2tTdG9wU2Nyb2xsKCBzY3JvbGxEZWx0YTogbnVtYmVyICkge1xyXG5cclxuXHRcdGxldCB1bmxvY2tEaXI6IG51bWJlciA9IDA7XHJcblx0XHRsZXQgdW5sb2NrOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG5cdFx0aWYgKCB0aGlzLmNhdWdodFNlY3Rpb24gKSB7XHJcblxyXG5cdFx0XHRsZXQgZGlzdGFuY2UgPSB0aGlzLnNjcm9sbFBvcyAtIHRoaXMuc2Nyb2xsUG9zRGVsYXk7XHJcblxyXG5cdFx0XHRpZiAoIHNjcm9sbERlbHRhICogZGlzdGFuY2UgPCAwIHx8IE1hdGguYWJzKCBkaXN0YW5jZSApIDwgMTAuMCB8fCB0aGlzLmlzQXV0b01vdmUgKSB7XHJcblxyXG5cdFx0XHRcdGlmICggc2Nyb2xsRGVsdGEgPCAwICkge1xyXG5cclxuXHRcdFx0XHRcdGlmICggLSBzY3JvbGxEZWx0YSA+ICggdGhpcy5jYXVnaHRTZWN0aW9uLnN0YXJ0U2Nyb2xsVXAgfHwgMCApIHx8IHRoaXMuaXNBdXRvTW92ZSApIHtcclxuXHJcblx0XHRcdFx0XHRcdHVubG9ja0RpciA9IC0gMTtcclxuXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHNjcm9sbERlbHRhID4gMCApIHtcclxuXHJcblx0XHRcdFx0XHRpZiAoIHNjcm9sbERlbHRhID4gKCB0aGlzLmNhdWdodFNlY3Rpb24uc3RhcnRTY3JvbGxEb3duIHx8IDAgKSB8fCB0aGlzLmlzQXV0b01vdmUgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHR1bmxvY2tEaXIgPSAxO1xyXG5cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCB1bmxvY2tEaXIgIT0gMCAmJiB0aGlzLmNhdWdodFNlY3Rpb24uZXZlbnRzICkge1xyXG5cclxuXHRcdFx0XHRpZiAoIHRoaXMuY2F1Z2h0U2VjdGlvbi5ldmVudHMub25TdGFydFNjcm9sbCApIHtcclxuXHJcblx0XHRcdFx0XHRsZXQgYXJnczogUGFnZVNjcm9sbGVyRXZlbnRBcmdzID0ge1xyXG5cdFx0XHRcdFx0XHRzY3JvbGxlcjogdGhpcyxcclxuXHRcdFx0XHRcdFx0c2VjdGlvbjogdGhpcy5jYXVnaHRTZWN0aW9uLFxyXG5cdFx0XHRcdFx0XHRzY3JvbGxNb2RlOiB0aGlzLmlzQXV0b01vdmUgPyAnYXV0bycgOiAnbWFudWFsJyxcclxuXHRcdFx0XHRcdFx0c2Nyb2xsRGVsdGE6IHNjcm9sbERlbHRhLFxyXG5cdFx0XHRcdFx0XHRzY3JvbGxQb3dlcjogTWF0aC5hYnMoIHNjcm9sbERlbHRhICksXHJcblx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdGxldCB1bmxvY2s6IGJvb2xlYW4gfCB2b2lkO1xyXG5cclxuXHRcdFx0XHRcdGxldCBjb21tb25VbmxvY2sgPSB0aGlzLmNhdWdodFNlY3Rpb24uZXZlbnRzLm9uU3RhcnRTY3JvbGwuY29tbW9uICYmIHRoaXMuY2F1Z2h0U2VjdGlvbi5ldmVudHMub25TdGFydFNjcm9sbC5jb21tb24oIGFyZ3MgKTtcclxuXHRcdFx0XHRcdGlmICggdW5sb2NrRGlyID09IC0gMSApIHVubG9jayA9IHRoaXMuY2F1Z2h0U2VjdGlvbi5ldmVudHMub25TdGFydFNjcm9sbC51cCAmJiB0aGlzLmNhdWdodFNlY3Rpb24uZXZlbnRzLm9uU3RhcnRTY3JvbGwudXAoIGFyZ3MgKTtcclxuXHRcdFx0XHRcdGlmICggdW5sb2NrRGlyID09IDEgKSB1bmxvY2sgPSB0aGlzLmNhdWdodFNlY3Rpb24uZXZlbnRzLm9uU3RhcnRTY3JvbGwuZG93biAmJiB0aGlzLmNhdWdodFNlY3Rpb24uZXZlbnRzLm9uU3RhcnRTY3JvbGwuZG93biggYXJncyApO1xyXG5cclxuXHRcdFx0XHRcdGlmICggY29tbW9uVW5sb2NrID09PSBmYWxzZSB8fCB1bmxvY2sgPT09IGZhbHNlICkge1xyXG5cclxuXHRcdFx0XHRcdFx0dW5sb2NrRGlyID0gMDtcclxuXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHVubG9jayA9IHVubG9ja0RpciAhPSAwO1xyXG5cclxuXHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHR1bmxvY2sgPSB0cnVlO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIHVubG9ja0RpciApIHtcclxuXHJcblx0XHRcdHRoaXMuY2F1Z2h0U2VjdGlvbiA9IG51bGw7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB1bmxvY2s7XHJcblxyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIGNoZWNrVGhyb3coIHNjcm9sbERlbHRhOiBudW1iZXIgKSB7XHJcblxyXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwgdGhpcy5zZWN0aW9ucy5sZW5ndGg7IGkgKysgKSB7XHJcblxyXG5cdFx0XHRsZXQgc2VjID0gdGhpcy5zZWN0aW9uc1sgaSBdO1xyXG5cclxuXHRcdFx0c2VjLnVwZGF0ZVJlY3QoIHRoaXMuX3Njcm9sbFBvcyApO1xyXG5cclxuXHRcdFx0bGV0IHN0b3BQb3MgPSB0aGlzLmNoZWNrVGhyb3dTZWN0aW9uRXZlbnRzKCBzZWMsIHNjcm9sbERlbHRhICk7XHJcblxyXG5cdFx0XHRpZiAoIHN0b3BQb3MgIT09IG51bGwgKSB7XHJcblxyXG5cdFx0XHRcdHRoaXMuY2F1Z2h0U2VjdGlvbiA9IHNlYztcclxuXHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuaXNBdXRvTW92ZSA/IG51bGwgOiBzdG9wUG9zO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHJcblx0fVxyXG5cclxuXHRwcm90ZWN0ZWQgY2hlY2tUaHJvd1NlY3Rpb25FdmVudHMoIHNlY3Rpb246IFBhZ2VTY3JvbGxlclNlY3Rpb24sIHNjcm9sbERlbHRhOiBudW1iZXIgKSB7XHJcblxyXG5cdFx0bGV0IHBlcmNlbnRhZ2UgPSBzZWN0aW9uLmdldFNjcm9sbFBlcmNlbnRhZ2UoKTtcclxuXHRcdGxldCBtb3ZlZFBlcmNlbnRhZ2UgPSBzZWN0aW9uLmdldFNjcm9sbFBlcmNlbnRhZ2UoIHNjcm9sbERlbHRhICk7XHJcblxyXG5cdFx0aWYgKCBzZWN0aW9uLmV2ZW50cyApIHtcclxuXHJcblx0XHRcdGxldCBhcmdzOiBQYWdlU2Nyb2xsZXJFdmVudEFyZ3MgPSB7XHJcblx0XHRcdFx0c2Nyb2xsZXI6IHRoaXMsXHJcblx0XHRcdFx0c2VjdGlvbjogc2VjdGlvbixcclxuXHRcdFx0XHRzY3JvbGxNb2RlOiB0aGlzLmlzQXV0b01vdmUgPyAnYXV0bycgOiAnbWFudWFsJyxcclxuXHRcdFx0XHRzY3JvbGxEZWx0YTogc2Nyb2xsRGVsdGEsXHJcblx0XHRcdFx0c2Nyb2xsUG93ZXI6IE1hdGguYWJzKCBzY3JvbGxEZWx0YSApLFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0aWYgKCBzZWN0aW9uLmV2ZW50cy5vbkFycml2YWxzICkge1xyXG5cclxuXHRcdFx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCBzZWN0aW9uLmV2ZW50cy5vbkFycml2YWxzLmxlbmd0aDsgaSArKyApIHtcclxuXHJcblx0XHRcdFx0XHRsZXQgYXJyaXZhbEV2ZW50ID0gc2VjdGlvbi5ldmVudHMub25BcnJpdmFsc1sgaSBdO1xyXG5cclxuXHRcdFx0XHRcdGxldCBpc1Rocm93ID0gdGhpcy5jaGVja1Rocm93TGluZSggcGVyY2VudGFnZSwgbW92ZWRQZXJjZW50YWdlLCBhcnJpdmFsRXZlbnQucGVyY2VudGFnZSApO1xyXG5cclxuXHRcdFx0XHRcdGlmICggaXNUaHJvdyAhPSAwICkge1xyXG5cclxuXHRcdFx0XHRcdFx0YXJyaXZhbEV2ZW50LmV2ZW50LmNvbW1vbiAmJiBhcnJpdmFsRXZlbnQuZXZlbnQuY29tbW9uKCBhcmdzICk7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoIGlzVGhyb3cgPCAwICkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRhcnJpdmFsRXZlbnQuZXZlbnQudXAgJiYgYXJyaXZhbEV2ZW50LmV2ZW50LnVwKCBhcmdzICk7XHJcblxyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRhcnJpdmFsRXZlbnQuZXZlbnQuZG93biAmJiBhcnJpdmFsRXZlbnQuZXZlbnQuZG93biggYXJncyApO1xyXG5cclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIHNlY3Rpb24uc3RvcCApIHtcclxuXHJcblx0XHRcdGlmICggdGhpcy5jaGVja1Rocm93TGluZSggcGVyY2VudGFnZSwgbW92ZWRQZXJjZW50YWdlLCAxICkgKSB7XHJcblxyXG5cdFx0XHRcdHRoaXMuZHJhZ1VubG9ja1JlYWR5ID0gZmFsc2U7XHJcblxyXG5cdFx0XHRcdHJldHVybiBzZWN0aW9uLmVsZW1lbnQub2Zmc2V0VG9wICsgKCBzZWN0aW9uLmJvdHRvbSA/IHNlY3Rpb24ucmVjdC5oZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQgOiAwICk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBudWxsO1xyXG5cclxuXHR9XHJcblxyXG5cdHByb3RlY3RlZCBjaGVja1Rocm93TGluZSggYTogbnVtYmVyLCBiIDpudW1iZXIsIGxpbmU6IG51bWJlciApIHtcclxuXHJcblx0XHRpZiAoIGEgPCBsaW5lICYmIGxpbmUgPD0gYiApIHtcclxuXHJcblx0XHRcdHJldHVybiAxO1xyXG5cclxuXHRcdH0gZWxzZSBpZiAoIGEgPiBsaW5lICYmIGxpbmUgPj0gYiApIHtcclxuXHJcblx0XHRcdHJldHVybiAtIDE7XHJcblxyXG5cdFx0fSBlbHNlIGlmICggYSA9PSBsaW5lICYmIGxpbmUgPT0gYiApIHtcclxuXHJcblx0XHRcdHJldHVybiAyO1xyXG5cclxuXHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gMDtcclxuXHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIGNhbGNTY3JvbGxQcm9wZXJ0aWVzKCBkZWx0YVRpbWU6IG51bWJlciApIHtcclxuXHJcblx0XHR0aGlzLl9zY3JvbGxQb3NEZWxheSArPSAoIHRoaXMuX3Njcm9sbFBvcyAtIHRoaXMuX3Njcm9sbFBvc0RlbGF5ICkgKiAoIHRoaXMuaXNUb3VjaGluZyAmJiAhIHRoaXMuY2F1Z2h0U2VjdGlvbiA/IHRoaXMuZHJhZ0RlbGF5U3BlZWQgOiB0aGlzLmRlbGF5U3BlZWQgKSAqIE1hdGgubWluKCAxLjAsIGRlbHRhVGltZSAqIDYwICk7XHJcblxyXG5cdFx0dGhpcy5fc2Nyb2xsUGVyY2VudGFnZSA9IHRoaXMuc2Nyb2xsUG9zVG9QZXJlY250YWdlKCB0aGlzLnNjcm9sbFBvcyApO1xyXG5cclxuXHRcdHRoaXMuX3Njcm9sbFBlcmNlbnRhZ2VEZWxheSA9IHRoaXMuc2Nyb2xsUG9zVG9QZXJlY250YWdlKCB0aGlzLnNjcm9sbFBvc0RlbGF5ICk7XHJcblxyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIHNjcm9sbFBvc1RvUGVyZWNudGFnZSggc2Nyb2xsUG9zOiBudW1iZXIgKSB7XHJcblxyXG5cdFx0cmV0dXJuIHNjcm9sbFBvcyAvICggdGhpcy5wYXJlbnRFbGVtZW50SGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0ICk7XHJcblxyXG5cdH1cclxuXHJcblxyXG5cdHByb3RlY3RlZCB1cGRhdGVQYXJlbnRFbGVtZW50KCkge1xyXG5cclxuXHRcdHRoaXMucGFyZW50RWxlbWVudEhlaWdodCA9IHRoaXMucGFyZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XHJcblxyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIGFwcGx5UGFyZW50RWxlbWVudFRyYW5zZm9ybSgpIHtcclxuXHJcblx0XHR0aGlzLnBhcmVudEVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZTNkKCAwLCcgKyAtIHRoaXMuc2Nyb2xsUG9zRGVsYXkudG9TdHJpbmcoKSArICdweCwgMCApJztcclxuXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2Nyb2xsKCBkZWx0YTogbnVtYmVyICkge1xyXG5cclxuXHRcdHRoaXMuZGVsdGFNZW0gPSAoIHRoaXMuZGVsdGFNZW0gKyBkZWx0YSApIC8gMjtcclxuXHRcdHRoaXMuc3VtRGVsdGEgKz0gZGVsdGE7XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIGNhdGNoKCkge1xyXG5cclxuXHRcdGlmICggdGhpcy5pc0F1dG9Nb3ZlICkgcmV0dXJuO1xyXG5cclxuXHRcdHRoaXMuaXNUb3VjaGluZyA9IHRydWU7XHJcblx0XHR0aGlzLmRlbHRhTWVtID0gMDtcclxuXHJcblx0XHRpZiAoICEgdGhpcy5jYXVnaHRTZWN0aW9uICkge1xyXG5cclxuXHRcdFx0dGhpcy5fc2Nyb2xsUG9zID0gdGhpcy5fc2Nyb2xsUG9zRGVsYXk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBkcmFnKCBkZWx0YTogbnVtYmVyICkge1xyXG5cclxuXHRcdGlmICggISB0aGlzLmlzVG91Y2hpbmcgKSByZXR1cm47XHJcblxyXG5cdFx0dGhpcy5zY3JvbGwoIGRlbHRhICk7XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIHJlbGVhc2UoIHNuYXA6IG51bWJlciA9IDEwLjAgKSB7XHJcblxyXG5cdFx0aWYgKCAhIHRoaXMuaXNUb3VjaGluZyApIHJldHVybjtcclxuXHJcblx0XHR0aGlzLmlzVG91Y2hpbmcgPSBmYWxzZTtcclxuXHJcblx0XHRpZiAoICEgdGhpcy5jYXVnaHRTZWN0aW9uICkge1xyXG5cclxuXHRcdFx0dGhpcy5zY3JvbGwoIHRoaXMuZGVsdGFNZW0gKiBzbmFwICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhdXRvTW92ZSggcGFyYW06IFBhZ2VTY3JvbGxlckF1dG9Nb3ZlUGFyYW0gKSB7XHJcblxyXG5cdFx0bGV0IHRhcmdldFBvczogbnVtYmVyID0gMDtcclxuXHJcblx0XHRpZiAoICggcGFyYW0udGFyZ2V0IGFzIFBhZ2VTY3JvbGxlclNlY3Rpb24gKS5pc1BhZ2VTY3JvbGxlclNlY3Rpb24gKSB7XHJcblxyXG5cdFx0XHRsZXQgdGFyZ2V0ID0gcGFyYW0udGFyZ2V0IGFzIFBhZ2VTY3JvbGxlclNlY3Rpb247XHJcblx0XHRcdGxldCBib3R0b21PZmZzZXQgPSBwYXJhbS5ib3R0b20gPyB0YXJnZXQucmVjdC5oZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQgOiAwO1xyXG5cclxuXHRcdFx0dGFyZ2V0UG9zID0gdGFyZ2V0LmVsZW1lbnQub2Zmc2V0VG9wICsgYm90dG9tT2Zmc2V0O1xyXG5cclxuXHRcdH0gZWxzZSBpZiAoIHR5cGVvZiBwYXJhbS50YXJnZXQgPT0gJ3N0cmluZycgKSB7XHJcblxyXG5cdFx0XHRsZXQgdGFyZ2V0ID0gdGhpcy5nZXQoIHBhcmFtLnRhcmdldCApO1xyXG5cclxuXHRcdFx0aWYgKCB0YXJnZXQgKSB7XHJcblxyXG5cdFx0XHRcdGxldCBib3R0b21PZmZzZXQgPSBwYXJhbS5ib3R0b20gPyB0YXJnZXQucmVjdC5oZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHQgOiAwO1xyXG5cclxuXHRcdFx0XHR0YXJnZXRQb3MgPSB0YXJnZXQuZWxlbWVudC5vZmZzZXRUb3AgKyBib3R0b21PZmZzZXQ7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSBlbHNlIGlmICggdHlwZW9mIHBhcmFtLnRhcmdldCA9PSAnbnVtYmVyJyApIHtcclxuXHJcblx0XHRcdHRhcmdldFBvcyA9IHBhcmFtLnRhcmdldDtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5hbmltYXRvci5zZXRWYWx1ZSggJ3Njcm9sbFBvcycsIHRoaXMuX3Njcm9sbFBvcyApO1xyXG5cdFx0dGhpcy5hbmltYXRvci5hbmltYXRlKCAnc2Nyb2xsUG9zJywgdGFyZ2V0UG9zLCBwYXJhbS5kdXJhdGlvbiwgKCkgPT4ge1xyXG5cclxuXHRcdFx0aWYgKCBwYXJhbS5jYWxsQmFjayApIHBhcmFtLmNhbGxCYWNrKCk7XHJcblxyXG5cdFx0XHR0aGlzLmlzQXV0b01vdmUgPSBmYWxzZTtcclxuXHJcblx0XHR9LCBwYXJhbS5lYXNpbmcgKTtcclxuXHJcblx0XHQvL29uU3RhcnRTY3JvbGzlhoXjgadBdXRvTW92ZeOBl+OBn+OBqOOBjeOAgeeEoemZkOODq+ODvOODl+OBq+mZpeOCi+OBruOCkumYu+atolxyXG5cdFx0dGhpcy5zdW1EZWx0YSA9ICggdGFyZ2V0UG9zIC0gdGhpcy5zdW1EZWx0YSApIC8gTWF0aC5hYnMoIHRhcmdldFBvcyAtIHRoaXMuc3VtRGVsdGEgKSAqIDAuMDAwMDE7XHJcblxyXG5cdFx0dGhpcy5pc0F1dG9Nb3ZlID0gdHJ1ZTtcclxuXHJcblx0fVxyXG5cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcblxuY29uc3QgeyBMZXRoYXJneSB9ID0gcmVxdWlyZSggJ2xldGhhcmd5JyApO1xuY29uc3QgdG9QeCA9IHJlcXVpcmUoICd0by1weCcgKTtcblxuZXhwb3J0IGNsYXNzIFBvaW50ZXIgZXh0ZW5kcyBUSFJFRS5FdmVudERpc3BhdGNoZXIge1xuXG5cdHByb3RlY3RlZCBpc1NQOiBib29sZWFuO1xuXHRwcm90ZWN0ZWQgaXNUb3VjaGluZzogYm9vbGVhbjtcblxuXHRwdWJsaWMgcG9zaXRpb246IFRIUkVFLlZlY3RvcjI7XG5cdHB1YmxpYyBkZWx0YTogVEhSRUUuVmVjdG9yMjtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblxuXHRcdHN1cGVyKCk7XG5cblx0XHR0aGlzLnBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjIoIE5hTiwgTmFOICk7XG5cdFx0dGhpcy5kZWx0YSA9IG5ldyBUSFJFRS5WZWN0b3IyKCBOYU4sIE5hTiApO1xuXG5cdFx0Y29uc3QgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcblx0XHR0aGlzLmlzU1AgPSB1c2VyQWdlbnQuaW5kZXhPZiggJ2lQaG9uZScgKSA+PSAwIHx8IHVzZXJBZ2VudC5pbmRleE9mKCAnaVBhZCcgKSA+PSAwIHx8IHVzZXJBZ2VudC5pbmRleE9mKCAnQW5kcm9pZCcgKSA+PSAwIHx8IG5hdmlnYXRvci5wbGF0Zm9ybSA9PSBcImlQYWRcIiB8fCAoIG5hdmlnYXRvci5wbGF0Zm9ybSA9PSBcIk1hY0ludGVsXCIgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCBcIlNhZmFyaVwiICkgIT0gLSAxICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZiggXCJDaHJvbWVcIiApID09IC0gMSAmJiAoIG5hdmlnYXRvciBhcyBhbnkgKS5zdGFuZGFsb25lICE9PSB1bmRlZmluZWQgKTtcblxuXHRcdHRoaXMucG9zaXRpb24uc2V0KCBOYU4sIE5hTiApO1xuXHRcdHRoaXMuaXNUb3VjaGluZyA9IGZhbHNlO1xuXG5cdH1cblxuXHRwdWJsaWMgcmVnaXN0ZXJFbGVtZW50KCBlbG06IEhUTUxFbGVtZW50ICkge1xuXG5cdFx0Y29uc3Qgb25Ub3VjaFN0YXJ0ID0gdGhpcy5vblRvdWNoLmJpbmQoIHRoaXMsIFwic3RhcnRcIiApO1xuXHRcdGNvbnN0IG9uVG91Y2hNb3ZlID0gdGhpcy5vblRvdWNoLmJpbmQoIHRoaXMsIFwibW92ZVwiICk7XG5cdFx0Y29uc3Qgb25Ub3VjbUVuZCA9IHRoaXMub25Ub3VjaC5iaW5kKCB0aGlzLCBcImVuZFwiICk7XG5cdFx0Y29uc3Qgb25Qb2ludGVyRG93biA9IHRoaXMub25Qb2ludGVyLmJpbmQoIHRoaXMsIFwic3RhcnRcIiApO1xuXHRcdGNvbnN0IG9uUG9pbnRlck1vdmUgPSB0aGlzLm9uUG9pbnRlci5iaW5kKCB0aGlzLCBcIm1vdmVcIiApO1xuXHRcdGNvbnN0IG9uUG9pbnRlclVwID0gdGhpcy5vblBvaW50ZXIuYmluZCggdGhpcywgXCJlbmRcIiApO1xuXHRcdGNvbnN0IG9uV2hlZWwgPSB0aGlzLndoZWVsLmJpbmQoIHRoaXMgKTtcblxuXHRcdGVsbS5hZGRFdmVudExpc3RlbmVyKCAndG91Y2hzdGFydCcsIG9uVG91Y2hTdGFydCwgeyBwYXNzaXZlOiBmYWxzZSB9ICk7XG5cdFx0ZWxtLmFkZEV2ZW50TGlzdGVuZXIoICd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSwgeyBwYXNzaXZlOiBmYWxzZSB9ICk7XG5cdFx0ZWxtLmFkZEV2ZW50TGlzdGVuZXIoICd0b3VjaGVuZCcsIG9uVG91Y21FbmQsIHsgcGFzc2l2ZTogZmFsc2UgfSApO1xuXHRcdGVsbS5hZGRFdmVudExpc3RlbmVyKCAncG9pbnRlcmRvd24nLCBvblBvaW50ZXJEb3duICk7XG5cdFx0ZWxtLmFkZEV2ZW50TGlzdGVuZXIoICdwb2ludGVybW92ZScsIG9uUG9pbnRlck1vdmUgKTtcblx0XHRlbG0uYWRkRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJ1cCcsIG9uUG9pbnRlclVwICk7XG5cdFx0ZWxtLmFkZEV2ZW50TGlzdGVuZXIoIFwiZHJhZ2VuZFwiLCBvblBvaW50ZXJVcCApO1xuXHRcdGVsbS5hZGRFdmVudExpc3RlbmVyKCBcIndoZWVsXCIsIG9uV2hlZWwsIHsgcGFzc2l2ZTogZmFsc2UgfSApO1xuXG5cdFx0Y29uc3Qgb25VblJlZ2lzdGVyID0gKCBlOiBhbnkgKSA9PiB7XG5cblx0XHRcdGlmICggZWxtLmlzRXF1YWxOb2RlKCBlLmVsbSApICkge1xuXG5cdFx0XHRcdGVsbS5yZW1vdmVFdmVudExpc3RlbmVyKCAndG91Y2hzdGFydCcsIG9uVG91Y2hTdGFydCApO1xuXHRcdFx0XHRlbG0ucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlICk7XG5cdFx0XHRcdGVsbS5yZW1vdmVFdmVudExpc3RlbmVyKCAndG91Y2hlbmQnLCBvblRvdWNtRW5kICk7XG5cdFx0XHRcdGVsbS5yZW1vdmVFdmVudExpc3RlbmVyKCAncG9pbnRlcmRvd24nLCBvblBvaW50ZXJEb3duICk7XG5cdFx0XHRcdGVsbS5yZW1vdmVFdmVudExpc3RlbmVyKCAncG9pbnRlcm1vdmUnLCBvblBvaW50ZXJNb3ZlICk7XG5cdFx0XHRcdGVsbS5yZW1vdmVFdmVudExpc3RlbmVyKCAncG9pbnRlcnVwJywgb25Qb2ludGVyVXAgKTtcblx0XHRcdFx0ZWxtLnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwiZHJhZ2VuZFwiLCBvblBvaW50ZXJVcCApO1xuXHRcdFx0XHRlbG0ucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJ3aGVlbFwiLCBvbldoZWVsICk7XG5cblx0XHRcdFx0dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCAndW5yZWdpc3RlcicsIG9uVW5SZWdpc3RlciApO1xuXG5cdFx0XHR9XG5cblx0XHR9O1xuXG5cdFx0dGhpcy5hZGRFdmVudExpc3RlbmVyKCAndW5yZWdpc3RlcicsIG9uVW5SZWdpc3RlciApO1xuXG5cdH1cblxuXHRwdWJsaWMgdW5yZWdpc3RlckVsZW1lbnQoIGVsbTogSFRNTEVsZW1lbnQgKSB7XG5cblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoIHtcblx0XHRcdHR5cGU6ICd1bnJlZ2lzdGVyJyxcblx0XHRcdGVsbTogZWxtLFxuXHRcdH0gKTtcblxuXHR9XG5cblx0cHVibGljIGdldE5vcm1hbGl6ZVBvc2l0aW9uKCB3aW5kb3dTaXplOiBUSFJFRS5WZWN0b3IyICkge1xuXG5cdFx0aWYgKCB0aGlzLnBvc2l0aW9uLnggIT0gdGhpcy5wb3NpdGlvbi54ICkgcmV0dXJuIG5ldyBUSFJFRS5WZWN0b3IyKCBOYU4sIE5hTiApO1xuXG5cdFx0Y29uc3QgcCA9IHRoaXMucG9zaXRpb24uY2xvbmUoKVxuXHRcdFx0LmRpdmlkZSggd2luZG93U2l6ZSApXG5cdFx0XHQubXVsdGlwbHlTY2FsYXIoIDIuMCApXG5cdFx0XHQuc3ViU2NhbGFyKCAxLjAgKTtcblx0XHRwLnkgKj0gLSAxO1xuXG5cdFx0cmV0dXJuIHA7XG5cblx0fVxuXG5cdHB1YmxpYyBnZXRSZWxhdGl2ZVBvc2l0aW9uKCBlbG06IEhUTUxFbGVtZW50LCBub3JtYWxpemU/OiBib29sZWFuICkge1xuXG5cdFx0Y29uc3QgcmVjdDogRE9NUmVjdCA9IGVsbS5nZXRDbGllbnRSZWN0cygpWyAwIF0gYXMgRE9NUmVjdDtcblxuXHRcdGxldCB4ID0gdGhpcy5wb3NpdGlvbi54IC0gcmVjdC5sZWZ0O1xuXHRcdGxldCB5ID0gdGhpcy5wb3NpdGlvbi55IC0gcmVjdC50b3A7XG5cblx0XHRpZiAoIG5vcm1hbGl6ZSApIHtcblxuXHRcdFx0eCAvPSByZWN0LndpZHRoO1xuXHRcdFx0eSAvPSByZWN0LmhlaWdodDtcblxuXHRcdH1cblxuXHRcdGNvbnN0IHAgPSBuZXcgVEhSRUUuVmVjdG9yMiggeCwgeSApO1xuXG5cdFx0cmV0dXJuIHA7XG5cblx0fVxuXG5cdHByb3RlY3RlZCBzZXRQb3MoIHg6IG51bWJlciwgeTogbnVtYmVyICkge1xuXG5cdFx0aWYgKFxuXHRcdFx0dGhpcy5wb3NpdGlvbi54ICE9PSB0aGlzLnBvc2l0aW9uLnggfHxcblx0XHRcdHRoaXMucG9zaXRpb24ueSAhPT0gdGhpcy5wb3NpdGlvbi55XG5cdFx0KSB7XG5cblx0XHRcdHRoaXMuZGVsdGEuc2V0KCAwLCAwICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHR0aGlzLmRlbHRhLnNldCggeCAtIHRoaXMucG9zaXRpb24ueCwgeSAtIHRoaXMucG9zaXRpb24ueSApO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5wb3NpdGlvbi5zZXQoIHgsIHkgKTtcblxuXHR9XG5cblx0cHJvdGVjdGVkIG9uVG91Y2goIHR5cGU6IHN0cmluZywgZTogVG91Y2hFdmVudCApIHtcblxuXHRcdGNvbnN0IHRvdWNoID0gZS50b3VjaGVzWyAwIF07XG5cblx0XHRpZiAoIHRvdWNoICkge1xuXG5cdFx0XHR0aGlzLnRvdWNoRXZlbnRIYW5kbGVyKCB0b3VjaC5wYWdlWCwgdG91Y2gucGFnZVksIHR5cGUsIGUgKTtcblxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdGlmICggdHlwZSA9PSAnZW5kJyApIHtcblxuXHRcdFx0XHR0aGlzLnRvdWNoRXZlbnRIYW5kbGVyKCBOYU4sIE5hTiwgdHlwZSwgZSApO1xuXG5cdFx0XHR9XG5cblx0XHR9XG5cblx0fVxuXG5cdHByb3RlY3RlZCBvblBvaW50ZXIoIHR5cGU6IHN0cmluZywgZTogUG9pbnRlckV2ZW50IHwgRHJhZ0V2ZW50ICkge1xuXG5cdFx0Y29uc3QgcG9pbnRlclR5cGUgPSAoIGUgYXMgUG9pbnRlckV2ZW50ICkucG9pbnRlclR5cGU7XG5cblx0XHRpZiAoIHBvaW50ZXJUeXBlICE9IG51bGwgKSB7XG5cblx0XHRcdGlmICggcG9pbnRlclR5cGUgPT0gJ21vdXNlJyAmJiAoIGUuYnV0dG9uID09IC0gMSB8fCBlLmJ1dHRvbiA9PSAwICkgKSB7XG5cblx0XHRcdFx0dGhpcy50b3VjaEV2ZW50SGFuZGxlciggZS5wYWdlWCwgZS5wYWdlWSwgdHlwZSwgZSBhcyBQb2ludGVyRXZlbnQgKTtcblxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0dGhpcy50b3VjaEV2ZW50SGFuZGxlciggZS5wYWdlWCwgZS5wYWdlWSwgdHlwZSwgZSApO1xuXG5cdFx0fVxuXG5cblxuXHR9XG5cblx0cHJvdGVjdGVkIHRvdWNoRXZlbnRIYW5kbGVyKCBwb3NYOiBudW1iZXIsIHBvc1k6IG51bWJlciwgdHlwZTogc3RyaW5nLCBlOiBUb3VjaEV2ZW50IHwgUG9pbnRlckV2ZW50IHwgRHJhZ0V2ZW50ICkge1xuXG5cdFx0bGV0IGRpc3BhdGNoID0gZmFsc2U7XG5cblx0XHRjb25zdCB4ID0gcG9zWCAtIHdpbmRvdy5wYWdlWE9mZnNldDtcblx0XHRjb25zdCB5ID0gcG9zWSAtIHdpbmRvdy5wYWdlWU9mZnNldDtcblxuXHRcdGlmICggdHlwZSA9PSBcInN0YXJ0XCIgKSB7XG5cblx0XHRcdHRoaXMuaXNUb3VjaGluZyA9IHRydWU7XG5cblx0XHRcdHRoaXMuc2V0UG9zKCB4LCB5ICk7XG5cblx0XHRcdHRoaXMuZGVsdGEuc2V0KCAwLCAwICk7XG5cblx0XHRcdGRpc3BhdGNoID0gdHJ1ZTtcblxuXHRcdH0gZWxzZSBpZiAoIHR5cGUgPT0gXCJtb3ZlXCIgKSB7XG5cblx0XHRcdHRoaXMuc2V0UG9zKCB4LCB5ICk7XG5cblx0XHRcdGlmICggdGhpcy5pc1RvdWNoaW5nICkge1xuXG5cdFx0XHRcdGRpc3BhdGNoID0gdHJ1ZTtcblxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIGlmICggdHlwZSA9PSBcImVuZFwiICkge1xuXG5cdFx0XHRpZiAoICd0YXJnZXRUb3VjaGVzJyBpbiBlICkge1xuXG5cdFx0XHRcdGlmICggZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA9PSAwICkge1xuXG5cdFx0XHRcdFx0dGhpcy5pc1RvdWNoaW5nID0gZmFsc2U7XG5cblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdHRoaXMuaXNUb3VjaGluZyA9IGZhbHNlO1xuXG5cdFx0XHR9XG5cblx0XHRcdGRpc3BhdGNoID0gdHJ1ZTtcblxuXHRcdH1cblxuXHRcdGlmICggZGlzcGF0Y2ggKSB7XG5cblx0XHRcdHRoaXMuZGlzcGF0Y2hFdmVudCgge1xuXHRcdFx0XHR0eXBlOiAndXBkYXRlJyxcblx0XHRcdFx0cG9pbnRlckV2ZW50OiBlLFxuXHRcdFx0XHRwb2ludGVyRXZlbnRUeXBlOiB0eXBlLFxuXHRcdFx0XHRwb3NpdGlvbjogdGhpcy5wb3NpdGlvbi5jbG9uZSgpLFxuXHRcdFx0XHRkZWx0YTogdGhpcy5kZWx0YS5jbG9uZSgpXG5cdFx0XHR9ICk7XG5cblx0XHR9XG5cblx0fVxuXG5cdHB1YmxpYyB1cGRhdGUoKSB7XG5cblx0XHRpZiAoICEgdGhpcy5pc1NQICkge1xuXG5cdFx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoIHtcblx0XHRcdFx0dHlwZTogJ3VwZGF0ZScsXG5cdFx0XHRcdHBvaW50ZXJFdmVudDogbnVsbCxcblx0XHRcdFx0cG9pbnRlckV2ZW50VHlwZTogJ2hvdmVyJyxcblx0XHRcdFx0cG9zaXRpb246IHRoaXMucG9zaXRpb24uY2xvbmUoKSxcblx0XHRcdFx0ZGVsdGE6IHRoaXMuZGVsdGEuY2xvbmUoKVxuXHRcdFx0fSApO1xuXG5cdFx0fVxuXG5cdH1cblxuXHRwcm90ZWN0ZWQgdHJhY2twYWRNZW1EZWx0YSA9IDA7XG5cdHByb3RlY3RlZCB0cmFja3BhZE1heCA9IGZhbHNlO1xuXG5cdHByb3RlY3RlZCBsZXRoYXJneSA9IG5ldyBMZXRoYXJneSggNywgMCwgMC4wNSApO1xuXG5cdHByb3RlY3RlZCB3aGVlbCggZTogV2hlZWxFdmVudCApIHtcblxuXHRcdGxldCBkZWx0YSA9IGUuZGVsdGFZO1xuXHRcdGxldCB0cmFja3BhZERlbHRhID0gMDtcblxuXHRcdHN3aXRjaCAoIGUuZGVsdGFNb2RlICkge1xuXG5cdFx0XHRjYXNlIGUuRE9NX0RFTFRBX0xJTkU6XG5cdFx0XHRcdGRlbHRhICo9IHRvUHgoICdleCcsIHdpbmRvdyApICogMi41O1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBlLkRPTV9ERUxUQV9QQUdFOlxuXHRcdFx0XHRkZWx0YSAqPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLmxldGhhcmd5LmNoZWNrKCBlICkgKSB7XG5cblx0XHRcdHRyYWNrcGFkRGVsdGEgPSBkZWx0YTtcblxuXHRcdH1cblxuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudCgge1xuXHRcdFx0dHlwZTogJ3doZWVsJyxcblx0XHRcdHdoZWVsRXZlbnQ6IGUsXG5cdFx0XHR0cmFja3BhZERlbHRhOiB0cmFja3BhZERlbHRhXG5cdFx0fSApO1xuXG5cdH1cblxufVxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuXG5pbXBvcnQgcGFzc1Rocm93VmVydCBmcm9tICcuL3NoYWRlcnMvcGFzc1Rocm93LnZzJztcblxudHlwZSBJbnB1dFJlbmRlclRhcmdldCA9IHsgW2tleTpzdHJpbmddOiBUSFJFRS5UZXh0dXJlIHwgVEhSRUUuVGV4dHVyZVtdIH07XG5cbmV4cG9ydCBpbnRlcmZhY2UgUFBQYXJhbSBleHRlbmRzIFRIUkVFLlNoYWRlck1hdGVyaWFsUGFyYW1ldGVyc3tcblx0aW5wdXRSZW5kZXJUYXJnZXRzPzogc3RyaW5nXG59XG5cbmV4cG9ydCBjbGFzcyBQb3N0UHJvY2Vzc2luZyB7XG5cblx0cHJpdmF0ZSByZW5kZXJlcjogVEhSRUUuV2ViR0xSZW5kZXJlcjtcblx0cHJpdmF0ZSBzY2VuZTogVEhSRUUuU2NlbmU7XG5cdHByaXZhdGUgY2FtZXJhOiBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmE7XG5cdHByaXZhdGUgc2NyZWVuOiBUSFJFRS5NZXNoO1xuXG5cdHB1YmxpYyBlZmZlY3Q6IHtcblx0XHRtYXRlcmlhbDogVEhSRUUuU2hhZGVyTWF0ZXJpYWwsXG5cdH07XG5cblx0Y29uc3RydWN0b3IoIHJlbmRlcmVyOiBUSFJFRS5XZWJHTFJlbmRlcmVyLCBwcFBhcmFtOiBQUFBhcmFtLCBjdXN0b21HZW9tZXRyeT86IFRIUkVFLkJ1ZmZlckdlb21ldHJ5ICkge1xuXG5cdFx0dGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXHRcdHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcblx0XHR0aGlzLmNhbWVyYSA9IG5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoIC0gMS4wLCAxLjAsIDEuMCwgLSAxLjAgKTtcblxuXHRcdHRoaXMuc2NyZWVuID0gbmV3IFRIUkVFLk1lc2goIGN1c3RvbUdlb21ldHJ5IHx8IG5ldyBUSFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5KCAyLCAyICkgKTtcblx0XHR0aGlzLnNjZW5lLmFkZCggdGhpcy5zY3JlZW4gKTtcblxuXHRcdHBwUGFyYW0udmVydGV4U2hhZGVyID0gcHBQYXJhbS52ZXJ0ZXhTaGFkZXIgfHwgcGFzc1Rocm93VmVydDtcblx0XHRwcFBhcmFtLnVuaWZvcm1zID0gcHBQYXJhbS51bmlmb3JtcyB8fCB7fTtcblx0XHRwcFBhcmFtLnVuaWZvcm1zLnJlc29sdXRpb24gPSB7XG5cdFx0XHR2YWx1ZTogbmV3IFRIUkVFLlZlY3RvcjIoKVxuXHRcdH07XG5cblx0XHR0aGlzLmVmZmVjdCA9IHtcblx0XHRcdG1hdGVyaWFsOiBuZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoIHBwUGFyYW0gKSxcblx0XHR9O1xuXG5cdH1cblxuXHRwdWJsaWMgcmVuZGVyKCBpbnB1dFJlbmRlclRhcmdldHM6IElucHV0UmVuZGVyVGFyZ2V0IHwgbnVsbCwgcmVuZGVyVGFyZ2V0OiBUSFJFRS5XZWJHTFJlbmRlclRhcmdldCB8IG51bGwgPSBudWxsICkge1xuXG5cdFx0bGV0IHJlbmRlclRhcmdldE1lbSA9IHRoaXMucmVuZGVyZXIuZ2V0UmVuZGVyVGFyZ2V0KCk7XG5cblx0XHRsZXQgZWZmZWN0ID0gdGhpcy5lZmZlY3Q7XG5cdFx0bGV0IG1hdGVyaWFsID0gZWZmZWN0Lm1hdGVyaWFsO1xuXHRcdGxldCB1bmlmb3JtcyA9IG1hdGVyaWFsLnVuaWZvcm1zO1xuXG5cdFx0aWYgKCBpbnB1dFJlbmRlclRhcmdldHMgKSB7XG5cblx0XHRcdGxldCBrZXlzID0gT2JqZWN0LmtleXMoIGlucHV0UmVuZGVyVGFyZ2V0cyApO1xuXG5cdFx0XHRmb3IgKCBsZXQgaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgaiArKyApIHtcblxuXHRcdFx0XHRpZiAoIHVuaWZvcm1zWyBrZXlzWyBqIF0gXSApIHtcblxuXHRcdFx0XHRcdHVuaWZvcm1zWyBrZXlzWyBqIF0gXS52YWx1ZSA9IGlucHV0UmVuZGVyVGFyZ2V0c1sga2V5c1sgaiBdIF07XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdHVuaWZvcm1zWyBrZXlzWyBqIF0gXSA9IHsgdmFsdWU6IGlucHV0UmVuZGVyVGFyZ2V0c1sga2V5c1sgaiBdIF0gfTtcblxuXHRcdFx0XHRcdGVmZmVjdC5tYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cblx0XHRcdFx0XHRlZmZlY3QubWF0ZXJpYWwudW5pZm9ybXMgPSB1bmlmb3JtcztcblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGlmICggcmVuZGVyVGFyZ2V0ICkge1xuXG5cdFx0XHR1bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlLnNldCggcmVuZGVyVGFyZ2V0LndpZHRoLCByZW5kZXJUYXJnZXQuaGVpZ2h0ICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHR0aGlzLnJlbmRlcmVyLmdldFNpemUoIHVuaWZvcm1zLnJlc29sdXRpb24udmFsdWUgKTtcblxuXHRcdH1cblxuXHRcdHRoaXMuc2NyZWVuLm1hdGVyaWFsID0gbWF0ZXJpYWw7XG5cblx0XHR0aGlzLnJlbmRlcmVyLnNldFJlbmRlclRhcmdldCggcmVuZGVyVGFyZ2V0ICk7XG5cblx0XHR0aGlzLnJlbmRlcmVyLnJlbmRlciggdGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEgKTtcblxuXHRcdHRoaXMucmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KCByZW5kZXJUYXJnZXRNZW0gKTtcblxuXHR9XG5cbn1cbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuaW1wb3J0IHsgRWFzaW5nRnVuYyB9IGZyb20gJy4vRWFzaW5ncyc7XHJcbmltcG9ydCB7IExlcnBzLCBMZXJwRnVuYyB9IGZyb20gJy4vTGVycHMnO1xyXG5cclxuZXhwb3J0IGRlY2xhcmUgaW50ZXJmYWNlIFRpbWVsaW5lQW5pbWF0b3JLZXlGcmFtZTxUPiB7XHJcblx0dGltZTogbnVtYmVyO1xyXG5cdHZhbHVlOiBUO1xyXG5cdGVhc2luZz86IEVhc2luZ0Z1bmM7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWNsYXJlIGludGVyZmFjZSBUaW1lbGluZUFuaW1hdG9yVmFyaWFibGU8VD4ge1xyXG5cdGtleWZyYW1lczogVGltZWxpbmVBbmltYXRvcktleUZyYW1lPFQ+W107XHJcblx0bGVycEZ1bmM/OiBMZXJwRnVuYzxUPjtcclxuXHR2YWx1ZTogVDtcclxuXHRlYXNpbmc/OiBFYXNpbmdGdW5jO1xyXG59XHJcblxyXG5leHBvcnQgZGVjbGFyZSBpbnRlcmZhY2UgVGltZWxpbmVBbmltYXRvckFkZFBhcmFtczxUPiB7XHJcblx0bmFtZTogc3RyaW5nO1xyXG5cdGtleWZyYW1lczogVGltZWxpbmVBbmltYXRvcktleUZyYW1lPFQ+W107XHJcblx0Y3VzdG9tTGVycD86IExlcnBGdW5jPFQ+LFxyXG5cdGVhc2luZz86IEVhc2luZ0Z1bmM7XHJcbn1cclxuZXhwb3J0IGNsYXNzIFRpbWVsaW5lQW5pbWF0b3Ige1xyXG5cclxuXHRwcm90ZWN0ZWQgdmFyaWFibGVzOiB7IFtuYW1lOiBzdHJpbmddOiBUaW1lbGluZUFuaW1hdG9yVmFyaWFibGU8YW55PiB9ID0ge307XHJcblx0cHJvdGVjdGVkIHRpbWU6IG51bWJlcjtcclxuXHRwdWJsaWMgZGVmYXVsdEVhc2luZz86IEVhc2luZ0Z1bmM7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCApIHtcclxuXHJcblx0XHR0aGlzLnRpbWUgPSAwO1xyXG5cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhZGQ8VD4oIHBhcmFtczogVGltZWxpbmVBbmltYXRvckFkZFBhcmFtczxUPiApIHtcclxuXHJcblx0XHRpZiAoIHBhcmFtcy5rZXlmcmFtZXMubGVuZ3RoID09IDAgKSB7XHJcblxyXG5cdFx0XHRjb25zb2xlLndhcm4oICdcIicgKyBwYXJhbXMubmFtZSArICdcIicsICdLZXlmcmFtZSBsZW5ndGggaXMgMCEhJyApO1xyXG5cclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnZhcmlhYmxlc1sgcGFyYW1zLm5hbWUgXSA9IHtcclxuXHRcdFx0a2V5ZnJhbWVzOiBwYXJhbXMua2V5ZnJhbWVzLFxyXG5cdFx0XHRsZXJwRnVuYzogcGFyYW1zLmN1c3RvbUxlcnAsXHJcblx0XHRcdGVhc2luZzogcGFyYW1zLmVhc2luZyxcclxuXHRcdFx0dmFsdWU6IG51bGxcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy52YXJpYWJsZXNbIHBhcmFtcy5uYW1lIF0ua2V5ZnJhbWVzLnNvcnQoICggYSwgYiApID0+IHtcclxuXHJcblx0XHRcdHJldHVybiAoIGEudGltZSA8IGIudGltZSApID8gLSAxIDogMTtcclxuXHJcblx0XHR9ICk7XHJcblxyXG5cdFx0aWYgKCAhIHRoaXMudmFyaWFibGVzWyBwYXJhbXMubmFtZSBdLmxlcnBGdW5jICkge1xyXG5cclxuXHRcdFx0dGhpcy52YXJpYWJsZXNbIHBhcmFtcy5uYW1lIF0ubGVycEZ1bmMgPSBMZXJwcy5nZXRMZXJwRnVuYyggcGFyYW1zLmtleWZyYW1lc1sgMCBdLnZhbHVlICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuY2FsYygpO1xyXG5cclxuXHRcdHJldHVybiBwYXJhbXMubmFtZTtcclxuXHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0PFQ+KCBuYW1lOiBzdHJpbmcgKTogVCB8IG51bGwge1xyXG5cclxuXHRcdGlmICggdGhpcy52YXJpYWJsZXNbIG5hbWUgXSApIHtcclxuXHJcblx0XHRcdHJldHVybiB0aGlzLnZhcmlhYmxlc1sgbmFtZSBdLnZhbHVlO1xyXG5cclxuXHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRjb25zb2xlLndhcm4oICdcIicgKyBuYW1lICsgJ1wiJyArICcgaXMgbm90IGV4aXN0JyApO1xyXG5cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRWYXJpYWJsZU9iamVjdDxUPiggbmFtZTogc3RyaW5nICk6IFRpbWVsaW5lQW5pbWF0b3JWYXJpYWJsZTxUPiB8IG51bGwge1xyXG5cclxuXHRcdGlmICggdGhpcy52YXJpYWJsZXNbIG5hbWUgXSApIHtcclxuXHJcblx0XHRcdHJldHVybiB0aGlzLnZhcmlhYmxlc1sgbmFtZSBdO1xyXG5cclxuXHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRjb25zb2xlLndhcm4oICdcIicgKyBuYW1lICsgJ1wiJyArICcgaXMgbm90IGV4aXN0JyApO1xyXG5cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG5cdHB1YmxpYyB1cGRhdGUoIHRpbWU6IG51bWJlciApIHtcclxuXHJcblx0XHR0aGlzLnRpbWUgPSB0aW1lO1xyXG5cclxuXHRcdHRoaXMuY2FsYygpO1xyXG5cclxuXHR9XHJcblxyXG5cdHByb3RlY3RlZCBjYWxjKCkge1xyXG5cclxuXHRcdGxldCBrZXlzID0gT2JqZWN0LmtleXMoIHRoaXMudmFyaWFibGVzICk7XHJcblxyXG5cdFx0Zm9yICggbGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkgKysgKSB7XHJcblxyXG5cdFx0XHRsZXQgdmFsaWFibGUgPSB0aGlzLnZhcmlhYmxlc1sga2V5c1sgaSBdIF07XHJcblx0XHRcdGxldCBrZnMgPSB2YWxpYWJsZS5rZXlmcmFtZXM7XHJcblxyXG5cdFx0XHRsZXQgYTogVGltZWxpbmVBbmltYXRvcktleUZyYW1lPGFueT4gfCBudWxsID0gbnVsbDtcclxuXHRcdFx0bGV0IGI6IFRpbWVsaW5lQW5pbWF0b3JLZXlGcmFtZTxhbnk+IHwgbnVsbCA9IG51bGw7XHJcblxyXG5cdFx0XHRsZXQgdCA9IE1hdGgubWF4KCBrZnNbIDAgXS50aW1lLCBNYXRoLm1pbigga2ZzWyBrZnMubGVuZ3RoIC0gMSBdLnRpbWUsIHRoaXMudGltZSApICk7XHJcblxyXG5cdFx0XHRsZXQgZWFzaW5nOiBFYXNpbmdGdW5jIHwgbnVsbCB8IHVuZGVmaW5lZCA9IG51bGw7XHJcblxyXG5cdFx0XHRpZiAoIGtmcy5sZW5ndGggPT0gMSApIHtcclxuXHJcblx0XHRcdFx0dCA9IGtmc1sgMCBdLnRpbWU7XHJcblx0XHRcdFx0YSA9IGIgPSBrZnNbIDAgXTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cclxuXHRcdFx0XHRmb3IgKCBsZXQgaiA9IDA7IGogPCBrZnMubGVuZ3RoIC0gMTsgaiArKyApIHtcclxuXHJcblx0XHRcdFx0XHRhID0ga2ZzWyBqIF07XHJcblx0XHRcdFx0XHRiID0ga2ZzWyBqICsgMSBdO1xyXG5cclxuXHRcdFx0XHRcdGVhc2luZyA9IGEuZWFzaW5nO1xyXG5cclxuXHRcdFx0XHRcdGlmICggYS50aW1lIDw9IHQgJiYgdCA8PSBiLnRpbWUgKSBicmVhaztcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoIGEgIT0gbnVsbCAmJiBiICE9IG51bGwgKSB7XHJcblxyXG5cdFx0XHRcdFx0dCA9ICggdCAtIGEudGltZSApIC8gKCBiLnRpbWUgLSBhLnRpbWUgKTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBlYXNpbmcgKSB7XHJcblxyXG5cdFx0XHRcdHQgPSBlYXNpbmcoIHQgKTtcclxuXHJcblx0XHRcdH0gZWxzZSBpZiAoIHZhbGlhYmxlLmVhc2luZyApIHtcclxuXHJcblx0XHRcdFx0dCA9IHZhbGlhYmxlLmVhc2luZyggdCApO1xyXG5cclxuXHRcdFx0fSBlbHNlIGlmICggdGhpcy5kZWZhdWx0RWFzaW5nICkge1xyXG5cclxuXHRcdFx0XHR0ID0gdGhpcy5kZWZhdWx0RWFzaW5nKCB0ICk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIHZhbGlhYmxlLmxlcnBGdW5jICkge1xyXG5cclxuXHRcdFx0XHRpZiAoIGEgIT0gbnVsbCAmJiBiICE9IG51bGwgKSB7XHJcblxyXG5cdFx0XHRcdFx0dmFsaWFibGUudmFsdWUgPSB2YWxpYWJsZS5sZXJwRnVuYyggYS52YWx1ZSwgYi52YWx1ZSwgdCApO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0XHRpZiAoIHZhbGlhYmxlLnZhbHVlID09PSBmYWxzZSApIHtcclxuXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyggJ2Vycm9yIGF0ICcgKyAnXCInICsga2V5c1sgaSBdICsgJ1wiJyApO1xyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRjb25zb2xlLndhcm4oICdcIicgKyBrZXlzWyBpIF0gKyAnXCInLCAnbGVycCBmdW5jdGlvbiBpcyBub3Qgc2V0LicgKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG59XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVW5pZm9ybXN7IFsga2V5OiBzdHJpbmcgXSA6IFRIUkVFLklVbmlmb3JtIH1cclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgVW5pZm9ybXNMaWIge1xyXG5cclxuXHRleHBvcnQgZnVuY3Rpb24gbWVyZ2VVbmlmb3JtcyggLi4udW5pZm9ybXM6ICggVW5pZm9ybXN8dW5kZWZpbmVkIClbXSApIDogVW5pZm9ybXMge1xyXG5cclxuXHRcdGxldCByZXMgPSB7fTtcclxuXHJcblx0XHRmb3IgKCBsZXQgaSA9IDA7IGkgPCB1bmlmb3Jtcy5sZW5ndGg7IGkgKysgKSB7XHJcblxyXG5cdFx0XHRpZiAoIHVuaWZvcm1zWyBpIF0gIT0gdW5kZWZpbmVkICkge1xyXG5cclxuXHRcdFx0XHRPYmplY3QuYXNzaWduKCByZXMsIHVuaWZvcm1zWyBpIF0gKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlcztcclxuXHJcblx0fVxyXG5cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XHJcblxyXG5leHBvcnQgY2xhc3MgV2FpdE1hbiBleHRlbmRzIFRIUkVFLkV2ZW50RGlzcGF0Y2hlciB7XHJcblxyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cclxuXHRcdHN1cGVyKCk7XHJcblxyXG5cdH1cclxuXHJcblx0cHVibGljIGdvSG9tZSgpIHtcclxuXHJcblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoIHsgdHlwZTogJ2dvaG9tZScgfSApO1xyXG5cclxuXHR9XHJcblxyXG5cdHB1YmxpYyB3YWl0KCB0aW1lOiBudW1iZXIgKSB7XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KCAoIHJlc29sdmUsIHJlamVjdCApID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IG9uR29Ib21lID0gKCkgPT4ge1xyXG5cclxuXHRcdFx0XHRyZWplY3QoKTtcclxuXHJcblx0XHRcdFx0dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCAnZ29ob21lJywgb25Hb0hvbWUgKTtcclxuXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHR0aGlzLmFkZEV2ZW50TGlzdGVuZXIoICdnb2hvbWUnLCBvbkdvSG9tZSApO1xyXG5cclxuXHRcdFx0c2V0VGltZW91dCggKCkgPT4ge1xyXG5cclxuXHRcdFx0XHR0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdnb2hvbWUnLCBvbkdvSG9tZSApO1xyXG5cclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblxyXG5cdFx0XHR9LCB0aW1lICogMTAwMC4wICk7XHJcblxyXG5cdFx0fSApO1xyXG5cclxuXHR9XHJcblxyXG59XHJcbiIsIi8qIVxuICogRXZlbnRFbWl0dGVyIHY1LjIuOSAtIGdpdC5pby9lZVxuICogVW5saWNlbnNlIC0gaHR0cDovL3VubGljZW5zZS5vcmcvXG4gKiBPbGl2ZXIgQ2FsZHdlbGwgLSBodHRwczovL29saS5tZS51ay9cbiAqIEBwcmVzZXJ2ZVxuICovXG5cbjsoZnVuY3Rpb24gKGV4cG9ydHMpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBDbGFzcyBmb3IgbWFuYWdpbmcgZXZlbnRzLlxuICAgICAqIENhbiBiZSBleHRlbmRlZCB0byBwcm92aWRlIGV2ZW50IGZ1bmN0aW9uYWxpdHkgaW4gb3RoZXIgY2xhc3Nlcy5cbiAgICAgKlxuICAgICAqIEBjbGFzcyBFdmVudEVtaXR0ZXIgTWFuYWdlcyBldmVudCByZWdpc3RlcmluZyBhbmQgZW1pdHRpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge31cblxuICAgIC8vIFNob3J0Y3V0cyB0byBpbXByb3ZlIHNwZWVkIGFuZCBzaXplXG4gICAgdmFyIHByb3RvID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZTtcbiAgICB2YXIgb3JpZ2luYWxHbG9iYWxWYWx1ZSA9IGV4cG9ydHMuRXZlbnRFbWl0dGVyO1xuXG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIGluZGV4IG9mIHRoZSBsaXN0ZW5lciBmb3IgdGhlIGV2ZW50IGluIGl0cyBzdG9yYWdlIGFycmF5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbltdfSBsaXN0ZW5lcnMgQXJyYXkgb2YgbGlzdGVuZXJzIHRvIHNlYXJjaCB0aHJvdWdoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byBsb29rIGZvci5cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEluZGV4IG9mIHRoZSBzcGVjaWZpZWQgbGlzdGVuZXIsIC0xIGlmIG5vdCBmb3VuZFxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluZGV4T2ZMaXN0ZW5lcihsaXN0ZW5lcnMsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBpID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyc1tpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBhIG1ldGhvZCB3aGlsZSBrZWVwaW5nIHRoZSBjb250ZXh0IGNvcnJlY3QsIHRvIGFsbG93IGZvciBvdmVyd3JpdGluZyBvZiB0YXJnZXQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHRhcmdldCBtZXRob2QuXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IFRoZSBhbGlhc2VkIG1ldGhvZFxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFsaWFzKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGFsaWFzQ2xvc3VyZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW25hbWVdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGlzdGVuZXIgYXJyYXkgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gICAgICogV2lsbCBpbml0aWFsaXNlIHRoZSBldmVudCBvYmplY3QgYW5kIGxpc3RlbmVyIGFycmF5cyBpZiByZXF1aXJlZC5cbiAgICAgKiBXaWxsIHJldHVybiBhbiBvYmplY3QgaWYgeW91IHVzZSBhIHJlZ2V4IHNlYXJjaC4gVGhlIG9iamVjdCBjb250YWlucyBrZXlzIGZvciBlYWNoIG1hdGNoZWQgZXZlbnQuIFNvIC9iYVtyel0vIG1pZ2h0IHJldHVybiBhbiBvYmplY3QgY29udGFpbmluZyBiYXIgYW5kIGJhei4gQnV0IG9ubHkgaWYgeW91IGhhdmUgZWl0aGVyIGRlZmluZWQgdGhlbSB3aXRoIGRlZmluZUV2ZW50IG9yIGFkZGVkIHNvbWUgbGlzdGVuZXJzIHRvIHRoZW0uXG4gICAgICogRWFjaCBwcm9wZXJ0eSBpbiB0aGUgb2JqZWN0IHJlc3BvbnNlIGlzIGFuIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIHJldHVybiB0aGUgbGlzdGVuZXJzIGZyb20uXG4gICAgICogQHJldHVybiB7RnVuY3Rpb25bXXxPYmplY3R9IEFsbCBsaXN0ZW5lciBmdW5jdGlvbnMgZm9yIHRoZSBldmVudC5cbiAgICAgKi9cbiAgICBwcm90by5nZXRMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRMaXN0ZW5lcnMoZXZ0KSB7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLl9nZXRFdmVudHMoKTtcbiAgICAgICAgdmFyIHJlc3BvbnNlO1xuICAgICAgICB2YXIga2V5O1xuXG4gICAgICAgIC8vIFJldHVybiBhIGNvbmNhdGVuYXRlZCBhcnJheSBvZiBhbGwgbWF0Y2hpbmcgZXZlbnRzIGlmXG4gICAgICAgIC8vIHRoZSBzZWxlY3RvciBpcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbiAgICAgICAgaWYgKGV2dCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAgICAgcmVzcG9uc2UgPSB7fTtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIGV2ZW50cykge1xuICAgICAgICAgICAgICAgIGlmIChldmVudHMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBldnQudGVzdChrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlW2tleV0gPSBldmVudHNba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXNwb25zZSA9IGV2ZW50c1tldnRdIHx8IChldmVudHNbZXZ0XSA9IFtdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGFrZXMgYSBsaXN0IG9mIGxpc3RlbmVyIG9iamVjdHMgYW5kIGZsYXR0ZW5zIGl0IGludG8gYSBsaXN0IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0W119IGxpc3RlbmVycyBSYXcgbGlzdGVuZXIgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbltdfSBKdXN0IHRoZSBsaXN0ZW5lciBmdW5jdGlvbnMuXG4gICAgICovXG4gICAgcHJvdG8uZmxhdHRlbkxpc3RlbmVycyA9IGZ1bmN0aW9uIGZsYXR0ZW5MaXN0ZW5lcnMobGlzdGVuZXJzKSB7XG4gICAgICAgIHZhciBmbGF0TGlzdGVuZXJzID0gW107XG4gICAgICAgIHZhciBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGZsYXRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcnNbaV0ubGlzdGVuZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZsYXRMaXN0ZW5lcnM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdGhlIHJlcXVlc3RlZCBsaXN0ZW5lcnMgdmlhIGdldExpc3RlbmVycyBidXQgd2lsbCBhbHdheXMgcmV0dXJuIHRoZSByZXN1bHRzIGluc2lkZSBhbiBvYmplY3QuIFRoaXMgaXMgbWFpbmx5IGZvciBpbnRlcm5hbCB1c2UgYnV0IG90aGVycyBtYXkgZmluZCBpdCB1c2VmdWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byByZXR1cm4gdGhlIGxpc3RlbmVycyBmcm9tLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQWxsIGxpc3RlbmVyIGZ1bmN0aW9ucyBmb3IgYW4gZXZlbnQgaW4gYW4gb2JqZWN0LlxuICAgICAqL1xuICAgIHByb3RvLmdldExpc3RlbmVyc0FzT2JqZWN0ID0gZnVuY3Rpb24gZ2V0TGlzdGVuZXJzQXNPYmplY3QoZXZ0KSB7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmdldExpc3RlbmVycyhldnQpO1xuICAgICAgICB2YXIgcmVzcG9uc2U7XG5cbiAgICAgICAgaWYgKGxpc3RlbmVycyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICByZXNwb25zZSA9IHt9O1xuICAgICAgICAgICAgcmVzcG9uc2VbZXZ0XSA9IGxpc3RlbmVycztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXNwb25zZSB8fCBsaXN0ZW5lcnM7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGlzVmFsaWRMaXN0ZW5lciAobGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJyB8fCBsaXN0ZW5lciBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lciAmJiB0eXBlb2YgbGlzdGVuZXIgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNWYWxpZExpc3RlbmVyKGxpc3RlbmVyLmxpc3RlbmVyKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgZnVuY3Rpb24gdG8gdGhlIHNwZWNpZmllZCBldmVudC5cbiAgICAgKiBUaGUgbGlzdGVuZXIgd2lsbCBub3QgYmUgYWRkZWQgaWYgaXQgaXMgYSBkdXBsaWNhdGUuXG4gICAgICogSWYgdGhlIGxpc3RlbmVyIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBhZnRlciBpdCBpcyBjYWxsZWQuXG4gICAgICogSWYgeW91IHBhc3MgYSByZWd1bGFyIGV4cHJlc3Npb24gYXMgdGhlIGV2ZW50IG5hbWUgdGhlbiB0aGUgbGlzdGVuZXIgd2lsbCBiZSBhZGRlZCB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byBhdHRhY2ggdGhlIGxpc3RlbmVyIHRvLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZC4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBhZnRlciBjYWxsaW5nLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoIWlzVmFsaWRMaXN0ZW5lcihsaXN0ZW5lcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoZXZ0KTtcbiAgICAgICAgdmFyIGxpc3RlbmVySXNXcmFwcGVkID0gdHlwZW9mIGxpc3RlbmVyID09PSAnb2JqZWN0JztcbiAgICAgICAgdmFyIGtleTtcblxuICAgICAgICBmb3IgKGtleSBpbiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBpbmRleE9mTGlzdGVuZXIobGlzdGVuZXJzW2tleV0sIGxpc3RlbmVyKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnNba2V5XS5wdXNoKGxpc3RlbmVySXNXcmFwcGVkID8gbGlzdGVuZXIgOiB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyOiBsaXN0ZW5lcixcbiAgICAgICAgICAgICAgICAgICAgb25jZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBvZiBhZGRMaXN0ZW5lclxuICAgICAqL1xuICAgIHByb3RvLm9uID0gYWxpYXMoJ2FkZExpc3RlbmVyJyk7XG5cbiAgICAvKipcbiAgICAgKiBTZW1pLWFsaWFzIG9mIGFkZExpc3RlbmVyLiBJdCB3aWxsIGFkZCBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZVxuICAgICAqIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZCBhZnRlciBpdHMgZmlyc3QgZXhlY3V0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gYXR0YWNoIHRoZSBsaXN0ZW5lciB0by5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBNZXRob2QgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWQuIElmIHRoZSBmdW5jdGlvbiByZXR1cm5zIHRydWUgdGhlbiBpdCB3aWxsIGJlIHJlbW92ZWQgYWZ0ZXIgY2FsbGluZy5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5hZGRPbmNlTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRPbmNlTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRMaXN0ZW5lcihldnQsIHtcbiAgICAgICAgICAgIGxpc3RlbmVyOiBsaXN0ZW5lcixcbiAgICAgICAgICAgIG9uY2U6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsaWFzIG9mIGFkZE9uY2VMaXN0ZW5lci5cbiAgICAgKi9cbiAgICBwcm90by5vbmNlID0gYWxpYXMoJ2FkZE9uY2VMaXN0ZW5lcicpO1xuXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyBhbiBldmVudCBuYW1lLiBUaGlzIGlzIHJlcXVpcmVkIGlmIHlvdSB3YW50IHRvIHVzZSBhIHJlZ2V4IHRvIGFkZCBhIGxpc3RlbmVyIHRvIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLiBJZiB5b3UgZG9uJ3QgZG8gdGhpcyB0aGVuIGhvdyBkbyB5b3UgZXhwZWN0IGl0IHRvIGtub3cgd2hhdCBldmVudCB0byBhZGQgdG8/IFNob3VsZCBpdCBqdXN0IGFkZCB0byBldmVyeSBwb3NzaWJsZSBtYXRjaCBmb3IgYSByZWdleD8gTm8uIFRoYXQgaXMgc2NhcnkgYW5kIGJhZC5cbiAgICAgKiBZb3UgbmVlZCB0byB0ZWxsIGl0IHdoYXQgZXZlbnQgbmFtZXMgc2hvdWxkIGJlIG1hdGNoZWQgYnkgYSByZWdleC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gY3JlYXRlLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLmRlZmluZUV2ZW50ID0gZnVuY3Rpb24gZGVmaW5lRXZlbnQoZXZ0KSB7XG4gICAgICAgIHRoaXMuZ2V0TGlzdGVuZXJzKGV2dCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VzIGRlZmluZUV2ZW50IHRvIGRlZmluZSBtdWx0aXBsZSBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBldnRzIEFuIGFycmF5IG9mIGV2ZW50IG5hbWVzIHRvIGRlZmluZS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5kZWZpbmVFdmVudHMgPSBmdW5jdGlvbiBkZWZpbmVFdmVudHMoZXZ0cykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2dHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZGVmaW5lRXZlbnQoZXZ0c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBsaXN0ZW5lciBmdW5jdGlvbiBmcm9tIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gICAgICogV2hlbiBwYXNzZWQgYSByZWd1bGFyIGV4cHJlc3Npb24gYXMgdGhlIGV2ZW50IG5hbWUsIGl0IHdpbGwgcmVtb3ZlIHRoZSBsaXN0ZW5lciBmcm9tIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIHJlbW92ZSB0aGUgbGlzdGVuZXIgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBNZXRob2QgdG8gcmVtb3ZlIGZyb20gdGhlIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChldnQpO1xuICAgICAgICB2YXIgaW5kZXg7XG4gICAgICAgIHZhciBrZXk7XG5cbiAgICAgICAgZm9yIChrZXkgaW4gbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGluZGV4T2ZMaXN0ZW5lcihsaXN0ZW5lcnNba2V5XSwgbGlzdGVuZXIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnNba2V5XS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBvZiByZW1vdmVMaXN0ZW5lclxuICAgICAqL1xuICAgIHByb3RvLm9mZiA9IGFsaWFzKCdyZW1vdmVMaXN0ZW5lcicpO1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBsaXN0ZW5lcnMgaW4gYnVsayB1c2luZyB0aGUgbWFuaXB1bGF0ZUxpc3RlbmVycyBtZXRob2QuXG4gICAgICogSWYgeW91IHBhc3MgYW4gb2JqZWN0IGFzIHRoZSBmaXJzdCBhcmd1bWVudCB5b3UgY2FuIGFkZCB0byBtdWx0aXBsZSBldmVudHMgYXQgb25jZS4gVGhlIG9iamVjdCBzaG91bGQgY29udGFpbiBrZXkgdmFsdWUgcGFpcnMgb2YgZXZlbnRzIGFuZCBsaXN0ZW5lcnMgb3IgbGlzdGVuZXIgYXJyYXlzLiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhbiBldmVudCBuYW1lIGFuZCBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgdG8gYmUgYWRkZWQuXG4gICAgICogWW91IGNhbiBhbHNvIHBhc3MgaXQgYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gYWRkIHRoZSBhcnJheSBvZiBsaXN0ZW5lcnMgdG8gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuICAgICAqIFllYWgsIHRoaXMgZnVuY3Rpb24gZG9lcyBxdWl0ZSBhIGJpdC4gVGhhdCdzIHByb2JhYmx5IGEgYmFkIHRoaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fFJlZ0V4cH0gZXZ0IEFuIGV2ZW50IG5hbWUgaWYgeW91IHdpbGwgcGFzcyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgbmV4dC4gQW4gb2JqZWN0IGlmIHlvdSB3aXNoIHRvIGFkZCB0byBtdWx0aXBsZSBldmVudHMgYXQgb25jZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW119IFtsaXN0ZW5lcnNdIEFuIG9wdGlvbmFsIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucyB0byBhZGQuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8uYWRkTGlzdGVuZXJzID0gZnVuY3Rpb24gYWRkTGlzdGVuZXJzKGV2dCwgbGlzdGVuZXJzKSB7XG4gICAgICAgIC8vIFBhc3MgdGhyb3VnaCB0byBtYW5pcHVsYXRlTGlzdGVuZXJzXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmlwdWxhdGVMaXN0ZW5lcnMoZmFsc2UsIGV2dCwgbGlzdGVuZXJzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsaXN0ZW5lcnMgaW4gYnVsayB1c2luZyB0aGUgbWFuaXB1bGF0ZUxpc3RlbmVycyBtZXRob2QuXG4gICAgICogSWYgeW91IHBhc3MgYW4gb2JqZWN0IGFzIHRoZSBmaXJzdCBhcmd1bWVudCB5b3UgY2FuIHJlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLiBUaGUgb2JqZWN0IHNob3VsZCBjb250YWluIGtleSB2YWx1ZSBwYWlycyBvZiBldmVudHMgYW5kIGxpc3RlbmVycyBvciBsaXN0ZW5lciBhcnJheXMuXG4gICAgICogWW91IGNhbiBhbHNvIHBhc3MgaXQgYW4gZXZlbnQgbmFtZSBhbmQgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIHRvIGJlIHJlbW92ZWQuXG4gICAgICogWW91IGNhbiBhbHNvIHBhc3MgaXQgYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgZnJvbSBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R8UmVnRXhwfSBldnQgQW4gZXZlbnQgbmFtZSBpZiB5b3Ugd2lsbCBwYXNzIGFuIGFycmF5IG9mIGxpc3RlbmVycyBuZXh0LiBBbiBvYmplY3QgaWYgeW91IHdpc2ggdG8gcmVtb3ZlIGZyb20gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbltdfSBbbGlzdGVuZXJzXSBBbiBvcHRpb25hbCBhcnJheSBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLnJlbW92ZUxpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVycyhldnQsIGxpc3RlbmVycykge1xuICAgICAgICAvLyBQYXNzIHRocm91Z2ggdG8gbWFuaXB1bGF0ZUxpc3RlbmVyc1xuICAgICAgICByZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKHRydWUsIGV2dCwgbGlzdGVuZXJzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRWRpdHMgbGlzdGVuZXJzIGluIGJ1bGsuIFRoZSBhZGRMaXN0ZW5lcnMgYW5kIHJlbW92ZUxpc3RlbmVycyBtZXRob2RzIGJvdGggdXNlIHRoaXMgdG8gZG8gdGhlaXIgam9iLiBZb3Ugc2hvdWxkIHJlYWxseSB1c2UgdGhvc2UgaW5zdGVhZCwgdGhpcyBpcyBhIGxpdHRsZSBsb3dlciBsZXZlbC5cbiAgICAgKiBUaGUgZmlyc3QgYXJndW1lbnQgd2lsbCBkZXRlcm1pbmUgaWYgdGhlIGxpc3RlbmVycyBhcmUgcmVtb3ZlZCAodHJ1ZSkgb3IgYWRkZWQgKGZhbHNlKS5cbiAgICAgKiBJZiB5b3UgcGFzcyBhbiBvYmplY3QgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB5b3UgY2FuIGFkZC9yZW1vdmUgZnJvbSBtdWx0aXBsZSBldmVudHMgYXQgb25jZS4gVGhlIG9iamVjdCBzaG91bGQgY29udGFpbiBrZXkgdmFsdWUgcGFpcnMgb2YgZXZlbnRzIGFuZCBsaXN0ZW5lcnMgb3IgbGlzdGVuZXIgYXJyYXlzLlxuICAgICAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGFuIGV2ZW50IG5hbWUgYW5kIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0byBiZSBhZGRlZC9yZW1vdmVkLlxuICAgICAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGEgcmVndWxhciBleHByZXNzaW9uIHRvIG1hbmlwdWxhdGUgdGhlIGxpc3RlbmVycyBvZiBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHJlbW92ZSBUcnVlIGlmIHlvdSB3YW50IHRvIHJlbW92ZSBsaXN0ZW5lcnMsIGZhbHNlIGlmIHlvdSB3YW50IHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R8UmVnRXhwfSBldnQgQW4gZXZlbnQgbmFtZSBpZiB5b3Ugd2lsbCBwYXNzIGFuIGFycmF5IG9mIGxpc3RlbmVycyBuZXh0LiBBbiBvYmplY3QgaWYgeW91IHdpc2ggdG8gYWRkL3JlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gW2xpc3RlbmVyc10gQW4gb3B0aW9uYWwgYXJyYXkgb2YgbGlzdGVuZXIgZnVuY3Rpb25zIHRvIGFkZC9yZW1vdmUuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcHJvdG8ubWFuaXB1bGF0ZUxpc3RlbmVycyA9IGZ1bmN0aW9uIG1hbmlwdWxhdGVMaXN0ZW5lcnMocmVtb3ZlLCBldnQsIGxpc3RlbmVycykge1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICB2YXIgc2luZ2xlID0gcmVtb3ZlID8gdGhpcy5yZW1vdmVMaXN0ZW5lciA6IHRoaXMuYWRkTGlzdGVuZXI7XG4gICAgICAgIHZhciBtdWx0aXBsZSA9IHJlbW92ZSA/IHRoaXMucmVtb3ZlTGlzdGVuZXJzIDogdGhpcy5hZGRMaXN0ZW5lcnM7XG5cbiAgICAgICAgLy8gSWYgZXZ0IGlzIGFuIG9iamVjdCB0aGVuIHBhc3MgZWFjaCBvZiBpdHMgcHJvcGVydGllcyB0byB0aGlzIG1ldGhvZFxuICAgICAgICBpZiAodHlwZW9mIGV2dCA9PT0gJ29iamVjdCcgJiYgIShldnQgaW5zdGFuY2VvZiBSZWdFeHApKSB7XG4gICAgICAgICAgICBmb3IgKGkgaW4gZXZ0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2dC5oYXNPd25Qcm9wZXJ0eShpKSAmJiAodmFsdWUgPSBldnRbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBhc3MgdGhlIHNpbmdsZSBsaXN0ZW5lciBzdHJhaWdodCB0aHJvdWdoIHRvIHRoZSBzaW5ndWxhciBtZXRob2RcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2xlLmNhbGwodGhpcywgaSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHBhc3MgYmFjayB0byB0aGUgbXVsdGlwbGUgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlLmNhbGwodGhpcywgaSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gU28gZXZ0IG11c3QgYmUgYSBzdHJpbmdcbiAgICAgICAgICAgIC8vIEFuZCBsaXN0ZW5lcnMgbXVzdCBiZSBhbiBhcnJheSBvZiBsaXN0ZW5lcnNcbiAgICAgICAgICAgIC8vIExvb3Agb3ZlciBpdCBhbmQgcGFzcyBlYWNoIG9uZSB0byB0aGUgbXVsdGlwbGUgbWV0aG9kXG4gICAgICAgICAgICBpID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICBzaW5nbGUuY2FsbCh0aGlzLCBldnQsIGxpc3RlbmVyc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgbGlzdGVuZXJzIGZyb20gYSBzcGVjaWZpZWQgZXZlbnQuXG4gICAgICogSWYgeW91IGRvIG5vdCBzcGVjaWZ5IGFuIGV2ZW50IHRoZW4gYWxsIGxpc3RlbmVycyB3aWxsIGJlIHJlbW92ZWQuXG4gICAgICogVGhhdCBtZWFucyBldmVyeSBldmVudCB3aWxsIGJlIGVtcHRpZWQuXG4gICAgICogWW91IGNhbiBhbHNvIHBhc3MgYSByZWdleCB0byByZW1vdmUgYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBbZXZ0XSBPcHRpb25hbCBuYW1lIG9mIHRoZSBldmVudCB0byByZW1vdmUgYWxsIGxpc3RlbmVycyBmb3IuIFdpbGwgcmVtb3ZlIGZyb20gZXZlcnkgZXZlbnQgaWYgbm90IHBhc3NlZC5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBwcm90by5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uIHJlbW92ZUV2ZW50KGV2dCkge1xuICAgICAgICB2YXIgdHlwZSA9IHR5cGVvZiBldnQ7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLl9nZXRFdmVudHMoKTtcbiAgICAgICAgdmFyIGtleTtcblxuICAgICAgICAvLyBSZW1vdmUgZGlmZmVyZW50IHRoaW5ncyBkZXBlbmRpbmcgb24gdGhlIHN0YXRlIG9mIGV2dFxuICAgICAgICBpZiAodHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBhbGwgbGlzdGVuZXJzIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50XG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW2V2dF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZ0IGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgYWxsIGV2ZW50cyBtYXRjaGluZyB0aGUgcmVnZXguXG4gICAgICAgICAgICBmb3IgKGtleSBpbiBldmVudHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRzLmhhc093blByb3BlcnR5KGtleSkgJiYgZXZ0LnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgZXZlbnRzW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgaW4gYWxsIGV2ZW50c1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBvZiByZW1vdmVFdmVudC5cbiAgICAgKlxuICAgICAqIEFkZGVkIHRvIG1pcnJvciB0aGUgbm9kZSBBUEkuXG4gICAgICovXG4gICAgcHJvdG8ucmVtb3ZlQWxsTGlzdGVuZXJzID0gYWxpYXMoJ3JlbW92ZUV2ZW50Jyk7XG5cbiAgICAvKipcbiAgICAgKiBFbWl0cyBhbiBldmVudCBvZiB5b3VyIGNob2ljZS5cbiAgICAgKiBXaGVuIGVtaXR0ZWQsIGV2ZXJ5IGxpc3RlbmVyIGF0dGFjaGVkIHRvIHRoYXQgZXZlbnQgd2lsbCBiZSBleGVjdXRlZC5cbiAgICAgKiBJZiB5b3UgcGFzcyB0aGUgb3B0aW9uYWwgYXJndW1lbnQgYXJyYXkgdGhlbiB0aG9zZSBhcmd1bWVudHMgd2lsbCBiZSBwYXNzZWQgdG8gZXZlcnkgbGlzdGVuZXIgdXBvbiBleGVjdXRpb24uXG4gICAgICogQmVjYXVzZSBpdCB1c2VzIGBhcHBseWAsIHlvdXIgYXJyYXkgb2YgYXJndW1lbnRzIHdpbGwgYmUgcGFzc2VkIGFzIGlmIHlvdSB3cm90ZSB0aGVtIG91dCBzZXBhcmF0ZWx5LlxuICAgICAqIFNvIHRoZXkgd2lsbCBub3QgYXJyaXZlIHdpdGhpbiB0aGUgYXJyYXkgb24gdGhlIG90aGVyIHNpZGUsIHRoZXkgd2lsbCBiZSBzZXBhcmF0ZS5cbiAgICAgKiBZb3UgY2FuIGFsc28gcGFzcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBlbWl0IHRvIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGVtaXQgYW5kIGV4ZWN1dGUgbGlzdGVuZXJzIGZvci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnc10gT3B0aW9uYWwgYXJyYXkgb2YgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byBlYWNoIGxpc3RlbmVyLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLmVtaXRFdmVudCA9IGZ1bmN0aW9uIGVtaXRFdmVudChldnQsIGFyZ3MpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyc01hcCA9IHRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoZXZ0KTtcbiAgICAgICAgdmFyIGxpc3RlbmVycztcbiAgICAgICAgdmFyIGxpc3RlbmVyO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgdmFyIHJlc3BvbnNlO1xuXG4gICAgICAgIGZvciAoa2V5IGluIGxpc3RlbmVyc01hcCkge1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyc01hcC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzTWFwW2tleV0uc2xpY2UoMCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBsaXN0ZW5lciByZXR1cm5zIHRydWUgdGhlbiBpdCBzaGFsbCBiZSByZW1vdmVkIGZyb20gdGhlIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBmdW5jdGlvbiBpcyBleGVjdXRlZCBlaXRoZXIgd2l0aCBhIGJhc2ljIGNhbGwgb3IgYW4gYXBwbHkgaWYgdGhlcmUgaXMgYW4gYXJncyBhcnJheVxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIub25jZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihldnQsIGxpc3RlbmVyLmxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gbGlzdGVuZXIubGlzdGVuZXIuYXBwbHkodGhpcywgYXJncyB8fCBbXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlID09PSB0aGlzLl9nZXRPbmNlUmV0dXJuVmFsdWUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihldnQsIGxpc3RlbmVyLmxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBvZiBlbWl0RXZlbnRcbiAgICAgKi9cbiAgICBwcm90by50cmlnZ2VyID0gYWxpYXMoJ2VtaXRFdmVudCcpO1xuXG4gICAgLyoqXG4gICAgICogU3VidGx5IGRpZmZlcmVudCBmcm9tIGVtaXRFdmVudCBpbiB0aGF0IGl0IHdpbGwgcGFzcyBpdHMgYXJndW1lbnRzIG9uIHRvIHRoZSBsaXN0ZW5lcnMsIGFzIG9wcG9zZWQgdG8gdGFraW5nIGEgc2luZ2xlIGFycmF5IG9mIGFyZ3VtZW50cyB0byBwYXNzIG9uLlxuICAgICAqIEFzIHdpdGggZW1pdEV2ZW50LCB5b3UgY2FuIHBhc3MgYSByZWdleCBpbiBwbGFjZSBvZiB0aGUgZXZlbnQgbmFtZSB0byBlbWl0IHRvIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIGVtaXQgYW5kIGV4ZWN1dGUgbGlzdGVuZXJzIGZvci5cbiAgICAgKiBAcGFyYW0gey4uLip9IE9wdGlvbmFsIGFkZGl0aW9uYWwgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byBlYWNoIGxpc3RlbmVyLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2dCkge1xuICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgIHJldHVybiB0aGlzLmVtaXRFdmVudChldnQsIGFyZ3MpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHZhbHVlIHRvIGNoZWNrIGFnYWluc3Qgd2hlbiBleGVjdXRpbmcgbGlzdGVuZXJzLiBJZiBhXG4gICAgICogbGlzdGVuZXJzIHJldHVybiB2YWx1ZSBtYXRjaGVzIHRoZSBvbmUgc2V0IGhlcmUgdGhlbiBpdCB3aWxsIGJlIHJlbW92ZWRcbiAgICAgKiBhZnRlciBleGVjdXRpb24uIFRoaXMgdmFsdWUgZGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIG5ldyB2YWx1ZSB0byBjaGVjayBmb3Igd2hlbiBleGVjdXRpbmcgbGlzdGVuZXJzLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHByb3RvLnNldE9uY2VSZXR1cm5WYWx1ZSA9IGZ1bmN0aW9uIHNldE9uY2VSZXR1cm5WYWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9vbmNlUmV0dXJuVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdGhlIGN1cnJlbnQgdmFsdWUgdG8gY2hlY2sgYWdhaW5zdCB3aGVuIGV4ZWN1dGluZyBsaXN0ZW5lcnMuIElmXG4gICAgICogdGhlIGxpc3RlbmVycyByZXR1cm4gdmFsdWUgbWF0Y2hlcyB0aGlzIG9uZSB0aGVuIGl0IHNob3VsZCBiZSByZW1vdmVkXG4gICAgICogYXV0b21hdGljYWxseS4gSXQgd2lsbCByZXR1cm4gdHJ1ZSBieSBkZWZhdWx0LlxuICAgICAqXG4gICAgICogQHJldHVybiB7KnxCb29sZWFufSBUaGUgY3VycmVudCB2YWx1ZSB0byBjaGVjayBmb3Igb3IgdGhlIGRlZmF1bHQsIHRydWUuXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdG8uX2dldE9uY2VSZXR1cm5WYWx1ZSA9IGZ1bmN0aW9uIF9nZXRPbmNlUmV0dXJuVmFsdWUoKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KCdfb25jZVJldHVyblZhbHVlJykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbmNlUmV0dXJuVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIHRoZSBldmVudHMgb2JqZWN0IGFuZCBjcmVhdGVzIG9uZSBpZiByZXF1aXJlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGV2ZW50cyBzdG9yYWdlIG9iamVjdC5cbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90by5fZ2V0RXZlbnRzID0gZnVuY3Rpb24gX2dldEV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V2ZW50cyB8fCAodGhpcy5fZXZlbnRzID0ge30pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnRzIHRoZSBnbG9iYWwge0BsaW5rIEV2ZW50RW1pdHRlcn0gdG8gaXRzIHByZXZpb3VzIHZhbHVlIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoaXMgdmVyc2lvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBOb24gY29uZmxpY3RpbmcgRXZlbnRFbWl0dGVyIGNsYXNzLlxuICAgICAqL1xuICAgIEV2ZW50RW1pdHRlci5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICAgICAgZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBvcmlnaW5hbEdsb2JhbFZhbHVlO1xuICAgICAgICByZXR1cm4gRXZlbnRFbWl0dGVyO1xuICAgIH07XG5cbiAgICAvLyBFeHBvc2UgdGhlIGNsYXNzIGVpdGhlciB2aWEgQU1ELCBDb21tb25KUyBvciB0aGUgZ2xvYmFsIG9iamVjdFxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBFdmVudEVtaXR0ZXI7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyl7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG4gICAgfVxufSh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMgfHwge30pKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV90aHJlZV9fOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJleHBvcnQgKiBmcm9tICcuL2NvcmUvQmFzZUxheWVyJztcclxuZXhwb3J0ICogZnJvbSAnLi9jb3JlL0NvbnRyb2xsZXInO1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi91dGlscy9BbmltYXRvcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vdXRpbHMvQmFja2dyb3VuZCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdXRpbHMvQmxlbmRlckNvbm5lY3Rvcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vdXRpbHMvUG9pbnRlcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vdXRpbHMvRE9NTWVzaCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdXRpbHMvRWFzaW5ncyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdXRpbHMvRXZlbnREaXNwYXRjaGVyJztcclxuZXhwb3J0ICogZnJvbSAnLi91dGlscy9HUFVDb21wdXRhdGlvbkNvbnRyb2xsZXInO1xyXG5leHBvcnQgKiBmcm9tICcuL3V0aWxzL01vdXNlUm90YXRvcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vdXRpbHMvUG9zdFByb2Nlc3NpbmcnO1xyXG5leHBvcnQgKiBmcm9tICcuL3V0aWxzL1BhZ2VTY3JvbGxlcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vdXRpbHMvUGFnZVNjcm9sbGVyL1BhZ2VTY3JvbGxlclNlY3Rpb24nO1xyXG5leHBvcnQgKiBmcm9tICcuL3V0aWxzL0xheW91dENvbnRyb2xsZXInO1xyXG5leHBvcnQgKiBmcm9tICcuL3V0aWxzL1RpbWVsaW5lQW5pbWF0b3InO1xyXG5leHBvcnQgKiBmcm9tICcuL3V0aWxzL1VuaWZvcm1zJztcclxuZXhwb3J0ICogZnJvbSAnLi91dGlscy9MZXJwcyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdXRpbHMvV2FpdE1hbic7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==