import{c as l,O as h,M as c,P as f,d,S as v}from"./Uniforms.1c993ea0.js";const m=`#define GLSLIFY 1
varying vec2 vUv;void main(){vUv=uv;gl_Position=vec4(position,1.0);}`;class S{constructor(t,e,n){this.renderer=t,this.scene=new l,this.camera=new h(-1,1,1,-1),this.screen=new c(n||new f(2,2)),this.scene.add(this.screen),e.vertexShader=e.vertexShader||m,e.uniforms=e.uniforms||{},e.uniforms.resolution={value:new d},this.effect={material:new v(e)}}render(t,e=null){let n=this.renderer.getRenderTarget(),a=this.effect,o=a.material,r=o.uniforms;if(t){let i=Object.keys(t);for(let s=0;s<i.length;s++)r[i[s]]?r[i[s]].value=t[i[s]]:(r[i[s]]={value:t[i[s]]},a.material.needsUpdate=!0,a.material.uniforms=r)}e?r.resolution.value.set(e.width,e.height):this.renderer.getSize(r.resolution.value),this.screen.material=o,this.renderer.setRenderTarget(e),this.renderer.render(this.scene,this.camera),this.renderer.setRenderTarget(n)}}export{S as P};
